<html>
  <head>
    <meta
      property="og:image"
      content="https://cdn.lotterybox.com/mobile/assets/share.png"
    />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover"
    />
  </head>
  <script src="https://unpkg.com/vconsole@latest/dist/vconsole.min.js"></script>
  <script>
    var bridge = {
      default: this,
      call: function (b, a, c) {
        var e = "";
        "function" == typeof a && ((c = a), (a = {}));
        a = { data: void 0 === a ? null : a };
        if ("function" == typeof c) {
          var g = "dscb" + window.dscb++;
          window[g] = c;
          a._dscbstub = g;
        }
        a = JSON.stringify(a);
        if (window._dsbridge) e = _dsbridge.call(b, a);
        else if (window._dswk || -1 != navigator.userAgent.indexOf("_dsbridge"))
          e = prompt("_dsbridge=" + b, a);
        return JSON.parse(e || "{}").data;
      },
      register: function (b, a, c) {
        c = c ? window._dsaf : window._dsf;
        window._dsInit ||
          ((window._dsInit = !0),
          setTimeout(function () {
            bridge.call("_dsb.dsinit");
          }, 0));
        "object" == typeof a ? (c._obs[b] = a) : (c[b] = a);
      },
      registerAsyn: function (b, a) {
        this.register(b, a, !0);
      },
      hasNativeMethod: function (b, a) {
        return this.call("_dsb.hasNativeMethod", { name: b, type: a || "all" });
      },
      disableJavascriptDialogBlock: function (b) {
        this.call("_dsb.disableJavascriptDialogBlock", { disable: !1 !== b });
      },
    };
    !(function () {
      if (!window._dsf) {
        var b = {
            _dsf: { _obs: {} },
            _dsaf: { _obs: {} },
            dscb: 0,
            dsBridge: bridge,
            close: function () {
              bridge.call("_dsb.closePage");
            },
            _handleMessageFromNative: function (a) {
              var e = JSON.parse(a.data),
                b = { id: a.callbackId, complete: !0 },
                c = this._dsf[a.method],
                d = this._dsaf[a.method],
                h = function (a, c) {
                  b.data = a.apply(c, e);
                  bridge.call("_dsb.returnValue", b);
                },
                k = function (a, c) {
                  e.push(function (a, c) {
                    b.data = a;
                    b.complete = !1 !== c;
                    bridge.call("_dsb.returnValue", b);
                  });
                  a.apply(c, e);
                };
              if (c) h(c, this._dsf);
              else if (d) k(d, this._dsaf);
              else if (((c = a.method.split(".")), !(2 > c.length))) {
                a = c.pop();
                var c = c.join("."),
                  d = this._dsf._obs,
                  d = d[c] || {},
                  f = d[a];
                f && "function" == typeof f
                  ? h(f, d)
                  : ((d = this._dsaf._obs),
                    (d = d[c] || {}),
                    (f = d[a]) && "function" == typeof f && k(f, d));
              }
            },
          },
          a;
        for (a in b) window[a] = b[a];
        bridge.register("_hasJavascriptMethod", function (a, b) {
          b = a.split(".");
          if (2 > b.length) return !(!_dsf[b] && !_dsaf[b]);
          a = b.pop();
          b = b.join(".");
          return (b = _dsf._obs[b] || _dsaf._obs[b]) && !!b[a];
        });
      }
    })();
  </script>
  <style type="text/css">
    div {
      margin-top: 10px;
    }
    button {
      display: block;
      width: 100%;
      height: 48px;
    }
  </style>
  <body>
    <div>
      <button onclick="startGame()">开始游戏</button>
    </div>
    <div>
      <button onclick="startGame2()">开始游戏2</button>
    </div>
    <div>
      <button onclick="getToken()">getToken:</button>
      <span id="token"></span>
    </div>
    <div>
      <button onclick="toRecharge()">toRecharge</button>
    </div>
    <div>
      <button onclick="toWithdraw()">toWithdraw</button>
    </div>
    <div>
      <button onclick="toLogin()">toLogin</button>
    </div>
    <div>
      <button onclick="toShare({title:'你好'})">toShare1</button>
    </div>
    <div>
      <button
        onclick="toShare({img:'https://pics4.baidu.com/feed/37d12f2eb9389b5033f1e6d612fbdbd1e6116e06.jpeg@f_auto?token=e33f314284b60792d339829c935f3f76'})"
      >
        toShare2
      </button>
    </div>
    <div>
      <button
        onclick="toShare({title:'你好',img:'https://pics4.baidu.com/feed/37d12f2eb9389b5033f1e6d612fbdbd1e6116e06.jpeg@f_auto?token=e33f314284b60792d339829c935f3f76'})"
      >
        toShare3
      </button>
    </div>
    <div>
      <button
        onclick="toShare({title:'你好',img:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAABAlJREFUSEudVltsFGUU/r6ZdjVekpJQ293FEAkK8cFXLoZaUGui1u62dgPdrcErCTyYGJ8UE2LUF0VfTARjYnQvNYXdma3yoAkBFCyEh/LkhdZLgM62QGJFNLDLzDEz7NRud3Z26v/4n+9y5sz/n/8QzZYIO0e0LsViL8D1gNwLoA2EiGCOgkmQ4yL4sjQcOw5A/CTpFwxn9DiBdwBZ2yyvavwHUH3NSD5VbIT3NAxn8yspahqQTQGNFsO+Q6glZSR6zy0O1BmG0/omUg4CuOt/mrm0i1BaBoyhXrvM86vG8O5sscuE9Q0Et3iYWQCOgBwD5ZxAuUZTwqB0AUgAuK2OQ1xXofScT/Z968bmDTs+H7tHVc1TELQvJgrwOxUZNob6a7J1cSvT+XCF6heAY167iEumWVk3+0ziNzswbxjJ6OOArPf4sgsoc6PxXOy8X4nbR0fvaC2HJgBZ7WE6biTjG+cNoxn9aYEc8BK0VOXJmW19h9xYZ67wkGJxQIA/qSoFY1vfhBuL5vQdYsk+Lx2Cg9Op2EH7NjGS03+C4L46oOCsMRxf4+6H0/oLpCOoVvcsUtk6nexzkm0fLa5uLVuTnpWwtVKxtexMa90KccQTRPnESPa/aMeWp/PhEJQpsO5wHDZS8UccTLF4Z+gv60qj0luCzYxk9Xch8qoXSIiPS8n4DjsWzWrbRfCpB+4zIxXfbu93ZPOrVFF+afivyfcYyRSOA3ywAegqiZ0ClgDshcgDNThy4p+ybJl7Nj7nJJXW3hDizcaHS04wnNFmCHT4nUDvckOvtFaGLyUSV+14JKP1ACwCcmsjLQFmGclo1wGElmJIcP/01Jmd2LPHbgaI5AqPwqLueflrhctLNiRwejpU2YBEwnTMstrzEPkIYGuApB3D2aX0TVG4uzQUe9sWr/bdYwsbSBPTi7bhCQBOFwiyCNk9neqvGmovkdgfhFfFfM9wVttLwStBSXZJ/74dPW1zc9cqoWV5EXk8KFeI9xnNFbaIxcNBSVVcGYIbHk3AV4aKPOy2tp8hsEeHQEtEZkjaJzQSiHATNGkkY2uc1yKaLQ6KWKNByELuKw317bJnl2hO/0AELwfhkUrC7rlBnqcaPWmR+0tb+3+0N503VDF/bW7Ik0YqtsHG/fcAZ79apcqNU4As9xNwM3XuYE7vhSVj/oa8bNJcN5sccBKrGTFWjGjdlomv/TqPAFdAfggRi+AuQJb5GJYVwWMXhuNHXUzdELUirXVb5IFmX9q8jLisCAYXmtV9oSvScbO82QYjRwAvnjRpJt0yLiT4DsLRtJYQBW8FvjLEWQpft0eJRln5GjokEUZHtM2W8AkK7CHLHpLanBDwByFToDJuWXJoJhU7BtJ31P8XI5qYUVv58RYAAAAASUVORK5CYII='})"
      >
        toShare4
      </button>
    </div>
  </body>
  <script>
    new window.VConsole();

    console.log(dsBridge.call("Native.getToken"));

    function startGame() {
      location.href = "https://qa-13.232.26.141.nip.io/dist/?app=1";
    }
    function startGame() {
      location.href = "https://qa-13.232.26.141.nip.io/dist/?app=1#/login";
    }
    function getToken() {
      const token = dsBridge.call("Native.getToken");
      document.querySelector("#token").innerHTML = token;
      console.log(token);
    }
    function toRecharge() {
      dsBridge.call("Native.toRecharge");
    }
    function toWithdraw() {
      dsBridge.call("Native.toWithdraw");
    }
    function toLogin() {
      dsBridge.call("Native.toLogin");
    }
    function toShare(data) {
      console.log(data);
      dsBridge.call("Native.toShare", JSON.stringify(data));
    }
  </script>
</html>
