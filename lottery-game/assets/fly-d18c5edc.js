import{t as S,a as j,i as A,u as k}from"./index-24b6a20c.js";import{s as o,u as z,r,i as B,o as W,_ as F,w as R,a as h,c as x,b as v,n as g,E as d,t as O,F as D,d as C}from"./index-d16c931b.js";function $(t){var e;const a=j(t);return(e=a==null?void 0:a.$el)!=null?e:a}const V=A?window:void 0;function H(){const t=r(!1);return B()&&W(()=>{t.value=!0}),t}function L(t){const e=H();return o(()=>(e.value,Boolean(t())))}var M=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,q=(t,e)=>{var a={};for(var n in t)N.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&M)for(var n of M(t))e.indexOf(n)<0&&Q.call(t,n)&&(a[n]=t[n]);return a};function G(t,e,a={}){const n=a,{window:l=V}=n,b=q(n,["window"]);let i;const f=L(()=>l&&"ResizeObserver"in l),p=()=>{i&&(i.disconnect(),i=void 0)},_=o(()=>Array.isArray(t)?t.map(u=>$(u)):[$(t)]),m=z(_,u=>{if(p(),f.value&&l){i=new ResizeObserver(e);for(const c of u)c&&i.observe(c,b)}},{immediate:!0,flush:"post",deep:!0}),s=()=>{p(),m()};return S(s),{isSupported:f,stop:s}}const J={class:"fly"},K={class:"stage"},T={class:"odds"},U=["width","height"],X=["d"],Y={class:"time-axis-box"},Z={__name:"fly",setup(t){const e=r(375),a=r(0),n=r(20),l=r(0),b=r(50),i=r(30),f=o(()=>(a.value-4)*c.value),p=o(()=>e.value),_=o(()=>({x:0,y:e.value})),m=o(()=>({x:a.value*c.value,y:e.value-l.value*P.value})),s=o(()=>({x:Math.min(m.value.x,e.value-b.value),y:Math.max(i.value,m.value.y)})),u=o(()=>{const y=.5+a.value/n.value*.5;return console.log(y),{x:s.value.x*y,y:(_.value.y-s.value.y)*y+s.value.y}}),c=o(()=>(e.value-20)/4),P=o(()=>e.value/4),w=r("");R(()=>{w.value=`M${_.value.x},${_.value.y} Q${u.value.x},${u.value.y} ${s.value.x},${s.value.y}`}),W(()=>{e.value=document.body.clientWidth}),G(document.body,()=>{e.value=document.body.clientWidth});const E=k(()=>{a.value+=.1,l.value+=parseInt(Math.random()*2)*.1,a.value>=n.value&&E.pause(),a.value=Math.min(a.value,e.value),l.value=Math.min(l.value,e.value)},100);return(y,ee)=>(h(),x("div",J,[v("div",K,[v("img",{class:"airplane",src:"https://bpic.588ku.com/element_origin_min_pic/17/11/16/17c07e3321595d2d0ab9790459c17e9c.jpg",style:g({left:d(s).x+"px",top:d(s).y-30+"px"})},null,4),v("div",T,O(l.value.toFixed(2))+"x",1),(h(),x("svg",{width:d(p),height:d(p)},[v("path",{d:w.value,fill:"none",stroke:"red"},null,8,X)],8,U)),v("div",Y,[v("div",{class:"time-axis",style:g({transform:"translate3d(-"+d(f)+"px,0,0)"})},[(h(!0),x(D,null,C(n.value+4,I=>(h(),x("div",{class:"time-axis-item",style:g({width:d(c)+"px"})},O(I-1)+"s",5))),256))],4)])])]))}},ne=F(Z,[["__scopeId","data-v-1aaab00a"]]);export{ne as default};
