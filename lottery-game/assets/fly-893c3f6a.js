import{t as L,a as V,i as D,u as N}from"./index-c6bd1290.js";import{s as i,u as H,r as o,i as Q,o as B,_ as T,w as W,a as v,c,b as r,n as b,E as p,t as O,F as I,d as E,e as A}from"./index-152a4883.js";function j(t){var e;const a=V(t);return(e=a==null?void 0:a.$el)!=null?e:a}const q=D?window:void 0;function G(){const t=o(!1);return Q()&&B(()=>{t.value=!0}),t}function J(t){const e=G();return i(()=>(e.value,Boolean(t())))}var z=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,X=(t,e)=>{var a={};for(var s in t)K.call(t,s)&&e.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&z)for(var s of z(t))e.indexOf(s)<0&&U.call(t,s)&&(a[s]=t[s]);return a};function Y(t,e,a={}){const s=a,{window:n=q}=s,M=X(s,["window"]);let d;const g=J(()=>n&&"ResizeObserver"in n),_=()=>{d&&(d.disconnect(),d=void 0)},h=i(()=>Array.isArray(t)?t.map(l=>j(l)):[j(t)]),w=H(h,l=>{if(_(),g.value&&n){d=new ResizeObserver(e);for(const y of l)y&&d.observe(y,M)}},{immediate:!0,flush:"post",deep:!0}),f=()=>{_(),w()};return L(f),{isSupported:g,stop:f}}const Z={class:"fly"},ee={class:"stage"},te={class:"odds"},ae={class:"time-axis"},se={key:0},ne={class:"odds-axis"},oe={key:0},le=["width","height"],ue=["d"],ie=["d"],re={__name:"fly",setup(t){const e=o(375),a=o(0),s=o(40),n=o(1),M=o(100),d=o(50),g=o(30);i(()=>(a.value-4)*h.value);const _=o(10),h=i(()=>(e.value-_.value*2)/Math.max(2,a.value)),w=i(()=>(e.value-_.value*2)/Math.max(4,n.value)),f=i(()=>e.value),l=i(()=>({x:0,y:e.value})),y=i(()=>({x:a.value*h.value,y:e.value-(n.value-1)*w.value})),u=i(()=>({x:Math.min(y.value.x,e.value-d.value),y:Math.max(g.value,y.value.y)})),k=i(()=>({x:u.value.x*.7,y:(l.value.y-u.value.y)*.7+u.value.y}));function F(m){if(!a.value)return!0;const $=Math.ceil(a.value/8);return m%$===0}function R(m){if(!n.value)return!0;const $=Math.ceil(n.value/8);return(m-1)%$===0}const P=o("");W(()=>{P.value=`M${l.value.x},${l.value.y} Q${k.value.x},${k.value.y} ${u.value.x},${u.value.y}`});const S=o("");W(()=>{S.value=`M${l.value.x},${l.value.y} L${u.value.x},${l.value.y} L${u.value.x},${u.value.y}`}),B(()=>{e.value=document.body.clientWidth}),Y(document.body,()=>{e.value=document.body.clientWidth});const C=N(()=>{a.value+=.1,n.value+=.05,a.value>=s.value&&C.pause(),a.value=Math.min(a.value,e.value),n.value=Math.min(n.value,e.value)},100);return(m,$)=>(v(),c("div",Z,[r("div",ee,[r("img",{class:"airplane",src:"https://bpic.588ku.com/element_origin_min_pic/17/11/16/17c07e3321595d2d0ab9790459c17e9c.jpg",style:b({left:p(u).x+"px",top:p(u).y-30+"px"})},null,4),r("div",te,O(n.value.toFixed(2))+"x",1),r("div",{class:"time-axis-box",style:b({width:e.value+"px"})},[r("div",ae,[(v(!0),c(I,null,E(s.value,x=>(v(),c("div",{class:"time-axis-item",style:b({width:p(h)+"px"})},[F(x-1)?(v(),c("span",se,O(x-1)+"s",1)):A("",!0)],4))),256))])],4),r("div",{class:"odds-axis-box",style:b({height:e.value+"px"})},[r("div",ne,[(v(!0),c(I,null,E(M.value,x=>(v(),c("div",{class:"odds-axis-item",style:b({height:p(w)+"px"})},[R(x)?(v(),c("span",oe,O(x)+"x",1)):A("",!0)],4))),256))])],4),(v(),c("svg",{width:p(f),height:p(f)},[r("path",{d:S.value,fill:"pink",stroke:"pink"},null,8,ue),r("path",{d:P.value,fill:"#dff0ff",stroke:"red"},null,8,ie)],8,le))])]))}},de=T(re,[["__scopeId","data-v-e1225104"]]);export{de as default};
