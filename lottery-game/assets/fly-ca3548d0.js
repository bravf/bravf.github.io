import{t as R,a as C,i as V,u as D}from"./index-3780982e.js";import{s as i,u as N,r as o,i as H,o as j,_ as L,w as Q,a as l,c as u,b as r,n as O,E as _,t as $,F as W,d as I,e as E}from"./index-3463eda1.js";function k(t){var e;const a=C(t);return(e=a==null?void 0:a.$el)!=null?e:a}const T=V?window:void 0;function q(){const t=o(!1);return H()&&j(()=>{t.value=!0}),t}function G(t){const e=q();return i(()=>(e.value,Boolean(t())))}var A=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,U=(t,e)=>{var a={};for(var s in t)J.call(t,s)&&e.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&A)for(var s of A(t))e.indexOf(s)<0&&K.call(t,s)&&(a[s]=t[s]);return a};function X(t,e,a={}){const s=a,{window:n=T}=s,M=U(s,["window"]);let c;const g=G(()=>n&&"ResizeObserver"in n),p=()=>{c&&(c.disconnect(),c=void 0)},h=i(()=>Array.isArray(t)?t.map(d=>k(d)):[k(t)]),f=N(h,d=>{if(p(),g.value&&n){c=new ResizeObserver(e);for(const y of d)y&&c.observe(y,M)}},{immediate:!0,flush:"post",deep:!0}),m=()=>{p(),f()};return R(m),{isSupported:g,stop:m}}const Y={class:"fly"},Z={class:"stage"},ee={class:"odds"},te={class:"time-axis-box"},ae={class:"time-axis"},se={key:0},ne={class:"odds-axis-box"},oe={class:"odds-axis"},ie={key:0},le=["width","height"],ue=["d"],re={__name:"fly",setup(t){const e=o(375),a=o(0),s=o(40),n=o(1),M=o(100),c=o(50),g=o(30);i(()=>(a.value-4)*h.value);const p=o(10),h=i(()=>(e.value-p.value*2)/Math.max(2,a.value)),f=i(()=>(e.value-p.value*2)/Math.max(4,n.value)),m=i(()=>e.value),d=i(()=>({x:0,y:e.value-f.value})),y=i(()=>({x:a.value*h.value,y:e.value-n.value*f.value})),v=i(()=>({x:Math.min(y.value.x,e.value-c.value),y:Math.max(g.value,y.value.y)})),P=i(()=>({x:v.value.x*.7,y:(d.value.y-v.value.y)*.7+v.value.y}));function z(x){if(!a.value)return!0;const w=Math.ceil(a.value/8);return x%w===0}function B(x){if(!n.value)return!0;const w=Math.ceil(n.value/8);return x%w===0}const S=o("");Q(()=>{S.value=`M${d.value.x},${d.value.y} Q${P.value.x},${P.value.y} ${v.value.x},${v.value.y}`}),j(()=>{e.value=document.body.clientWidth}),X(document.body,()=>{e.value=document.body.clientWidth});const F=D(()=>{a.value+=.1,n.value+=.05,a.value>=s.value&&F.pause(),a.value=Math.min(a.value,e.value),n.value=Math.min(n.value,e.value)},100);return(x,w)=>(l(),u("div",Y,[r("div",Z,[r("img",{class:"airplane",src:"https://bpic.588ku.com/element_origin_min_pic/17/11/16/17c07e3321595d2d0ab9790459c17e9c.jpg",style:O({left:_(v).x+"px",top:_(v).y-30+"px"})},null,4),r("div",ee,$(n.value.toFixed(2))+"x",1),r("div",te,[r("div",ae,[(l(!0),u(W,null,I(s.value,b=>(l(),u("div",{class:"time-axis-item",style:O({width:_(h)+"px"})},[z(b-1)?(l(),u("span",se,$(b-1)+"s",1)):E("",!0)],4))),256))])]),r("div",ne,[r("div",oe,[(l(!0),u(W,null,I(M.value,b=>(l(),u("div",{class:"odds-axis-item",style:O({height:_(f)+"px"})},[B(b)?(l(),u("span",ie,$(b)+"x",1)):E("",!0)],4))),256))])]),(l(),u("svg",{width:_(m),height:_(m)},[r("path",{d:S.value,fill:"none",stroke:"red"},null,8,ue)],8,le))])]))}},ve=L(re,[["__scopeId","data-v-324341f6"]]);export{ve as default};
