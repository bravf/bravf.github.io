import{t as R,a as C,i as V,u as D}from"./index-1e9ed7ed.js";import{s as l,u as N,r as o,i as H,o as j,_ as L,w as Q,a as i,c as u,b as r,n as g,E as p,t as $,F as W,d as I,e as E}from"./index-7eae5b65.js";function k(t){var e;const a=C(t);return(e=a==null?void 0:a.$el)!=null?e:a}const T=V?window:void 0;function q(){const t=o(!1);return H()&&j(()=>{t.value=!0}),t}function G(t){const e=q();return l(()=>(e.value,Boolean(t())))}var A=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,U=(t,e)=>{var a={};for(var s in t)J.call(t,s)&&e.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&A)for(var s of A(t))e.indexOf(s)<0&&K.call(t,s)&&(a[s]=t[s]);return a};function X(t,e,a={}){const s=a,{window:n=T}=s,O=U(s,["window"]);let c;const w=G(()=>n&&"ResizeObserver"in n),_=()=>{c&&(c.disconnect(),c=void 0)},h=l(()=>Array.isArray(t)?t.map(d=>k(d)):[k(t)]),f=N(h,d=>{if(_(),w.value&&n){c=new ResizeObserver(e);for(const y of d)y&&c.observe(y,O)}},{immediate:!0,flush:"post",deep:!0}),m=()=>{_(),f()};return R(m),{isSupported:w,stop:m}}const Y={class:"fly"},Z={class:"stage"},ee={class:"odds"},te={class:"time-axis"},ae={key:0},se={class:"odds-axis"},ne={key:0},oe=["width","height"],le=["d"],ie={__name:"fly",setup(t){const e=o(375),a=o(0),s=o(40),n=o(1),O=o(100),c=o(50),w=o(30);l(()=>(a.value-4)*h.value);const _=o(10),h=l(()=>(e.value-_.value*2)/Math.max(2,a.value)),f=l(()=>(e.value-_.value*2)/Math.max(4,n.value)),m=l(()=>e.value),d=l(()=>({x:0,y:e.value-f.value})),y=l(()=>({x:a.value*h.value,y:e.value-n.value*f.value})),v=l(()=>({x:Math.min(y.value.x,e.value-c.value),y:Math.max(w.value,y.value.y)})),P=l(()=>({x:v.value.x*.7,y:(d.value.y-v.value.y)*.7+v.value.y}));function z(x){if(!a.value)return!0;const M=Math.ceil(a.value/8);return x%M===0}function B(x){if(!n.value)return!0;const M=Math.ceil(n.value/8);return x%M===0}const S=o("");Q(()=>{S.value=`M${d.value.x},${d.value.y} Q${P.value.x},${P.value.y} ${v.value.x},${v.value.y}`}),j(()=>{e.value=document.body.clientWidth}),X(document.body,()=>{e.value=document.body.clientWidth});const F=D(()=>{a.value+=.1,n.value+=.05,a.value>=s.value&&F.pause(),a.value=Math.min(a.value,e.value),n.value=Math.min(n.value,e.value)},100);return(x,M)=>(i(),u("div",Y,[r("div",Z,[r("img",{class:"airplane",src:"https://bpic.588ku.com/element_origin_min_pic/17/11/16/17c07e3321595d2d0ab9790459c17e9c.jpg",style:g({left:p(v).x+"px",top:p(v).y-30+"px"})},null,4),r("div",ee,$(n.value.toFixed(2))+"x",1),r("div",{class:"time-axis-box",style:g({width:e.value+"px"})},[r("div",te,[(i(!0),u(W,null,I(s.value,b=>(i(),u("div",{class:"time-axis-item",style:g({width:p(h)+"px"})},[z(b-1)?(i(),u("span",ae,$(b-1)+"s",1)):E("",!0)],4))),256))])],4),r("div",{class:"odds-axis-box",style:g({height:e.value+"px"})},[r("div",se,[(i(!0),u(W,null,I(O.value,b=>(i(),u("div",{class:"odds-axis-item",style:g({height:p(f)+"px"})},[B(b)?(i(),u("span",ne,$(b)+"x",1)):E("",!0)],4))),256))])],4),(i(),u("svg",{width:p(m),height:p(m)},[r("path",{d:S.value,fill:"none",stroke:"red"},null,8,le)],8,oe))])]))}},ce=L(ie,[["__scopeId","data-v-ed1abd6a"]]);export{ce as default};
