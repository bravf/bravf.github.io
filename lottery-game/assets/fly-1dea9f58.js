import{u as z}from"./index-a6fc9c3b.js";import{_ as N,r as s,s as i,w,o as O,a as n,c as o,b as t,n as h,E as c,t as m,F as W,d as I,e as P}from"./index-a785f07f.js";import{u as V}from"./index-859590d4.js";const j={class:"fly"},C={class:"stage"},D={class:"odds"},H={class:"time-axis"},Q={key:0},R={class:"odds-axis"},T={key:0},q=["width","height"],G={id:"mask1"},J=["d"],K=["d"],U=["d"],X={__name:"fly",setup(Y){const e=s(375),l=s(0),p=s(40),u=s(1),A=s(100),E=s(50),F=s(30),y=s(10),f=i(()=>(e.value-y.value*2)/Math.max(2,l.value)),g=i(()=>(e.value-y.value*2)/Math.max(4,u.value)),b=i(()=>e.value),d=i(()=>({x:0,y:e.value})),M=i(()=>({x:l.value*f.value,y:e.value-(u.value-1)*g.value})),a=i(()=>({x:Math.min(M.value.x,e.value-E.value),y:Math.max(F.value,M.value.y)})),$=i(()=>({x:a.value.x*.7,y:(d.value.y-a.value.y)*.7+a.value.y}));function S(v){if(!l.value)return!0;const _=Math.ceil(l.value/8);return v%_===0}function B(v){if(!u.value)return!0;const _=Math.ceil(u.value/8);return(v-1)%_===0}const k=s("");w(()=>{k.value=`M${d.value.x},${d.value.y} Q${$.value.x},${$.value.y} ${a.value.x},${a.value.y}`});const x=s("");w(()=>{x.value=`M${d.value.x},${d.value.y} L${a.value.x},${d.value.y} L${a.value.x},${a.value.y}`}),O(()=>{e.value=document.body.clientWidth}),z(document.body,()=>{e.value=document.body.clientWidth});const L=V(()=>{l.value+=.1,u.value+=.05,l.value>=p.value&&L.pause(),l.value=Math.min(l.value,e.value),u.value=Math.min(u.value,e.value)},100);return(v,_)=>(n(),o("div",j,[t("div",C,[t("img",{class:"airplane",src:"https://bpic.588ku.com/element_origin_min_pic/17/11/16/17c07e3321595d2d0ab9790459c17e9c.jpg",style:h({left:c(a).x+"px",top:c(a).y-30+"px"})},null,4),t("div",D,m(u.value.toFixed(2))+"x",1),t("div",{class:"time-axis-box",style:h({width:e.value+"px"})},[t("div",H,[(n(!0),o(W,null,I(p.value,r=>(n(),o("div",{class:"time-axis-item",style:h({width:c(f)+"px"})},[S(r-1)?(n(),o("span",Q,m(r-1)+"s",1)):P("",!0)],4))),256))])],4),t("div",{class:"odds-axis-box",style:h({height:e.value+"px"})},[t("div",R,[(n(!0),o(W,null,I(A.value,r=>(n(),o("div",{class:"odds-axis-item",style:h({height:c(g)+"px"})},[B(r)?(n(),o("span",T,m(r)+"x",1)):P("",!0)],4))),256))])],4),(n(),o("svg",{width:c(b),height:c(b)},[t("defs",null,[t("mask",G,[t("path",{d:x.value,fill:"#fff"},null,8,J),t("path",{d:k.value,fill:"black"},null,8,K)])]),t("path",{d:x.value,fill:"pink",mask:"url(#mask1)"},null,8,U)],8,q))])]))}},ae=N(X,[["__scopeId","data-v-1f2a2988"]]);export{ae as default};
