import{m as K,i as y,o,c as l,a as c,F as T,b as I,j as M,n as $,q as Q,x as b,t as w,e as h,p as A,f as X,u as G,r as _,y as P,z as V,A as U,B as Y}from"./index-65eb0915.js";import{c as L,a as E,b as q,s as k}from"./base-cf2530db.js";import{_ as O}from"./plugin-vueexport-helper-bd5a5d47.js";const Z=r=>(A("data-v-a6790b2b"),r=r(),X(),r),ee={class:"block-stage"},te={class:"row"},se=["onClick"],ae={key:0,class:"shovel",src:"https://res.cloudinary.com/fiewin/image/upload/images/boomShovelNew.png"},ne={key:1,src:"https://res.cloudinary.com/fiewin/image/upload/images/boomImgNew.png"},oe={key:2,src:"https://res.cloudinary.com/fiewin/image/upload/images/frozenBoomNew1.png"},le={key:3,class:"coin"},ce={class:"inner"},ie=Z(()=>c("img",{src:"https://res.cloudinary.com/fiewin/image/upload/images/Coin_b.png"},null,-1)),ue={__name:"blocks",props:{stageType:Number,stageWidth:Number,gamePlaying:Boolean,blocks:Array},emits:["block-click"],setup(r,{emit:i}){const s=r,{stageType:d,stageWidth:g,gamePlaying:v,blocks:a}=K(s),u=y(()=>g.value/330),f=y(()=>u.value/d.value),C=y(()=>u.value*4),S=y(()=>u.value*12),N=y(()=>S.value/d.value),B=y(()=>(g.value-C.value*2-S.value)/d.value);function x(p){const m=12*f.value;return{width:B.value+"px",height:B.value+"px",margin:N.value+"px","border-radius":parseInt(26*f.value)+"px","box-shadow":`inset -${m}px -${m}px ${m}px 0 ${p.status===0?"#509438":"#366531"}`}}function D(p){return{"block-scale-animation":v.value&&p.status===0,"block-green":p.status===1,"block-red":p.status===-1}}const F=y(()=>({width:g.value+"px",padding:C.value+"px","border-radius":32*f.value+"px"}));function W(p,m){i("block-click",{block:p,e:m})}return(p,m)=>(o(),l("div",{class:"block-stage-box",style:$(h(F))},[c("div",ee,[(o(!0),l(T,null,I(h(a),e=>(o(),l("div",te,[(o(!0),l(T,null,I(e,t=>(o(),l("div",{class:M(["block flex",D(t)]),style:$(x(t)),key:t.id,onClick:Q(n=>W(t,n),["self"])},[t.clicking?(o(),l("img",ae)):b("",!0),t.status===-1?(o(),l("img",ne)):b("",!0),t.status===-2?(o(),l("img",oe)):b("",!0),t.status===1?(o(),l("div",le,[c("div",ce,[c("div",null,"₹"+w(t.bouns),1),ie])])):b("",!0)],14,se))),128))]))),256))])],4))}},j=O(ue,[["__scopeId","data-v-a6790b2b"]]);const re={class:"order"},de={class:"order-tabs"},ve={class:"my-order-list"},pe={class:"my-order-item"},_e={__name:"order",setup(r){G(v=>({e534f8ec:h(L)}));const i=_(0),s=_([]);function d(v){return{"order-tabs-item-active":v===i.value}}function g(){s.value=[2,4,8,4,4,4,4,4,8].map(v=>({type:v,blocks:E(v)}))}return g(),(v,a)=>(o(),l("div",re,[c("div",de,[c("div",{class:M(["order-tabs-item",d(0)]),onClick:a[0]||(a[0]=u=>i.value=0)},"Everyone's Order",2),c("div",{class:M(["order-tabs-item",d(1)]),onClick:a[1]||(a[1]=u=>i.value=1)},"My Order",2)]),c("div",ve,[(o(!0),l(T,null,I(s.value,u=>(o(),l("div",pe,[P(j,{stageType:u.type,stageWidth:100,blocks:u.blocks},null,8,["stageType","blocks"])]))),256))])]))}},ge=O(_e,[["__scopeId","data-v-e4951a33"]]);const me=r=>(A("data-v-1c53f0bd"),r=r(),X(),r),ye={class:"miner"},fe=me(()=>c("img",{src:"https://res.cloudinary.com/fiewin/image/upload/images/boomRestart.png"},null,-1)),be=[fe],he={class:"type-selector-box"},xe=["onClick"],ke={class:"flex"},we={__name:"miner",setup(r){G(e=>({"79cf3929":h(L)}));const i=_(!1),s=_(null),d=_([]),g=_(null),v=_(),a=_(2),u=_(14),f=_(8),C=y(()=>q.value-(u.value+f.value)*2);function S(e){i.value||(a.value=e)}const N=y(()=>{const e=q.value/2-55-u.value+"px";return{left:e,top:e}});async function B(){i.value=!0,d.value=E(a.value)}async function x(e=!0){e?(D(),U(`这一把赢了${s.value.bouns}`)):Y("踩雷了，继续下一把吧"),i.value=!1,s.value=m()}function D(){const e=[];d.value.forEach(t=>{t.forEach(n=>{n.status||e.push(n)})}),e[parseInt(Math.random()*e.length)].status=-2}async function F(e){await k(50);const t=e.querySelector(".coin"),n=t.querySelector(".inner"),z=v.value,R=t.getBoundingClientRect(),H=z.x-R.x,J=z.y-R.y;await k(300),n.style.animation="none",await k(50),t.style.transform=`translate3d(${H}px, 0, 0)`,n.style.transform=`translate3d(0, ${J}px, 0)`,await k(500),t.style.display="none"}async function W({block:e,e:t}){if(!i.value||e.status||s.value.playing)return;s.value.playing=!0,e.clicking=!0,e.bouns=s.value.next;const n=await p();if(s.value.count++,e.clicking=!1,e.status=n.mine?-1:1,s.value.playing=!1,s.value.bouns=n.bouns,s.value.next=n.next,e.status===1)F(t.target);else if(e.status===-1){x(!1);return}s.value.count+1===a.value*a.value&&x(!0)}async function p(){await k(300);const e=((10-9.5)*4/(a.value*a.value)).toFixed(2),t=parseInt(Math.random()*5)===1;return{next:parseFloat(e),mine:t,bouns:parseFloat((s.value.bouns+s.value.next).toFixed(2))}}V(()=>{d.value=E(a.value)}),V(()=>{g.value&&(v.value=g.value.getBoundingClientRect())}),s.value=m();function m(){return{count:0,bouns:0,next:9.5,playing:!1}}return(e,t)=>(o(),l("div",ye,[c("div",{class:"stage",style:$({margin:u.value+"px",padding:f.value+"px"})},[P(j,{stageType:a.value,stageWidth:h(C),gamePlaying:i.value,blocks:d.value,onBlockClick:W},null,8,["stageType","stageWidth","gamePlaying","blocks"]),i.value?b("",!0):(o(),l("div",{key:0,class:"start-btn",style:$(h(N)),onClick:B},be,4)),c("div",he,[(o(),l(T,null,I([2,4,8],n=>c("div",{class:M(["type-selector",{"type-selector-active":n===a.value}]),onClick:z=>S(n)},w(n)+" x "+w(n),11,xe)),64))])],4),i.value?(o(),l("div",{key:0,class:"result",style:$({margin:u.value+"px"})},[c("div",ke,[c("div",{ref_key:"bounsDom",ref:g},"bouns: ₹"+w(s.value.bouns),513),c("div",null,"next: +₹"+w(s.value.next),1),c("div",{class:"stop-btn",onClick:x},"Stop and get bounus")])],4)):b("",!0),P(ge)]))}},Be=O(we,[["__scopeId","data-v-1c53f0bd"]]);export{Be as default};
