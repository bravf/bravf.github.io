{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/spectre/color.vue?3dda","webpack:///./src/components/spectre/contextmenu.vue?25b7","webpack:///src/components/spectre/color.vue","webpack:///./src/components/spectre/color.vue","webpack:///src/components/spectre/contextmenu.vue","webpack:///./src/core/event.js","webpack:///./src/components/spectre/color.vue?f061","webpack:///./src/components/spectre/contextmenu.vue","webpack:///./src/components/design/mixin/db.js","webpack:///./src/components/spectre/contextmenu.vue?19b2","webpack:///./src/components/spectre/index.js","webpack:///./src/components/design/mixin/history.js","webpack:///./src/components/design/mixin/command.js","webpack:///./src/components/design/mixin/linked-list.js","webpack:///./src/components/design/mixin/window-event-reg.js","webpack:///./src/core/design-vars.js","webpack:///./src/core/base.js","webpack:///./src/core/resize.js","webpack:///./src/components/design/index.vue","webpack:///./src/components/design/mixin/resize.js","webpack:///./src/components/design/mixin/rotate.js","webpack:///./src/components/design/mixin/move.js","webpack:///./src/components/design/mixin/render/setting.js","webpack:///./src/components/design/mixin/render/handler.js","webpack:///./src/components/design/mixin/render/guide-show.js","webpack:///./src/components/design/mixin/render/tools.js","webpack:///./src/core/color.js","webpack:///./src/core/rect-config.js","webpack:///./src/components/design/mixin/render/rect-nav.js","webpack:///./src/components/design/mixin/render/rect.js","webpack:///./src/components/design/mixin/render/rule.js","webpack:///./src/components/design/mixin/render/rect-list.js","webpack:///./src/components/design/mixin/render/page-list.js","webpack:///./src/components/design/mixin/render/circle.js","webpack:///./src/components/design/mixin/render.js","webpack:///./src/components/design/mixin/data.js","webpack:///./src/components/design/mixin/guide.js","webpack:///./src/components/design/mixin/action.js","webpack:///./src/components/design/mixin/window-event.js","webpack:///./src/components/design/mixin/hotkey.js","webpack:///./src/components/design/mixin/pageHook.js","webpack:///src/components/design/index.vue","webpack:///./src/components/design/index.vue?8bab","webpack:///./src/main.js","webpack:///./src/components/design/index.vue?0bea"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","staticRenderFns","Vue","components","isOpen","left","top","onChange","methods","open","this","size","close","created","render","style_left","style_top","e","stopPropagation","jsxProps","style_display","alert","globalColor","Ctor","$mount","document","createElement","body","appendChild","$el","props","String","disabled","type","Boolean","default","div","component","actions","height","_renderDivider","li","_renderItem","action","checkF","context","on_click","doF","_renderMain","mouseLeft","Math","min","mouseTop","on_mousedown","me","globalCase","VueObject","dbReady","dbTable","SpColor","SpContextmenu","install","forEach","com","history","diff","list","cursor","_historyInit","_historyIsSameValue","value1","value2","JSON","stringify","_historyDiffAdd","longProp","oldValue","newValue","oldValue2","cloneDeep","newValue2","idx","findIndex","isIn","diffObject","_historyPush","_historyCanGo","historyObject","_historyCommitChange","_historyBack","_historyCanBack","forEachRight","change","_parseLongProp","set","_updateCurrRectBySelected","_historyGo","dir","objects","isRight","f","split","lastProp","_dbSave","_command","propObject","isObject","indexOf","id","_checkIsTempGroup","_commandRectAdd","_safeObject","_commandRectDelete","_commandObjectDelete","_commandRectPropUpdate","prop","_commandObjectPropUpdate","_commandRectDataPropUpdate","_commandObjectDataPropUpdate","_commandPropUpdate","_commandPageAdd","_commandProjectAdd","_linkedListAppend","parent","childrenProp","children","headId","tailId","head","tail","oldTail","_linkedListInsertBefore","target","insertObject","prevId","prevObject","_linkedListInsertAfter","nextId","nextObject","_linkedListRemove","_linkedListMoveUp","_linkedListMoveDown","_linkedListMoveTop","tailObject","_linkedListMoveBottom","headObject","_linkedListWalk","isDeep","_f","_parent","z","start","isNotExpand","isExpand","_linkedListGetObjects","index","tempIndex","_linkedListCheckIsParent","parentId","_parentId","windowEventListener","windowEventAdd","addEventListener","beforeDestroy","removeEventListener","computed","_dbInit","defer","Deferred","promise","localforage","createInstance","storeName","ready","keys","console","log","project","_createProjectBase","page","_createPageBase","pages","currPageId","_dbSaveItem","resolve","removeItem","getItem","merge","setItem","_dbAll","iterate","currProjectId","currProject","mounted","a","b","bodyFont","getComputedStyle","font","getTextSize","text","span","getTextWidth","style","display","position","width","innerHTML","ceil","parseFloat","getMappingRectX","rect","angle","values","ra","rb","rc","rd","point","xp","getMappingPoint","end","max","checkRectOverlap2","rect1","rect2","isOverlap","angles","some","rect1Mapping","rect2Mapping","tNumber","x","y","pow","round","getRadian","PI","getAngle","radian","getRotatePointByCenter","center","parseInt","px_0","py_0","px_1","cos","sin","py_1","getCByABAndAngle","radian2","apx","tan","bpx","cx","cy","yp","getABByPointsAndAngle","points","a2","b2","Number","MAX_VALUE","x2","y2","getAngleByTwoPoints","diffa","abs","diffb","atan","aleft","atop","bleft","btop","getEffectiveAngle","getUuid","uuidv4","selectText","element","selection","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","getRectInfo","rectData","scale","right","bottom","leftTop","leftBottom","rightTop","rightBottom","ad","bc","rotateLeftTop","rotateLeftBottom","rotateRightTop","rotateRightBottom","rad","rbc","rotateLefts","rotateTops","minRotateLeft","maxRotateLeft","minRotateTop","maxRotateTop","getGroupSize","rects","info","ab","rlt","rrb","lt","getScalePoint","getPointsCenter","getWH","middleLeft","vars","middleTop","percentPx","str","includes","isRightMouse","which","memoizeResolver","args","memoize","minLen","getWidthScale","newWidth","getResizeData","tempInfo","tempData","tempWidth","tempHeight","resizeAR","mx","my","widthDiff","newRlt","newCenter","newLt","wh","fixedPoint","resizeBR","rrt","rlb","newRrt","newRt","resizeCR","newRrb","resizeDR","newRlb","resizeA","heightDiff","resizeAB","newHeight","scaleH","resizeB","resizeBC","resizeNewWidth","resizeC","isSameRatio","scaleW","resizeNewHeight","resizeCD","resizeD","resizeAD","resizeADL","newRad","newAngle","resizeBCL","newRbc","resizeADRL","resizeBCRL","_resize","currRectId","mouse","resizerDir","isLine","_checkGuideOnResize","_checkIsGroupLike","_resizeGroup","_resizeLine","_resizeRect","_resizeText","fontSize","fontFamily","_resizeWidthTo","_resizeHeightTo","resizeF","isAngleLock","resizeRes","_updateRectData","_scaleGroupRectR","rectInfo","_scaleGroupRectWOrH","group","fixed","groupData","groupTempInfo","groupAngle","angleDiff","is180","is90","is270","dis","disDiff","dis2","dis2Diff","_scaleGroupR","_getRectById","_updateGroupState","_resizeGroupWithRes","_getGroupSize","cd","groupSize","shiftKey","_resizeTo","isGroupLike","_rotate","mousePoint","oldAngle","nowAngle","_checkGuideOnRotate","_rotateGroup","_rotateRect","_rotateTo","groupId","_updateGroupSize","groupCenter","_move","isCheck","_checkGuideOnMove","isShift","_moveGroup","_moveRect","_moveTo","_moveLeftTo","_moveTopTo","jsx","input","select","option","label","_renderSetting","_getSelectedRects","isTempGroup","isText","isAutoSize","isLock","getInputJsxProps","domProps_value","domProps_type","props_value","domProps_disabled","props_disabled","_updateRectTempData","_flashHandler","color","hex8","$align","align","_actionRectAlignLeft","leftRight","_actionRectAlignLeftRight","_actionRectAlignRight","_actionRectAlignTop","topBottom","_actionRectAlignTopBottom","_actionRectAlignBottom","equalSpaceX","_actionRectEqualSpaceX","equalSpaceY","_actionRectEqualSpaceY","renderHook","_actionCanRectEqualSpace","$left","intValue","$top","$width","$height","$angle","$isSameRatio","domProps_checked","$isAngleLock","$borderWidth","$borderStyle","$borderColor","$backgroundColor","$color","$isAutoSize","$fontSize","domProps_min","$fontAlignX","$fontAlignY","$opacity","domProps_max","_updateCurrRectOpacity","_renderHandler","mousedown","event","$emit","resizerJsx","aResizer","eventType","abResizer","bResizer","style_right","bcResizer","cResizer","style_bottom","cdResizer","dResizer","adResizer","resizer","rotater","_getRectBaseJsxProps","handler","show","_renderGuideShow","Array","from","guide","map","button","buttonJsxProps","vIcon","_renderToolsButton","iconType","_actionGet","props_name","_renderTools","_renderRule","blue","red","gray","white","black","base","zIndex","backgroundColor","borderRadius","borderWidth","borderStyle","borderColor","opacity","textAlignX","textAlignY","isEdit","isNameEdit","circle","tempGroup","border","line","_renderRectNav","retTags","createType","rectConfig","_renderRect","isCurrRect","isHoverRect","hoverRectId","selectedRects","rectType","_focusRect","_showContextmenu","_hoverRect","_hoverOffRect","ing","_renderRectInner","textJsxProps","style_cursor","ref","attrs_contenteditable","style_transform","on_blur","_hotkeyOn","on_focus","_hotkeyOff","$refs","defaultText","on_input","setTimeout","focus","_renderRects","currPage","_getRectsByPageDeep","_checkIsRectLike","configContext","strokeStyle","n2","getMiddleData","$middle","middle","dom","scrollTop","scrollLeft","_renderTopRule","rule","topRule","middleData","className","getContext","clearRect","beginPath","moveTo","lineTo","fillText","stroke","_renderLeftRule","leftRule","save","textAlign","textBaseline","translate","rotate","restore","_renderRectListItem","isHover","paddingLeft","innerJsxProps","rectItemInput","on_change","blur","_updateHoverRect","_getGroupByRect","_renderRectList","vdoms","temp","reverse","vdom","_renderPageListItem","pageData","currPageIsParent","paddingLeftAll","isDrag","pageInput","_updateCurrPage","_renderPageList","timer","on_mouseover","setInterval","pageList","on_mouseout","clearInterval","_renderCircle","_getCircleSize","style_width","style_height","_renderLoading","h","isCircle","class_proto","_blurRect","tempGroupId","clipboard","count","currRect","$data","isNull","undefined","isDelete","_createProject","projectId","_createPage","_removePage","_createRect","_createRectByConfig","config","isArray","_createRectBase","_bindGroup","pageId","_checkIsGroup","_cloneRectDeep","_getRectsByGroup","_getObjectsByParentId","_getTempGroupByRect","sortRects","Set","groups","add","_group","topRect","sort","_removeRectById","_unbindGroup","_bindTempGroup","_unbindTempGroup","_unbindTempGroupSome","_getTempGroup","_checkIsPage","_updateAllRectsTempData","_getRectsByRectDeep","isSyncParent","k","v","isRotate","groupIds","_addSelectedRect","_removeSelectedRect","_clearSelectedRects","unLockRects","_getUnLockRectsBySelected","_updateCurrRect","_updateGuide","_getLockRectsBySelected","filter","rectId","isRest","isDblclick","isShiftkey","isGroupOpen","groupIsOpen","closeGroup","_getMousePoint","querySelector","clientX","clientY","parentOpacity","style_opacity","clearTimeout","startLeft","currLeft","startTop","currTop","_walkCurrPageRects","_focusRectWhenCircle","actionTypes","actionType","$contextmenu","_clearGuideLine","_checkRectPointGuide","pointInfo","guideLeft","guideTop","guideShowLeft","guideShowTop","nowInfo","nowPoint","oldPoint","isStop","newPoint","checkInGuide","num","g","isInGuide","_clearGuideShow","actionMap","hotkey","_actionPageCreate","_actionGetInfo","isGroup","_actionCanPageDelete","cannot","_actionPageDelete","_actionRectKeyupMove","_actionRectKeydownMove","_actionRectKeyleftMove","_actionRectKeyrightMove","_actionRectSelectAll","_actionCanGroup","_actionGroup","newGroup","_actionCanUnGroup","_actionUnGroup","_actionRectDelete","_actionRectCopy","_actionRectCut","_actionCanRectPaste","_actionRectPaste","pasteCount","moveDis","_actionCanCurrRect","_actionRectMoveUp","_actionRectMoveDown","_actionRectMoveTop","_actionRectMoveBottom","_actionCanRectLock","_actionCanRectUnLock","_actionRectLock","_actionRectUnLock","_actionCanRectAlign","tempGroupLeft","moveLeft","tempGroupCenterLeft","tempGroupRight","tempGroupTop","moveTop","tempGroupCenterTop","tempGroupBottom","tempGroupWidth","rectsWidth","perSpace","tempGroupHeight","rectsHeight","_actionSetHotKey","_hotkey","preventDefault","realIng","mousemove","mouseup","$on","isff","navigator","userAgent","toLowerCase","keyMap","backspace","tab","clear","enter","return","esc","escape","space","up","down","del","delete","ins","insert","home","pageup","pagedown","capslock","'","modifier","alt","ctrl","control","cmd","command","code","trim","toUpperCase","charCodeAt","keydown","keyup","_hotkeyCode","join","_hotkeyEvent","tagName","modifierInfo","ctrlKey","altKey","metaKey","modifiers","mk","hotkeyCode","keyCode","hotkeyObject","_onPageShow","_onPageHide","watch","to","path","mixins","use","Spectre","VueRouter","Icon","productionTip","routes","Design","router"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,UAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,8ECvJT,yBAAklB,EAAG,G,kCCArlB,yBAAwlB,EAAG,G,oVCwG3lB,ECxGI,EAAQyC,ECsIZ,E,qGCrIe,MAAIC,OHoBnB,EAEA,IAFA,IACA,EACA,IADA,EAEA,GACEC,WAAY,CACV,gBAAiB,EAArB,WAEE/D,KAJF,WAKI,MAAO,CACL6C,MAAO,UACPmB,QAAQ,EACRC,KAAM,EACNC,IAAK,EACLC,SAAU,eAGdC,QAAS,CACPC,KADJ,SAEA,EACA,EACA,GAEMC,KAAKzB,MAAQA,EACbyB,KAAKH,SAAWA,EAChBG,KAAKL,KAAOM,EAAKN,KACjBK,KAAKJ,IAAMK,EAAKL,IAChBI,KAAKN,QAAS,GAEhBQ,MAZJ,WAaMF,KAAKN,QAAS,IAGlBS,QA7BF,WA6BA,WACI,EAAJ,kCACM,EAAN,YAGEC,OAlCF,SAkCA,GACI,EAAJ,MACI,IAAJ,OACA,GACM,wBAAwB,EACxB,YAAc,EACdC,WAAY,KAAlB,cACMC,UAAWN,KAAKJ,IAAM,KACtB,SALN,SAKA,GACQW,EAAEC,mBAEJ,aARN,SAQA,GACQD,EAAEC,oBAGDR,KAAKN,SACRe,EAAW,OAAjB,OAAiB,CAAjB,GACA,EADA,CAEQC,cAAe,UAGnB,IAAJ,MACA,iBACA,gCACM,mBAAN,QACM,SAFN,SAEA,GACQ,EAAR,QACQ,EAAR,qBAGA,yBAEA,GACM,mBAAN,GAEA,2BACM,YAAN,WACM,SAFN,SAEA,GACQ,EAAR,iBAKI,OAAOC,IAIX,WACA,EACA,EACA,GAEE,IAAKC,EAAP,CACI,IAAJ,mBACIA,EAAc,IAAIC,EAClBD,EAAYE,OAAOC,SAASC,cAAc,QAC1CD,SAASE,KAAKC,YAAYN,EAAYO,KAExCP,EAAYb,KAAKxB,EAAO0B,EAAMJ,IAEhC,GACE/B,KAAM,UACNsD,MAAO,CACL7C,MAAO8C,OACPC,SAAU,CACRC,KAAMC,QACNC,SAAS,IAGbrB,OATF,SASA,GACI,EAAJ,MACI,IAAJ,OACA,GACM,kBAAkB,EAClB,yBAA0BJ,KAAKzB,OAkBjC,OAhBKyB,KAAKsB,WACRb,EAAW,OAAjB,OAAiB,CAAjB,GACA,EADA,CAEQ,SAFR,SAEA,GACUF,EAAEC,kBACF,IAAV,4BACU,EACV,QACA,CAAY,KAAZ,IAAY,IAAZ,MACA,YACY,EAAZ,yBAMWkB,EAAIjB,KAGf,IIzJkY,I,wBHQ9XkB,EAAY,eACd,EACA,EACApC,GACA,EACA,KACA,KACA,MAIa,EAAAoC,E,0CCGf,2BACA,GACE7D,KAAM,gBACNsD,MAAO,GAGP1F,KALF,WAMI,MAAO,CACLgE,QAAQ,EACRkC,QAAS,GACTrB,EAAG,GACHsB,OAAQ,IAGZ/B,QAAS,CACPC,KADJ,SAEA,EACA,EACA,GAEMC,KAAKN,QAAS,EACdM,KAAKO,EAAIA,EACTP,KAAK6B,OAASA,EACd7B,KAAK4B,QAAUA,GAEjB1B,MAXJ,WAYMF,KAAKN,QAAS,GAEhBoC,eAdJ,WAeM,OAAOC,EAAG,aAEZC,YAjBJ,SAiBA,GACM,IAAKC,EACH,OAAOjC,KAAK8B,iBAFpB,IAIA,wCACA,KAaM,OAXErB,EADEyB,EAAO5F,KAAK6F,GACH,CACTC,SADV,WAEYC,EAAI/F,KAAK6F,KAKF,CACT,mCAAmC,GAGhCJ,EAAG,aAChB,EACA,GACQ,WAAR,gBACA,KAGIO,YA1CJ,WA0CA,WACA,OAEA,oBACA,qBAEA,MACA,cAEA,SACA,YACA,YACMC,EAAYC,KAAKC,IACvB,EACA,QAEMC,EAAWF,KAAKC,IACtB,EACA,QAEM,IAAN,oBACA,YAAQ,OAAR,oBAEA,GACQpC,WAAYkC,EAAY,KACxBjC,UAAWoC,EAAW,KACtB7D,IAAK,cACL8D,aAJR,SAIA,GACUpC,EAAEC,mBAEJ4B,SAPR,WAQUQ,EAAG1C,UASP,OANKF,KAAKN,SACRe,EAAW,OAAnB,OAAmB,CAAnB,GACA,EADA,CAEUC,cAAe,UAGZ,EAAb,kCACA,GADA,sBAEA,OAIEP,QArGF,WAqGA,WACI,EAAJ,kCACM,EAAN,YAGEC,OA1GF,SA0GA,GAEI,OADA,EAAJ,MACWJ,KAAKsC,gBAIhB,+CACE,IAAKO,EAAY,CACf,IAAJ,mBACIA,EAAa,IAAIC,EACjBD,EAAW/B,OAAOC,SAASC,cAAc,QACzCD,SAASE,KAAKC,YAAY2B,EAAW1B,MAEzC,8BAEA,IGhJI,EAAQ,ECMR4B,EACAC,EJyIJ,IKhJwY,IFQpY,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QGjBXvD,EAAa,CACfwD,EACAC,GAEEC,EAAU,SAAC3D,GACbC,EAAW2D,SAAQ,SAAAC,GACjB7D,EAAImC,UAAU0B,EAAIvF,KAAMuF,OAGb,GACbF,W,wFCPa,GACbzH,KADa,WAEX,MAAO,CACL4H,QAAS,CACPC,KAAM,GACNC,KAAM,GACNC,QAAS,KAIf3D,QAAS,CACP4D,aADO,WAEL1D,KAAKsD,QAAQC,KAAO,GACpBvD,KAAKsD,QAAQE,KAAO,GACpBxD,KAAKyD,QAAU,GAEjBE,oBANO,SAOLC,EACAC,GAEA,OAAOC,KAAKC,UAAUH,KAAYE,KAAKC,UAAUF,IAEnDG,gBAZO,SAaLC,EACAC,EACAC,GAEA,IAAIC,EAAYC,uBAAUH,GACtBI,EAAYD,uBAAUF,GACtBb,EAAUtD,KAAKsD,QACfiB,EAAMjB,EAAQC,KAAKiB,WAAU,SAAAxG,GAAC,OAAIA,EAAEiG,WAAaA,KACjDQ,GAAgB,IAATF,EACX,GAAIE,EAAK,CACP,IAAIC,EAAapB,EAAQC,KAAKgB,GAE9BG,EAAW,YAAcJ,EAEzBhB,EAAQC,KAAKnG,OAAOmH,EAAK,GAEpBvE,KAAK2D,oBAAoBW,EAAWI,EAAWR,WAClDZ,EAAQC,KAAK/G,KAAKkI,QAIpB1E,KAAKsD,QAAQC,KAAK/G,KAAK,CACrByH,WACAC,SAAUE,EACVD,SAAUG,KAIhBK,aAzCO,WA0CL,GAAK3E,KAAKsD,QAAQC,KAAKrH,OAAvB,CAII8D,KAAK4E,kBACP5E,KAAKsD,QAAQE,KAAOxD,KAAKsD,QAAQE,KAAKlE,MAAM,EAAGU,KAAKsD,QAAQG,OAAS,IAEvE,IAAIoB,EAAgB7E,KAAKsD,QAAQC,KACjCvD,KAAKsD,QAAQE,KAAKhH,KAAKqI,GACvB7E,KAAKsD,QAAQC,KAAO,GACpBvD,KAAKsD,QAAQG,SACbzD,KAAK8E,qBAAqBD,KAE5BE,aAvDO,WAuDS,WACd,GAAK/E,KAAKgF,kBAAV,CAGA,IAAIH,EAAgB7E,KAAKsD,QAAQE,KAAKxD,KAAKsD,QAAQG,UACnDwB,0BAAaJ,GAAe,SAACK,GAAW,IACjCjB,EAAsBiB,EAAtBjB,SAAUC,EAAYgB,EAAZhB,SACf,EAAKiB,eAAelB,GAAUmB,IAAIf,uBAAUH,OAE9ClE,KAAK8E,qBAAqBD,EAAe,QACzC7E,KAAKqF,8BAEPC,WAnEO,WAmEO,WACZ,GAAKtF,KAAK4E,gBAAV,CAGA,IAAIC,EAAgB7E,KAAKsD,QAAQE,OAAQxD,KAAKsD,QAAQG,QACtDL,qBAAQyB,GAAe,SAACK,GAAW,IAC5BjB,EAAsBiB,EAAtBjB,SAAUE,EAAYe,EAAZf,SACf,EAAKgB,eAAelB,GAAUmB,IAAIf,uBAAUF,OAE9CnE,KAAK8E,qBAAqBD,GAC1B7E,KAAKqF,8BAEPT,cA/EO,WAgFL,OAAO5E,KAAKsD,QAAQG,OAASzD,KAAKsD,QAAQE,KAAKtH,OAAS,GAE1D8I,gBAlFO,WAmFL,OAAOhF,KAAKsD,QAAQG,QAAU,GAIhCqB,qBAvFO,SAwFLD,GAEA,IADAU,EACA,uDADM,QAENV,EAAgBR,uBAAUQ,GAC1B,IAAIW,EAAU,GACVC,EAAkB,UAARF,EACVG,EAAID,EAAUrC,aAAU6B,kBAC5BS,EAAEb,GAAe,SAACK,GAAW,IACtBjB,EAAgCiB,EAAhCjB,SAAUC,EAAsBgB,EAAtBhB,SAAUC,EAAYe,EAAZf,SACrB/C,EAAQ6C,EAAS0B,MAAM,KACvB3G,EAASwG,EACTI,EAAWxE,EAAM9B,OAAO,GAAG,GAC/B8B,EAAM9B,MAAM,GAAI,GAAG8D,SAAQ,SAAClE,GACpBA,KAAKF,IACTA,EAAOE,GAAK,IAEdF,EAASA,EAAOE,MAElBF,EAAO4G,GAAYH,EAAUtB,EAAWD,KAE1ClE,KAAK6F,QAAQL,MC1HJ,G,UAAA,CACb1F,QAAS,CACPgG,SADO,SAEL7B,EACAE,GAEA,IAAI4B,EAAa/F,KAAKmF,eAAelB,GAC/B2B,EAAuBG,EAAvBH,SAAUzH,EAAa4H,EAAb5H,IAAKiH,EAAQW,EAARX,IACjBlB,EAAW/F,IACfiH,EAAIjB,GAEJ,IAAI6B,EAA2C,IAAhC/B,EAASgC,QAAQ,WAChC,GAAiB,gBAAbL,GAGa,WAAbA,GAGCI,EAAL,CAGA,GAAIA,EAAU,CACZ,IAAIE,EAAKjC,EAAS0B,MAAM,KAAK,GAC7B,GAAI3F,KAAKmG,kBAAkBnG,KAAKwF,QAAQU,IACtC,OAGA/B,IAAaD,GAGjBlE,KAAKgE,gBAAgBC,EAAUC,EAAUC,KAE3CiC,gBA/BO,SA+BUpH,GACfA,EAASgB,KAAKqG,YAAYrH,GAC1B,IAAIiF,EAAW,WAAH,OAAcjF,EAAOkH,IACjClG,KAAK8F,SAAS7B,EAAUjF,IAE1BsH,mBApCO,SAoCatH,GAClBA,EAASgB,KAAKqG,YAAYrH,GAC1BgB,KAAKuG,qBAAqBvH,IAE5BwH,uBAxCO,SAwCiBxH,EAAQyH,EAAMtC,GACpCnF,EAASgB,KAAKqG,YAAYrH,GAC1BgB,KAAK0G,yBAAyB1H,EAAQyH,EAAMtC,IAE9CwC,2BA5CO,SA4CqB3H,EAAQyH,EAAMtC,GACxCnF,EAASgB,KAAKqG,YAAYrH,GAC1BgB,KAAK4G,6BAA6B5H,EAAQyH,EAAMtC,IAElD0C,mBAhDO,SAiDLJ,EACAtC,GAEA,IAAIF,EAAW,GAAH,OAAMwC,GAClBzG,KAAK8F,SAAS7B,EAAUE,IAE1B2C,gBAvDO,SAuDU9H,GACfA,EAASgB,KAAKqG,YAAYrH,GAC1B,IAAIiF,EAAW,WAAH,OAAcjF,EAAOkH,IACjClG,KAAK8F,SAAS7B,EAAUjF,IAE1BuH,qBA5DO,SA4DevH,GACpBA,EAASgB,KAAKqG,YAAYrH,GAC1B,IAAIiF,EAAW,WAAH,OAAcjF,EAAOkH,GAArB,aACZlG,KAAK8F,SAAS7B,GAAU,IAE1B8C,mBAjEO,SAiEa/H,GAClBA,EAASgB,KAAKqG,YAAYrH,GAC1B,IAAIiF,EAAW,WAAH,OAAcjF,EAAOkH,IACjClG,KAAK8F,SAAS7B,EAAUjF,IAE1B0H,yBAtEO,SAuEL1H,EACAyH,EACAtC,GAEAnF,EAASgB,KAAKqG,YAAYrH,GAC1B,IAAIiF,EAAW,WAAH,OAAcjF,EAAOkH,GAArB,YAA2BO,GACvCzG,KAAK8F,SAAS7B,EAAUE,IAE1ByC,6BA/EO,SAgFL5H,EACAyH,EACAtC,GAEAnF,EAASgB,KAAKqG,YAAYrH,GAC1B,IAAIiF,EAAW,WAAH,OAAcjF,EAAOkH,GAArB,iBAAgCO,GAC5CzG,KAAK8F,SAAS7B,EAAUE,OCxF1B6C,EAAoB,SACtBC,EACAjI,GAEA,IADAkI,EACA,uDADe,QAEXC,EAAWF,EAAOC,GACtB,GAAKC,EAASC,OAAd,CAIA,IAAKD,EAASE,OAAO,CACnBrH,KAAK0G,yBAAyBO,EAA9B,UAAyCC,EAAzC,WAAgElI,EAAOkH,IACvE,IAAIoB,EAAOtH,KAAKwF,QAAQ2B,EAASC,QAC7BG,EAAOvH,KAAKwF,QAAQ2B,EAASE,QAGjC,OAFArH,KAAK0G,yBAAyBY,EAAM,SAAUC,EAAKrB,SACnDlG,KAAK0G,yBAAyBa,EAAM,SAAUD,EAAKpB,IAGrD,IAAIsB,EAAUxH,KAAKwF,QAAQ2B,EAASE,QACpCrH,KAAK0G,yBAAyBO,EAA9B,UAAyCC,EAAzC,WAAgElI,EAAOkH,IACvElG,KAAK0G,yBAAyBc,EAAS,SAAUxI,EAAOkH,IACxDlG,KAAK0G,yBAAyB1H,EAAQ,SAAUwI,EAAQtB,SAdtDlG,KAAK0G,yBAAyBO,EAA9B,UAAyCC,EAAzC,WAAgElI,EAAOkH,KAgBvEuB,EAA0B,SAC5BR,EACAS,EACAC,GAEA,IADAT,EACA,uDADe,QAEXU,EAASF,EAAOE,OAChBC,EAAa7H,KAAKwF,QAAQoC,GAC1BT,EAAWF,EAAOC,GAElBU,GACF5H,KAAK0G,yBAAyBiB,EAAc,SAAUC,GACtD5H,KAAK0G,yBAAyBmB,EAAY,SAAUF,EAAazB,MAGjElG,KAAK0G,yBAAyBO,EAA9B,UAAyCC,EAAzC,WAAgES,EAAazB,IACxEiB,EAASE,QACZrH,KAAK0G,yBAAyBO,EAA9B,UAAyCC,EAAzC,WAAgEQ,EAAOxB,KAI3ElG,KAAK0G,yBAAyBiB,EAAc,SAAUD,EAAOxB,IAC7DlG,KAAK0G,yBAAyBgB,EAAQ,SAAUC,EAAazB,KAE3D4B,EAAyB,SAC3Bb,EACAS,EACAC,GAEA,IADAT,EACA,uDADe,QAEXa,EAASL,EAAOK,OAChBC,EAAahI,KAAKwF,QAAQuC,GAE1BA,GACF/H,KAAK0G,yBAAyBiB,EAAc,SAAUI,GACtD/H,KAAK0G,yBAAyBsB,EAAY,SAAWL,EAAazB,KAGlElG,KAAK0G,yBAAyBO,EAA9B,UAAyCC,EAAzC,WAAgES,EAAazB,IAG/ElG,KAAK0G,yBAAyBiB,EAAc,SAAUD,EAAOxB,IAC7DlG,KAAK0G,yBAAyBgB,EAAQ,SAAUC,EAAazB,KAE3D+B,EAAoB,SACtBhB,EACAjI,GAEA,IADAkI,EACA,uDADe,QAEXC,EAAWF,EAAOC,GAClBU,EAAS5I,EAAO4I,OAChBG,EAAS/I,EAAO+I,OAIpB,GAHA/H,KAAK0G,yBAAyB1H,EAAQ,SAAU,IAChDgB,KAAK0G,yBAAyB1H,EAAQ,SAAU,IAE5C4I,EAAO,CACT,IAAIC,EAAa7H,KAAKwF,QAAQoC,GAC9B5H,KAAK0G,yBAAyBmB,EAAY,SAAUE,QAGpD/H,KAAK0G,yBAAyBO,EAA9B,UAAyCC,EAAzC,WAAgEa,GAGlE,GAAIA,EAAO,CACT,IAAIC,EAAahI,KAAKwF,QAAQuC,GAC9B/H,KAAK0G,yBAAyBsB,EAAY,SAAUJ,QAGpD5H,KAAK0G,yBAAyBO,EAA9B,UAAyCC,EAAzC,WAAgEU,GAG9DT,EAASE,SAAWF,EAASC,QAC/BpH,KAAK0G,yBAAyBO,EAA9B,UAAyCC,EAAzC,WAAgE,KAGhEgB,EAAoB,SACtBjB,EACAS,GAEA,IADAR,EACA,uDADe,QAEXa,EAASL,EAAOK,OAEpB,GAAKA,EAAL,CAGA,IAAIC,EAAahI,KAAKwF,QAAQuC,GAC9B/H,KAAKiI,kBAAkBhB,EAAQS,EAAQR,GACvClH,KAAK8H,uBAAuBb,EAAQe,EAAYN,EAAQR,KAEtDiB,EAAsB,SACxBlB,EACAS,GAEA,IADAR,EACA,uDADe,QAEXU,EAASF,EAAOE,OAEpB,GAAKA,EAAL,CAGA,IAAIC,EAAa7H,KAAKwF,QAAQoC,GAC9B5H,KAAKiI,kBAAkBhB,EAAQS,EAAQR,GACvClH,KAAKyH,wBAAwBR,EAAQY,EAAYH,EAAQR,KAEvDkB,EAAqB,SACvBnB,EACAS,GAEA,IADAR,EACA,uDADe,QAEXC,EAAWF,EAAOC,GAClBG,EAASF,EAASE,OACtB,GAAKA,GAAWA,IAAWK,EAAOxB,GAAlC,CAGA,IAAImC,EAAarI,KAAKwF,QAAQ6B,GAC9BrH,KAAKiI,kBAAkBhB,EAAQS,EAAQR,GACvClH,KAAK8H,uBAAuBb,EAAQoB,EAAYX,EAAQR,KAEtDoB,EAAwB,SAC1BrB,EACAS,GAEA,IADAR,EACA,uDADe,QAEXC,EAAWF,EAAOC,GAClBE,EAASD,EAASC,OACtB,GAAIA,IAAWM,EAAOxB,GAAtB,CAGA,IAAIqC,EAAavI,KAAKwF,QAAQ4B,GAC9BpH,KAAKiI,kBAAkBhB,EAAQS,EAAQR,GACvClH,KAAKyH,wBAAwBR,EAAQsB,EAAYb,EAAQR,KAEvDsB,EAAkB,SACpBvB,GAIA,WAHAC,EAGA,uDAHe,QACfxB,EAEA,uCADA+C,IACA,yDACIC,EAAK,SAALA,EAAMC,GAAmB,IAAVC,EAAU,uDAAN,EACjBC,EAAQ,EAAKrD,QAAQmD,EAAQzB,GAAcE,QAC/C,MAAOyB,EAAM,CACXnD,EAAEmD,EAAOD,GACT,IAAIE,GAAsC,IAAxBD,EAAMnN,KAAKqN,SACzBN,IAAWK,GAAeD,EAAM3B,IAAiB2B,EAAM3B,GAAc,WACvEwB,EAAGG,EAAOD,EAAI,GAEhBC,EAAQ,EAAKrD,QAAQqD,EAAMd,UAG/BW,EAAGzB,IAED+B,GAAwB,SAC1B/B,GAEA,IADAC,EACA,uDADe,QAEX1B,EAAU,GACVyD,EAAQ,EAKZ,OAJAjJ,KAAKwI,gBAAgBvB,EAAQC,GAAc,SAAClI,GAC1CA,EAAOkK,UAAYD,IACnBzD,EAAQhJ,KAAKwC,MAERwG,GAGL2D,GAA2B,SAC7BlC,EACAjI,GAEA,IAAIoK,EAAWnC,EAAOf,GAClBmD,EAAYrK,EAAOoK,SACvB,MAAOC,EAAU,CACf,GAAIA,IAAcD,EAChB,OAAO,EAETC,EAAYrJ,KAAKwF,QAAQ6D,GAAWD,SAEtC,OAAO,GAEM,IACbtJ,QAAS,CACP2H,0BACAK,yBACAG,oBACAjB,oBACAgC,yBACAd,oBACAC,sBACAC,qBACAE,wBACAE,kBACAW,8BCpNW,IACbzN,KADa,WAEX,MAAO,CACL4N,oBAAqB,KAGzBxJ,QAAS,CACPyJ,eADO,SAELhI,EACAmE,GAEAtG,OAAOoK,iBAAiBjI,EAAMmE,GACxBnE,KAAQvB,KAAKsJ,sBACjBtJ,KAAKsJ,oBAAoB/H,GAAQ,IAEnCvB,KAAKsJ,oBAAoB/H,GAAM/E,KAAKkJ,KAGxC+D,cAlBa,WAkBI,sBACNlI,GACP,EAAK+H,oBAAoB/H,GAAM6B,SAAQ,SAAAsC,GACrCtG,OAAOsK,oBAAoBnI,EAAMmE,OAFrC,IAAK,IAAInE,KAAQvB,KAAKsJ,oBAAoB,EAAjC/H,K,6FNXE,IACboI,SAAU,GAEV7J,QAAS,CACD8J,QADC,WACU,yKACX7G,EADW,wDAIX8G,EAAQC,OACZ/G,EAAU8G,EAAME,QAChB/G,EAAUgH,KAAYC,eAAe,CACnCnM,KAAM,eACNoM,UAAW,WARE,SAUTlH,EAAQmH,QAVC,uBAWEnH,EAAQoH,OAXV,UAWXA,EAXW,OAaVA,EAAKlO,OAbK,wBAcbmO,QAAQC,IAAI,iBACRC,EAAU,EAAKC,qBACfC,EAAO,EAAKC,gBAAgBH,EAAQrE,IACxCqE,EAAQI,MAAMvD,OAASqD,EAAKvE,GAC5BqE,EAAQK,WAAaH,EAAKvE,GAlBb,UAmBP,EAAK2E,YAAYN,EAAQrE,GAAIqE,GAnBtB,yBAoBP,EAAKM,YAAYJ,EAAKvE,GAAIuE,GApBnB,QAqBbJ,QAAQC,IAAI,sBArBC,QAuBfT,EAAMiB,UAvBS,+CAyBXD,YA1BC,SA0BY3E,EAAI3H,GAAO,yJAC5BA,EAAQ8F,uBAAU9F,IACdA,EAFwB,mBAIP,mBAAfA,EAAMgD,KAJgB,uBAKxB8I,QAAQC,IAAI,UALY,0BAStB/L,EAAM,iBACRA,EAAM,eAAiB,IAErBA,EAAM7C,MAAQ6C,EAAM7C,KAAKgE,SAC3BnB,EAAM7C,KAAKgE,QAAS,GAbI,uBAgBtBsD,EAAQmH,QAhBc,UAiBvB5L,EAjBuB,kCAkBpByE,EAAQ+H,WAAW7E,GAlBC,iDAqBLlD,EAAQgI,QAAQ9E,GArBX,kDAqBkB,GArBlB,WAqBtBhC,EArBsB,KAsBtBC,EAAW8G,mBAAM/G,EAAU3F,IAC3B4F,EAAS5C,KAvBa,kCAwBlByB,EAAQkI,QAAQhF,EAAI/B,GAxBF,+CA4BxB0B,QAtDC,SAsDQL,GAAS,+JACtB6E,QAAQC,IAAI,SAAU9E,GADA,6BAEPA,GAFO,oDAEbU,EAFa,oBAGd,EAAK2E,YAAY3E,EAAIV,EAAQU,IAHf,oEAMlBiF,OA5DC,WA4DS,gKACdd,QAAQC,IAAI,aADE,SAERvH,EAFQ,uBAGRC,EAAQoI,SAAQ,SAAC7M,EAAOM,GAC5B,EAAK2G,QAAQ3G,GAAON,EACD,YAAfA,EAAMgD,OACR,EAAK8J,cAAgB9M,EAAM2H,OANjB,OASd,EAAK0E,WAAa,EAAKU,YAAYV,WACnCP,QAAQC,IAAI,YAVE,+CAalBnK,QA5Ea,WA6EXH,KAAK4J,UACL5J,KAAKmL,UAEDI,QAhFO,WAgFI,sL,sEOvFfC,GAAI,GAEJC,GAAI,IAEJ7N,GAAI,GAEJC,GAAI,IAEO,IACb2N,KACAC,KACA7N,KACAC,MCJE6N,GAAWtM,OAAOuM,iBAAiB5K,SAASE,MAAM2K,KAClDC,GAAc,SAChBC,GAEG,IADHF,EACG,uDADIF,GAEHK,EAAOC,GAAaD,KACxB,IAAKA,EAAM,CACTA,EAAOC,GAAaD,KAAOhL,SAASC,cAAc,OAClD+K,EAAKE,MAAMC,QAAU,eACrB,IAAIxK,EAAMX,SAASC,cAAc,OACjCU,EAAIuK,MAAMC,QAAU,QACpBxK,EAAIuK,MAAME,SAAW,WACrBzK,EAAIuK,MAAMrM,IAAM,WAChB8B,EAAIuK,MAAMtM,KAAO,QACjB+B,EAAIuK,MAAMG,MAAQ,WAClB1K,EAAIR,YAAY6K,GAChBhL,SAASE,KAAKC,YAAYQ,GAE5BqK,EAAKE,MAAML,KAAOA,EAClBG,EAAKM,UAAYP,EACjB,IAAIG,EAAQ7M,OAAOuM,iBAAiBI,GACpC,MAAO,CACLK,MAAO5J,KAAK8J,KAAKC,WAAWN,EAAMG,QAClCvK,OAAQW,KAAK8J,KAAKC,WAAWN,EAAMpK,WAGnCmK,GAAe,SACjBF,GAEG,IADHF,EACG,uDADIF,GAEP,OAAOG,GAAYC,EAAMF,GAAMQ,OAmB7BI,GAAkB,SACpBC,EACAC,GAEA,IAAIC,EAAS,GACRC,EAAkBH,EAAlBG,GAAIC,EAAcJ,EAAdI,GAAIC,EAAUL,EAAVK,GAAIC,EAAMN,EAANM,GAChB,CAACH,EAAIC,EAAIC,EAAIC,GAAI3J,SAAQ,SAAA4J,GACtB,IAAIC,EAAKC,GAAgBF,EAAON,GAAOO,GACvCN,EAAOnQ,KAAKyQ,MAEhB,IAAIpE,EAAQrG,KAAKC,IAAI5F,MAAM,KAAM8P,GAC7BQ,EAAM3K,KAAK4K,IAAIvQ,MAAM,KAAM8P,GAC/B,MAAO,CACH9D,QACAsE,MACAjR,OAAQiR,EAAKtE,IAGfwE,GAAoB,SACtBC,EACAC,GAEA,IAAIC,GAAY,EACZC,EAAS,CACXH,EAAMZ,MACNY,EAAMZ,MAAQ,GACda,EAAMb,MACNa,EAAMb,MAAQ,IAYhB,OARAe,EAAOC,MAAK,SAAAhB,GACV,IAAIiB,EAAenB,GAAgBc,EAAOZ,GACtCkB,EAAepB,GAAgBe,EAAOb,GAC1C,GAAIlK,KAAK4K,IAAIO,EAAaR,IAAKS,EAAaT,KAAO3K,KAAKC,IAAIkL,EAAa9E,MAAO+E,EAAa/E,OAAU8E,EAAazR,OAAQ0R,EAAa1R,OAEvI,OADAsR,GAAY,GACL,KAGJA,GAELK,GAAU,SACZ9O,GAEG,IADH+O,EACG,uDADC,EAEAC,EAAIvL,KAAKwL,IAAI,GAAIF,GACrB,OAAOtL,KAAKyL,MAAMlP,EAAIgP,GAAKA,GAEzBG,GAAY,SAACxB,GACf,OAAOA,GAASlK,KAAK2L,GAAK,MAGxBC,GAAW,SAACC,GACd,OAAOA,EAAS7L,KAAK2L,GAAK,KAOxBG,GAAyB,SAC3BC,EACAvB,EACAN,GAEG,IADHnL,IACG,yDACHmL,EAAQ8B,SAAS9B,GAGZnL,IACHmL,EAAQ,IAAMA,GAEhB,IAAI2B,EAASH,GAAUxB,GAEnB+B,EAAOzB,EAAMrN,KAAO4O,EAAO5O,KAC3B+O,EAAOH,EAAO3O,IAAMoN,EAAMpN,IAE1B+O,EAAOnM,KAAKoM,IAAIP,GAAUI,EAAOjM,KAAKqM,IAAIR,GAAUK,EACpDI,EAAOtM,KAAKoM,IAAIP,GAAUK,EAAOlM,KAAKqM,IAAIR,GAAUI,EAExD,MAAO,CACL9O,KAAMkO,GAAQc,EAAOJ,EAAO5O,MAC5BC,IAAKiO,GAAQU,EAAO3O,IAAMkP,KAK1BC,GAAmB,SACrBvD,EACAC,EACAiB,GAEA,GAAIA,EAAQ,MAAQ,EAClB,MAAO,CACL/M,KAAM6L,EAAE7L,KACRC,IAAK6L,EAAE7L,KAGX,IAAIyO,EAASH,GAAUxB,GACnBsC,EAAUd,GAAU,GAAKxB,GACzBuC,EAAMzD,EAAE7L,KAAO6C,KAAK0M,IAAIb,GAAU7C,EAAE5L,IACpCuP,EAAM1D,EAAE9L,KAAO6C,KAAK0M,IAAIF,GAAWvD,EAAE7L,IACrCwP,EAAKD,EAAM3M,KAAKoM,IAAIP,GAAU7L,KAAKoM,IAAIP,IAAWY,EAAME,GACxDE,EAAK7M,KAAKqM,IAAIR,GAAU7L,KAAKoM,IAAIP,IAAWY,EAAME,GACtD,MAAO,CACLxP,KAAMkO,GAAQuB,GACdxP,IAAKiO,GAAQwB,KAMbnC,GAAkB,SACpBF,EACAN,GAEA,IAAI2B,EAASH,GAAUxB,GACvB,MAAO,CACLO,GAAID,EAAMrN,KAAO6C,KAAK0M,IAAIb,GAAUrB,EAAMpN,IAC1C0P,GAAItC,EAAMpN,IAAM4C,KAAK0M,IAAIb,GAAUrB,EAAMrN,OAMzC4P,GAAwB,SAC1BC,EACA9C,GAEA,IAAIlB,EAAGC,EAAGgE,EAAIC,EACV5B,EAAI6B,OAAOC,UACX7B,EAAID,EACJ+B,GAAM/B,EACNgC,GAAM/B,EA0BV,OAxBAyB,EAAOpM,SAAQ,SAAAlE,GAAK,MACHgO,GAAgBhO,EAAGwN,GAA7BO,EADa,EACbA,GAAIqC,EADS,EACTA,GAELrC,EAAKa,IACPA,EAAIb,EACJzB,EAAItM,GAGF+N,GAAM4C,IACRA,EAAK5C,EACLwC,EAAKvQ,GAGHoQ,EAAKvB,IACPA,EAAIuB,EACJ7D,EAAIvM,GAGFoQ,GAAMQ,IACRA,EAAKR,EACLI,EAAKxQ,MAIF,CAACsM,IAAGC,IAAGgE,KAAIC,OAIhBK,GAAsB,SACxBvE,EACAC,GAEA,IAAIuE,EAAQxN,KAAKyN,IAAIpC,GAAQrC,EAAE7L,MAAQkO,GAAQpC,EAAE9L,OAC7CuQ,EAAQ1N,KAAKyN,IAAIpC,GAAQpC,EAAE7L,KAAOiO,GAAQrC,EAAE5L,MAE5C8M,EAAQ0B,GACV5L,KAAK2N,KAAKH,EAAQE,IAGhBE,EAAQ5E,EAAE7L,KACV0Q,EAAO7E,EAAE5L,IACT0Q,EAAQ7E,EAAE9L,KACV4Q,EAAO9E,EAAE7L,IAeb,OAbMwQ,EAAQE,GAAWD,GAAQE,IAGtBH,GAASE,GAAWD,EAAOE,EACpC7D,EAAQ,IAAMA,EAEL0D,EAAQE,GAAWD,GAAQE,EACpC7D,GAAS,IAGTA,EAAQ,IAAMA,GAGTA,EAAQ,KAEb8D,GAAoB,SAAC9D,GACvB,OAAOA,EAAQ,KAEb+D,GAAU,WACZ,OAAOC,mBAELC,GAAa,SAACC,GAChB,IAAIC,EAAYzR,OAAO0R,eACnBC,EAAQhQ,SAASiQ,cACrBD,EAAME,mBAAmBL,GACzBC,EAAUK,kBACVL,EAAUM,SAASJ,IAEjBK,GAAc,SAChBC,GAEG,IADHC,EACG,uDADK,EAEF3R,EAAoC0R,EAApC1R,KAAMC,EAA8ByR,EAA9BzR,IAAKwM,EAAyBiF,EAAzBjF,MAAOvK,EAAkBwP,EAAlBxP,OAAQ6K,EAAU2E,EAAV3E,MAChC/M,GAAQ2R,EACR1R,GAAO0R,EACPlF,GAASkF,EACTzP,GAAUyP,EACV,IAAIC,EAAQ5R,EAAOyM,EACfoF,EAAS5R,EAAMiC,EACf0M,EAAS,CACX5O,KAAMkO,GAAQlO,EAAOyM,EAAQ,GAC7BxM,IAAKiO,GAAQjO,EAAMiC,EAAS,IAE1B4P,EAAU,CACZ9R,OACAC,OAEE4L,EAAIiG,EACJC,EAAa,CACf/R,OACAC,IAAK4R,GAEH3T,EAAI6T,EACJC,EAAW,CACbhS,KAAM4R,EACN3R,OAEE6L,EAAIkG,EACJC,EAAc,CAChBjS,KAAM4R,EACN3R,IAAK4R,GAEH5T,EAAIgU,EACJC,EAAK,CACPlS,OACAC,IAAK2O,EAAO3O,KAEVkS,EAAK,CACPnS,KAAMA,EAAOyM,EACbxM,IAAK2O,EAAO3O,KAGVmS,EAAgBzD,GAAuBC,EAAQkD,EAAS/E,GACxDE,EAAKmF,EAELC,EAAmB1D,GAAuBC,EAAQmD,EAAYhF,GAC9DK,EAAKiF,EAELC,EAAiB3D,GAAuBC,EAAQoD,EAAUjF,GAC1DG,EAAKoF,EAELC,EAAoB5D,GAAuBC,EAAQqD,EAAalF,GAChEI,EAAKoF,EAELC,EAAM7D,GAAuBC,EAAQsD,EAAInF,GACzC0F,EAAM9D,GAAuBC,EAAQuD,EAAIpF,GAEzC2F,EAAc,CAChBzF,EAAGjN,KACHkN,EAAGlN,KACHmN,EAAGnN,KACHoN,EAAGpN,MAED2S,EAAa,CACf1F,EAAGhN,IACHiN,EAAGjN,IACHkN,EAAGlN,IACHmN,EAAGnN,KAED2S,EAAgB/P,KAAKC,IAAI5F,MAAM,KAAMwV,GACrCG,EAAgBhQ,KAAK4K,IAAIvQ,MAAM,KAAMwV,GACrCI,EAAejQ,KAAKC,IAAI5F,MAAM,KAAMyV,GACpCI,EAAelQ,KAAK4K,IAAIvQ,MAAM,KAAMyV,GAExC,yBACKjB,EADL,CAEE9C,SACAkD,UACAC,aACAC,WACAC,cACAK,iBACAF,gBACAC,mBACAE,oBACA1G,IACAC,IACA7N,IACAC,IACA+O,KACAC,KACAC,KACAC,KACAoF,MACAC,MACAb,QACAC,SACA7R,OACAC,MACAwM,QACAvK,SACA0Q,gBACAC,gBACAC,eACAC,kBAGAC,GAAe,SACjBC,EACAlG,GAGA,IAAI8C,EAAS,GACboD,EAAMxP,SAAQ,SAAAqJ,GACZ,IAAIoG,EAAOzB,GAAY3E,EAAK/Q,MAC5B8T,EAAS,GAAH,sBACDA,GADC,CAEJqD,EAAKd,cACLc,EAAKZ,eACLY,EAAKb,iBACLa,EAAKX,uBAIT,IAAIY,EAAKvD,GAAsBC,EAAQ9C,GAEnCqG,EAAMhE,GACR+D,EAAGtH,EACHsH,EAAGrH,EACHiB,GAGEsG,EAAMjE,GACR+D,EAAGrD,GACHqD,EAAGpD,GACHhD,GAGE6B,EAAS,CACX5O,KAAMoT,EAAIpT,MAAQqT,EAAIrT,KAAOoT,EAAIpT,MAAQ,EACzCC,IAAKoT,EAAIpT,KAAOoT,EAAIpT,IAAMmT,EAAInT,KAAO,GAInCqT,EAAK3E,GACPC,EACC7B,EAAQ,IAAMA,GAAS,IACpBsG,EACAD,EACJrG,GACA,GAEEN,EAA0C,EAAlC5J,KAAKyN,IAAI1B,EAAO5O,KAAOsT,EAAGtT,MAClCkC,EAAyC,EAAhCW,KAAKyN,IAAI1B,EAAO3O,IAAMqT,EAAGrT,KAEtC,MAAO,CACLD,KAAMkO,GAAQoF,EAAGtT,MACjBC,IAAKiO,GAAQoF,EAAGrT,KAChBwM,MAAOyB,GAAQzB,GACfvK,OAAQgM,GAAQhM,KAKhBqR,GAAgB,SAClB1H,EACAC,EACA9N,GAEA,MAAO,CACLgC,MAAO8L,EAAE9L,KAAO6L,EAAE7L,MAAQhC,EAAI6N,EAAE7L,KAChCC,KAAM6L,EAAE7L,IAAM4L,EAAE5L,KAAOjC,EAAI6N,EAAE5L,MAG7BuT,GAAkB,SACpB3H,EACAC,GAEA,MAAO,CACL9L,KAAMkO,GAAQrC,EAAE7L,MAAQ8L,EAAE9L,KAAO6L,EAAE7L,MAAQ,GAC3CC,IAAKiO,GAAQrC,EAAE5L,KAAO6L,EAAE7L,IAAM4L,EAAE5L,KAAO,KAGvCwT,GAAQ,SACV5H,EACA5N,GAEA,MAAO,CACLwO,MAAmC,EAA5B5J,KAAKyN,IAAIrS,EAAE+B,KAAO6L,EAAE7L,MAC3BkC,OAAkC,EAA1BW,KAAKyN,IAAIrS,EAAEgC,IAAM4L,EAAE5L,OAI3ByT,GAAaC,GAAK7H,EAAI6H,GAAK1V,EAC3B2V,GAAYD,GAAK9H,EAAI8H,GAAK1V,EAS1B4V,GAAY,SAACC,GAKf,OAJAA,GAAY,GACPA,EAAIC,SAAS,OAChBD,GAAO,MAEFA,GAGLE,GAAe,SAACpT,GAClB,OAAmB,IAAZA,EAAEqT,OAGPC,GAAkB,WAAa,2BAATC,EAAS,yBAATA,EAAS,gBACjC,OAAOhQ,KAAKC,UAAU+P,IAEvB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQ,MAAO,OAAQ,MAAO,SAAS1Q,SAAQ,SAAAtF,GAClF0E,KAAK1E,GAAQiW,qBAAQvR,KAAK1E,GAAO+V,OAEnChI,GAAckI,qBAAQlI,GAAagI,IACnCrH,GAAkBuH,qBAAQvH,GAAiBqH,IAC3CxG,GAAoB0G,qBAAQ1G,GAAmBwG,IAC/ChG,GAAUkG,qBAAQlG,GAASgG,IAC3B3F,GAAY6F,qBAAQ7F,GAAW2F,IAC/BzF,GAAW2F,qBAAQ3F,GAAUyF,IAC7BvF,GAAyByF,qBAAQzF,GAAwBuF,IACzD9E,GAAmBgF,qBAAQhF,GAAkB8E,IAC7C3G,GAAkB6G,qBAAQ7G,GAAiB2G,IAC3CtE,GAAwBwE,qBAAQxE,GAAuBsE,IACvD9D,GAAsBgE,qBAAQhE,GAAqB8D,IACnDrD,GAAoBuD,qBAAQvD,GAAmBqD,IAC/CzC,GAAc2C,qBAAQ3C,GAAayC,IACnClB,GAAeoB,qBAAQpB,GAAckB,IACrCX,GAAgBa,qBAAQb,GAAeW,IACvCV,GAAkBY,qBAAQZ,GAAiBU,IAC3CT,GAAQW,qBAAQX,GAAOS,IACvBL,GAAYO,qBAAQP,GAAWK,IChf/B,ICTI,GAAQ,GDSRG,GAAS,GACTC,GAAgB,SAClBC,EACA9H,GAEA,OAAO8H,EAAW9H,GAGhB+H,GAAgB,SAAC1H,GACnB,IAAI/Q,EAAO+Q,EAAK/Q,KACZ0Y,EAAW3H,EAAK4H,SAChB3H,EAAQ0H,EAAS1H,MACjB2B,EAASH,GAAUxB,GACnB4H,EAAYF,EAAShI,MACrBmI,EAAaH,EAASvS,OAE1B,MAAO,CACLnG,OACA0Y,WACA1H,QACA2B,SACAiG,YACAC,eAOAC,GAAW,SACb/H,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAMCP,GAAc1H,GAJhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA4H,EAJC,EAIDA,UACAjG,EALC,EAKDA,OAEEsG,GAAenS,KAAKoM,IAAIP,GAAUoG,EAAKjS,KAAKqM,IAAIR,GAAUqG,EAC1DR,EAAW1R,KAAK4K,IAAIuH,EAAYL,EAAWN,IAC3C1C,EAAQ2C,GAAcC,EAAUI,GAEhCvB,EAAMqB,EAASrC,cACfiB,EAAMoB,EAASlC,kBACf0C,EAAS1B,GAAcF,EAAKD,EAAKzB,GAEjCuD,EAAY1B,GAAgByB,EAAQ5B,GAEpC8B,EAAQxG,GAAuBuG,EAAWD,EAAQlI,GAAO,GACzDqI,EAAK3B,GAAM0B,EAAOD,GAGtB,MAAO,CACL5U,KAAM,CACJN,KAAMmV,EAAMnV,KACZC,IAAKkV,EAAMlV,IACXwM,MAAO2I,EAAG3I,MACVvK,OAAQkT,EAAGlT,QAEbyP,QACA0D,WAAYhC,IAGZiC,GAAW,SACbxI,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAMCP,GAAc1H,GAJhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA4H,EAJC,EAIDA,UACAjG,EALC,EAKDA,OAEEsG,EAAYnS,KAAKoM,IAAIP,GAAUoG,EAAKjS,KAAKqM,IAAIR,GAAUqG,EACvDR,EAAW1R,KAAK4K,IAAIuH,EAAYL,EAAWN,IAC3C1C,EAAQ2C,GAAcC,EAAUI,GAEhCY,EAAMd,EAASnC,eACfkD,EAAMf,EAASpC,iBACfoD,EAASlC,GAAciC,EAAKD,EAAK5D,GAEjCuD,EAAY1B,GAAgBgC,EAAKC,GAEjCC,EAAQ/G,GAAuBuG,EAAWO,EAAQ1I,GAAO,GACzDqI,EAAK3B,GAAMiC,EAAOR,GAClBC,EAAQ,CACVnV,KAAM0V,EAAM1V,KAAOoV,EAAG3I,MACtBxM,IAAKyV,EAAMzV,KAGb,MAAO,CACLK,KAAM,CACJN,KAAMmV,EAAMnV,KACZC,IAAKkV,EAAMlV,IACXwM,MAAO2I,EAAG3I,MACVvK,OAAQkT,EAAGlT,QAEbyP,QACA0D,WAAYG,IAGZG,GAAW,SACb7I,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAMCP,GAAc1H,GAJhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA4H,EAJC,EAIDA,UACAjG,EALC,EAKDA,OAEEsG,EAAYnS,KAAKoM,IAAIP,GAAUoG,EAAKjS,KAAKqM,IAAIR,GAAUqG,EACvDR,EAAW1R,KAAK4K,IAAIuH,EAAYL,EAAWN,IAC3C1C,EAAQ2C,GAAcC,EAAUI,GAEhCvB,EAAMqB,EAASrC,cACfiB,EAAMoB,EAASlC,kBACfqD,EAASrC,GAAcH,EAAKC,EAAK1B,GAEjCuD,EAAY1B,GAAgBJ,EAAKwC,GAEjCT,EAAQxG,GAAuBuG,EAAW9B,EAAKrG,GAAO,GACtDqI,EAAK3B,GAAM0B,EAAOD,GAEtB,MAAO,CACL5U,KAAM,CACJN,KAAMmV,EAAMnV,KACZC,IAAKkV,EAAMlV,IACXwM,MAAO2I,EAAG3I,MACVvK,OAAQkT,EAAGlT,QAEbyP,QACA0D,WAAYjC,IAGZyC,GAAW,SACb/I,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAMCP,GAAc1H,GAJhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA4H,EAJC,EAIDA,UACAjG,EALC,EAKDA,OAEEsG,GAAanS,KAAKoM,IAAIP,GAAUoG,EAAKjS,KAAKqM,IAAIR,GAAUqG,EACxDR,EAAW1R,KAAK4K,IAAIuH,EAAYL,EAAWN,IAC3C1C,EAAQ2C,GAAcC,EAAUI,GAEhCY,EAAMd,EAASnC,eACfkD,EAAMf,EAASpC,iBACfyD,EAASvC,GAAcgC,EAAKC,EAAK7D,GAEjCuD,EAAY1B,GAAgB+B,EAAKO,GAEjCJ,EAAQ/G,GAAuBuG,EAAWK,EAAKxI,GAAO,GACtDqI,EAAK3B,GAAMiC,EAAOR,GAClBC,EAAQ,CACVnV,KAAM0V,EAAM1V,KAAOoV,EAAG3I,MACtBxM,IAAKyV,EAAMzV,KAEb,MAAO,CACLK,KAAM,CACJN,KAAMmV,EAAMnV,KACZC,IAAKkV,EAAMlV,IACXwM,MAAO2I,EAAG3I,MACVvK,OAAQkT,EAAGlT,QAEbyP,QACA0D,WAAYE,IAGZQ,GAAU,SACZjJ,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAOCP,GAAc1H,GALhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA4H,EAJC,EAIDA,UACAC,EALC,EAKDA,WACAlG,EANC,EAMDA,OAEE2E,EAAMoB,EAASlC,kBAEfyC,GAAcnS,KAAKoM,IAAIP,GAAUoG,EAAKjS,KAAKqM,IAAIR,GAAUqG,EACzDiB,EAAanT,KAAKqM,IAAIR,GAAUoG,EAAKjS,KAAKoM,IAAIP,GAAUqG,EACxDtI,EAAQ5J,KAAK4K,IAAIuH,EAAYL,EAAWN,IACxCnS,EAASW,KAAK4K,IAAIuI,EAAapB,EAAYP,IAE3CY,EAAS,CACXjV,KAAM,EACNC,IAAK,GAGLgV,EADY,IAAVlI,EACO,CACP/M,KAAMqT,EAAIrT,KAAOyM,EACjBxM,IAAKoT,EAAIpT,IAAMiC,GAGA,KAAV6K,EACE,CACP/M,KAAMqT,EAAIrT,KAAOkC,EACjBjC,IAAKoT,EAAIpT,IAAMwM,GAGA,MAAVM,EACE,CACP/M,KAAMqT,EAAIrT,KAAOyM,EACjBxM,IAAKoT,EAAIpT,IAAMiC,GAGA,MAAV6K,EACE,CACP/M,KAAMqT,EAAIrT,KAAOkC,EACjBjC,IAAKoT,EAAIpT,IAAMwM,GAKR,CACPzM,KAAMqT,EAAIrT,KAAO6C,KAAKoM,IAAIP,IAAWjC,EAAQ5J,KAAK0M,IAAIb,GAAUxM,GAChEjC,IAAKoT,EAAIpT,KAAOiC,EAASW,KAAKoM,IAAIP,GAAU7L,KAAKqM,IAAIR,IAAWjC,EAAQ5J,KAAK0M,IAAIb,GAAUxM,KAG/F,IAAIgT,EAAY1B,GAAgByB,EAAQ5B,GAEpC8B,EAAQxG,GAAuBuG,EAAWD,EAAQlI,GAAO,GAC7D,MAAO,CACLzM,KAAM,CACJN,KAAMmV,EAAMnV,KACZC,IAAKkV,EAAMlV,IACXwM,MAAOA,EACPvK,OAAQA,GAEVmT,WAAYhC,IAGZ4C,GAAW,SACbnJ,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAMCP,GAAc1H,GAJhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA6H,EAJC,EAIDA,WACAlG,EALC,EAKDA,OAGEsH,EAAanT,KAAKqM,IAAIR,GAAUoG,EAAKjS,KAAKoM,IAAIP,GAAUqG,EACxDmB,EAAYrT,KAAK4K,IAAImH,EAAaoB,EAAY3B,IAClD2B,EAAaE,EAAYtB,EAGzB,IAAIxB,EAAMqB,EAASrC,cACfiB,EAAMoB,EAASlC,kBACf0C,EAAS,CACXjV,KAAMoT,EAAIpT,KAAO6C,KAAKqM,IAAIR,GAAUsH,EACpC/V,IAAKmT,EAAInT,IAAM4C,KAAKoM,IAAIP,GAAUsH,GAGhCd,EAAY1B,GAAgByB,EAAQ5B,GAEpC8B,EAAQxG,GAAuBuG,EAAWD,EAAQlI,GAAO,GAE7D,MAAO,CACLzM,KAAM,CACJN,KAAMmV,EAAMnV,KACZC,IAAKkV,EAAMlV,IACXiC,OAAQgU,GAEVb,WAAYhC,EACZ8C,OAAQD,EAAYtB,IAGpBwB,GAAU,SACZtJ,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAOCP,GAAc1H,GALhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA4H,EAJC,EAIDA,UACAC,EALC,EAKDA,WACAlG,EANC,EAMDA,OAEE8G,EAAMf,EAASpC,iBAEf2C,EAAYnS,KAAKoM,IAAIP,GAAUoG,EAAKjS,KAAKqM,IAAIR,GAAUqG,EACvDiB,EAAanT,KAAKqM,IAAIR,GAAUoG,EAAKjS,KAAKoM,IAAIP,GAAUqG,EACxDtI,EAAQ5J,KAAK4K,IAAIuH,EAAYL,EAAWN,IACxCnS,EAASW,KAAK4K,IAAIuI,EAAapB,EAAYP,IAE3CoB,EAAS,CACXzV,KAAM,EACNC,IAAK,GAGLwV,EADY,IAAV1I,EACO,CACP/M,KAAMwV,EAAIxV,KAAOyM,EACjBxM,IAAKuV,EAAIvV,IAAMiC,GAGA,KAAV6K,EACE,CACP/M,KAAMwV,EAAIxV,KAAOkC,EACjBjC,IAAKuV,EAAIvV,IAAMwM,GAGA,MAAVM,EACE,CACP/M,KAAMwV,EAAIxV,KAAOyM,EACjBxM,IAAKuV,EAAIvV,IAAMiC,GAGA,MAAV6K,EACE,CACP/M,KAAMwV,EAAIxV,KAAOkC,EACjBjC,IAAKuV,EAAIvV,IAAMwM,GAKR,CACPzM,KAAMwV,EAAIxV,KAAOyM,EAAQ5J,KAAKoM,IAAIP,GAAU7L,KAAKqM,IAAIR,IAAWxM,EAASW,KAAK0M,IAAIb,GAAUjC,GAC5FxM,IAAKuV,EAAIvV,IAAM4C,KAAKoM,IAAIP,IAAWxM,EAASW,KAAK0M,IAAIb,GAAUjC,IAGnE,IAAIyI,EAAY1B,GAAgBiC,EAAQD,GAEpCE,EAAQ/G,GAAuBuG,EAAWO,EAAQ1I,GAAO,GAE7D,MAAO,CACLzM,KAAM,CACJN,KAAM0V,EAAM1V,KAAOyM,EACnBxM,IAAKyV,EAAMzV,IACXwM,QACAvK,UAEFmT,WAAYG,IAGZa,GAAW,SACbvJ,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAICP,GAAc1H,GAFhB6H,EAFC,EAEDA,UACAjG,EAHC,EAGDA,OAGEsG,EAAYnS,KAAKoM,IAAIP,GAAUoG,EAAKjS,KAAKqM,IAAIR,GAAUqG,EACvDR,EAAW1R,KAAK4K,IAAIkH,EAAYK,EAAWX,IAC/C,OAAOiC,GAAexJ,EAAMyH,IAE1BgC,GAAU,SACZzJ,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAOCP,GAAc1H,GALhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA4H,EAJC,EAIDA,UACAC,EALC,EAKDA,WACAlG,EANC,EAMDA,OAEE0E,EAAMqB,EAASrC,cAEf4C,EAAYnS,KAAKoM,IAAIP,GAAUoG,EAAKjS,KAAKqM,IAAIR,GAAUqG,EACvDiB,GAAcnT,KAAKqM,IAAIR,GAAUoG,EAAKjS,KAAKoM,IAAIP,GAAUqG,EACzDtI,EAAQ5J,KAAK4K,IAAIuH,EAAYL,EAAWN,IACxCnS,EAASW,KAAK4K,IAAIuI,EAAapB,EAAYP,IAC3CuB,EAAS,CACX5V,KAAM,EACNC,IAAK,GAGL2V,EADY,IAAV7I,EACO,CACP/M,KAAMoT,EAAIpT,KAAOyM,EACjBxM,IAAKmT,EAAInT,IAAMiC,GAGA,KAAV6K,EACE,CACP/M,KAAMoT,EAAIpT,KAAOkC,EACjBjC,IAAKmT,EAAInT,IAAMwM,GAGA,MAAVM,EACE,CACP/M,KAAMoT,EAAIpT,KAAOyM,EACjBxM,IAAKmT,EAAInT,IAAMiC,GAGA,MAAV6K,EACE,CACP/M,KAAMoT,EAAIpT,KAAOkC,EACjBjC,IAAKmT,EAAInT,IAAMwM,GAKR,CACPzM,KAAMoT,EAAIpT,KAAQ6C,KAAKoM,IAAIP,IAAWjC,EAAQ5J,KAAK0M,IAAIb,GAAUxM,GACjEjC,IAAKmT,EAAInT,IAAMiC,EAASW,KAAKoM,IAAIP,GAAU7L,KAAKqM,IAAIR,IAAWjC,EAAQ5J,KAAK0M,IAAIb,GAAUxM,IAG9F,IAAIgT,EAAY1B,GAAgBoC,EAAQxC,GACpC+B,EAAQxG,GAAuBuG,EAAW9B,EAAKrG,GAAO,GAE1D,MAAO,CACLzM,KAAM,CACJN,KAAMmV,EAAMnV,KACZC,IAAKkV,EAAMlV,IACXwM,QACAvK,UAEFmT,WAAYjC,IAIZkD,GAAiB,SACnBxJ,EACAyH,GACG,MAQCC,GAAc1H,GANhB/Q,EAFC,EAEDA,KACA0Y,EAHC,EAGDA,SACA1H,EAJC,EAIDA,MACA4H,EALC,EAKDA,UACAC,EANC,EAMDA,WACAlG,EAPC,EAODA,OAGEsG,EAAYT,EAAWI,EACvBuB,EAAYtB,EAGZxB,EAAMqB,EAASrC,cACfiB,EAAMoB,EAASlC,kBACfqD,EAAS,CACX5V,KAAMqT,EAAIrT,KAAO6C,KAAKoM,IAAIP,GAAUsG,EACpC/U,IAAKoT,EAAIpT,IAAM4C,KAAKqM,IAAIR,GAAUsG,GAGhCwB,EAAcza,EAAKya,YACvB,GAAIA,EAAY,CACd,IAAIR,EAAcpB,EAAaD,EAAaK,EAC5CkB,GAAaF,EACbJ,EAAS,CACP5V,KAAM4V,EAAO5V,KAAO6C,KAAKqM,IAAIR,GAAUsH,EACvC/V,IAAK2V,EAAO3V,IAAM4C,KAAKoM,IAAIP,GAAUsH,GAIzC,IAAId,EAAY1B,GAAgBJ,EAAKwC,GAEjCT,EAAQxG,GAAuBuG,EAAW9B,EAAKrG,GAAO,GAC1D,MAAO,CACLzM,KAAM,CACJN,KAAMmV,EAAMnV,KACZC,IAAKkV,EAAMlV,IACXwM,MAAO8H,EACPrS,OAAQgU,GAEVb,WAAYjC,EACZqD,OAAQlC,EAAWI,IAGnB+B,GAAkB,SACpB5J,EACAoJ,GACG,MAMC1B,GAAc1H,GAJhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA6H,EAJC,EAIDA,WACAlG,EALC,EAKDA,OAEEsH,EAAaE,EAAYtB,EACzBxB,EAAMqB,EAASrC,cACfiB,EAAMoB,EAASlC,kBACfqD,EAAS,CACX5V,KAAMqT,EAAIrT,KAAO6C,KAAKqM,IAAIR,GAAUsH,EACpC/V,IAAKoT,EAAIpT,IAAM4C,KAAKoM,IAAIP,GAAUsH,GAGhCd,EAAY1B,GAAgBJ,EAAKwC,GAEjCT,EAAQxG,GAAuBuG,EAAW9B,EAAKrG,GAAO,GAE1D,MAAO,CACLzM,KAAM,CACJN,KAAMmV,EAAMnV,KACZC,IAAKkV,EAAMlV,IACXiC,OAAQgU,GAEVb,WAAYjC,EACZqD,OAAQP,EAAYtB,IAGpB+B,GAAW,SACb7J,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAICP,GAAc1H,GAFhB8H,EAFC,EAEDA,WACAlG,EAHC,EAGDA,OAGEsH,GAAcnT,KAAKqM,IAAIR,GAAUoG,EAAKjS,KAAKoM,IAAIP,GAAUqG,EACzDmB,EAAYrT,KAAK4K,IAAImH,EAAaoB,EAAY3B,IAClD,OAAOqC,GAAgB5J,EAAMoJ,IAE3BU,GAAU,SACZ9J,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAOCP,GAAc1H,GALhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA4H,EAJC,EAIDA,UACAC,EALC,EAKDA,WACAlG,EANC,EAMDA,OAEE6G,EAAMd,EAASnC,eAEf0C,GAAanS,KAAKoM,IAAIP,GAAUoG,EAAKjS,KAAKqM,IAAIR,GAAUqG,EACxDiB,GAAcnT,KAAKqM,IAAIR,GAAUoG,EAAKjS,KAAKoM,IAAIP,GAAUqG,EACzDtI,EAAQ5J,KAAK4K,IAAIuH,EAAYL,EAAWN,IACxCnS,EAASW,KAAK4K,IAAIuI,EAAapB,EAAYP,IAC3CyB,EAAS,CACX9V,KAAM,EACNC,IAAK,GAGL6V,EADY,IAAV/I,EACO,CACP/M,KAAMuV,EAAIvV,KAAOyM,EACjBxM,IAAKsV,EAAItV,IAAMiC,GAGA,KAAV6K,EACE,CACP/M,KAAMuV,EAAIvV,KAAOkC,EACjBjC,IAAKsV,EAAItV,IAAMwM,GAGA,MAAVM,EACE,CACP/M,KAAMuV,EAAIvV,KAAOyM,EACjBxM,IAAKsV,EAAItV,IAAMiC,GAGA,MAAV6K,EACE,CACP/M,KAAMuV,EAAIvV,KAAOkC,EACjBjC,IAAKsV,EAAItV,IAAMwM,GAKR,CACPzM,KAAMuV,EAAIvV,MAAQyM,EAAQ5J,KAAKoM,IAAIP,GAAU7L,KAAKqM,IAAIR,IAAWxM,EAASW,KAAK0M,IAAIb,GAAUjC,IAC7FxM,IAAKsV,EAAItV,IAAM4C,KAAKoM,IAAIP,IAAWxM,EAASW,KAAK0M,IAAIb,GAAUjC,IAGnE,IAAIyI,EAAY1B,GAAgBsC,EAAQP,GAEpCG,EAAQ/G,GAAuBuG,EAAWK,EAAKxI,GAAO,GAE1D,MAAO,CACLzM,KAAM,CACJN,KAAM0V,EAAM1V,KAAOyM,EACnBxM,IAAKyV,EAAMzV,IACXiC,SACAuK,SAEF4I,WAAYE,IAGZsB,GAAW,SACb/J,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAMCP,GAAc1H,GAJhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA4H,EAJC,EAIDA,UACAjG,EALC,EAKDA,OAGEsG,GAAanS,KAAKoM,IAAIP,GAAUoG,EAAKjS,KAAKqM,IAAIR,GAAUqG,EACxDR,EAAW1R,KAAK4K,IAAIkH,EAAYK,EAAWX,IAC/CW,EAAYT,EAAWI,EAGvB,IAAIvB,EAAMqB,EAASrC,cACfiB,EAAMoB,EAASlC,kBACf0C,EAAS,CACXjV,KAAMoT,EAAIpT,KAAO6C,KAAKoM,IAAIP,GAAUsG,EACpC/U,IAAKmT,EAAInT,IAAM4C,KAAKqM,IAAIR,GAAUsG,GAGhCE,EAAY1B,GAAgBH,EAAK4B,GAEjCE,EAAQxG,GAAuBuG,EAAWD,EAAQlI,GAAO,GAE7D,MAAO,CACLzM,KAAM,CACJN,KAAMmV,EAAMnV,KACZC,IAAKkV,EAAMlV,IACXwM,MAAO8H,GAETc,WAAYhC,EACZoD,OAAQlC,EAAWI,IAInBmC,GAAY,SACdhK,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EAEDN,EAAW3H,EAAK4H,SAChBxS,EAASuS,EAASvS,OAClBuK,EAAQgI,EAAShI,MACjBgG,EAAMgC,EAAShC,IACfD,EAAMiC,EAASjC,IACfuE,EAAS,CACX/W,KAAMwS,EAAIxS,KAAO8U,EACjB7U,IAAKuS,EAAIvS,IAAM8U,GAEbG,EAAY1B,GAAgBuD,EAAQtE,GACpCuE,EAAWnI,SAASuB,GAAoB2G,EAAQ7B,GAAa,IAAM,IACnEhD,EAAKvD,GAAuBuG,EAAW6B,EAAQC,GAAU,GACzD7E,EAAKxD,GAAuBuG,EAAWzC,EAAKuE,GAAU,GACtDzC,EAAWpC,EAAGnS,KAAOkS,EAAGlS,KACxB6L,EAAI,CACN7L,KAAMkS,EAAGlS,KACTC,IAAKiS,EAAGjS,IAAMiC,EAAS,GAEzB,MAAO,CACL5B,KAAM,kBACDuL,EADD,CAEFY,MAAO8H,IAETxH,MAAOiK,EACP3B,WAAY5C,EACZgE,OAAQlC,EAAW9H,IAGnBwK,GAAY,SACdnK,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EAEDN,EAAW3H,EAAK4H,SAChBxS,EAASuS,EAASvS,OAClBuK,EAAQgI,EAAShI,MACjBgG,EAAMgC,EAAShC,IACfD,EAAMiC,EAASjC,IACf0E,EAAS,CACXlX,KAAMyS,EAAIzS,KAAO8U,EACjB7U,IAAKwS,EAAIxS,IAAM8U,GAEbG,EAAY1B,GAAgBhB,EAAK0E,GACjCF,EAAWnI,SAASuB,GAAoBoC,EAAK0C,GAAa,IAAM,IAChEhD,EAAKvD,GAAuBuG,EAAW1C,EAAKwE,GAAU,GACtD7E,EAAKxD,GAAuBuG,EAAWgC,EAAQF,GAAU,GACzDzC,EAAWpC,EAAGnS,KAAOkS,EAAGlS,KACxB6L,EAAI,CACN7L,KAAMkS,EAAGlS,KACTC,IAAKiS,EAAGjS,IAAMiC,EAAS,GAEzB,MAAO,CACL5B,KAAM,kBACDuL,EADD,CAEFY,MAAO8H,IAETxH,MAAOiK,EACP3B,WAAY7C,EACZiE,OAAQlC,EAAW9H,IAInB0K,GAAa,SACfrK,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAOCP,GAAc1H,GALhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA2B,EAJC,EAIDA,OACAiG,EALC,EAKDA,UACAC,EANC,EAMDA,WAEEnC,EAAMgC,EAAShC,IACfD,EAAMiC,EAASjC,IACfwC,GAAanS,KAAKoM,IAAIP,GAAUoG,EAAKjS,KAAKqM,IAAIR,GAAUqG,EACxDR,EAAW1R,KAAK4K,IAAIuH,EAAYL,EAAWN,IAC3C1C,EAAQ2C,GAAcC,EAAUI,GAChCoC,EAASxD,GAAcd,EAAKD,EAAKb,GACjCuD,EAAY1B,GAAgBf,EAAKsE,GACjC7E,EAAKvD,GAAuBuG,EAAW6B,EAAQhK,GAAO,GACtDlB,EAAI,CACN7L,KAAMkS,EAAGlS,KACTC,IAAKiS,EAAGjS,IAAM2U,EAAa,GAE7B,MAAO,CACLtU,KAAM,kBACDuL,EADD,CAEFY,MAAO8H,IAETxH,QACAsI,WAAY7C,EACZb,UAIAyF,GAAa,SACftK,GAGG,IAFHgI,EAEG,uDAFE,EACLC,EACG,uDADE,EACF,EAOCP,GAAc1H,GALhB2H,EAFC,EAEDA,SACA1H,EAHC,EAGDA,MACA2B,EAJC,EAIDA,OACAiG,EALC,EAKDA,UACAC,EANC,EAMDA,WAEEnC,EAAMgC,EAAShC,IACfD,EAAMiC,EAASjC,IACfwC,EAAYnS,KAAKoM,IAAIP,GAAUoG,EAAKjS,KAAKqM,IAAIR,GAAUqG,EACvDR,EAAW1R,KAAK4K,IAAIuH,EAAYL,EAAWN,IAC3C1C,EAAQ2C,GAAcC,EAAUI,GAChCuC,EAAS3D,GAAcf,EAAKC,EAAKd,GACjCuD,EAAY1B,GAAgBhB,EAAK0E,GACjChF,EAAKvD,GAAuBuG,EAAW1C,EAAKzF,GAAO,GACnDlB,EAAI,CACN7L,KAAMkS,EAAGlS,KACTC,IAAKiS,EAAGjS,IAAM2U,EAAa,GAE7B,MAAO,CACLtU,KAAM,kBACDuL,EADD,CAEFY,MAAO8H,IAETxH,QACAsI,WAAY7C,EACZb,UEzuBW,IACbxR,QAAS,CACPkX,QADO,SAELvC,EACAC,GAEA,IAAIjI,EAAOzM,KAAKwF,QAAQxF,KAAKiX,YACzB1R,EAAMvF,KAAKkX,MAAMC,WACjBC,EAAuB,cAAd3K,EAAKlL,KAHlB,EAIYvB,KAAKqX,oBAAoB5K,EAAMlH,EAAKkP,EAAIC,GAJpD,uBAIED,EAJF,KAIMC,EAJN,KAKI1U,KAAKsX,kBAAkB7K,GACzBzM,KAAKuX,aAAa9K,EAAMlH,EAAKkP,EAAIC,GAE1B0C,EACPpX,KAAKwX,YAAY/K,EAAMlH,EAAKkP,EAAIC,GAGhC1U,KAAKyX,YAAYhL,EAAMlH,EAAKkP,EAAIC,IAGpCgD,YAnBO,SAoBLjL,EACAX,GAEA,IAAIpQ,EAAO+Q,EAAK/Q,KAChBoQ,EAAOA,GAAQpQ,EAAKoQ,KACpB,IAAIF,EAAO,GAAH,OAAMlQ,EAAKic,SAAX,cAAyBjc,EAAKkc,YAClC3X,EAAO4L,GAAYC,EAAMF,GACzBsI,EAAWjU,EAAKmM,MACpBpM,KAAK6X,eAAepL,EAAMyH,GAC1B,IAAI2B,EAAY5V,EAAK4B,OACrB7B,KAAK8X,gBAAgBrL,EAAMoJ,IAE7B2B,YAhCO,SAiCL/K,EACAlH,EACAkP,EACAC,GAEA,IAAIqD,EAAU,CACZlG,GAAI4E,GACJ3E,GAAI8E,IACJrR,GACEkH,EAAK/Q,KAAKsc,cACZD,EAAU,CACRlG,GAAIiF,GACJhF,GAAIiF,IACJxR,IAEJ,IAAI0S,EAAYF,EAAQtL,EAAMgI,EAAIC,GAClC1U,KAAK2G,2BAA2B8F,EAAM,QAASwL,EAAUvL,OACzD1M,KAAKkY,gBAAgBzL,EAAMwL,EAAUhY,OAGvCkY,iBArDO,SAsDL1L,EACAuI,EACA1D,GAEA,IAAID,EAAW5E,EAAK/Q,KAChB0c,EAAW3L,EAAK4H,SAChBtB,EAAMqF,EAASrG,cACfiB,EAAMoF,EAASlG,kBAEf0C,EAAS1B,GAAc8B,EAAYjC,EAAKzB,GACxCiE,EAASrC,GAAc8B,EAAYhC,EAAK1B,GACxCuD,EAAY1B,GAAgByB,EAAQW,GACpCtC,EAAK3E,GAAuBuG,EAAWD,EAAQvD,EAAS3E,OAAO,GAC/DqI,EAAK3B,GAAMH,EAAI4B,GACnB7U,KAAKkY,gBAAgBzL,EAAM,CACzB9M,KAAMsT,EAAGtT,KACTC,IAAKqT,EAAGrT,IACRwM,MAAO2I,EAAG3I,MACVvK,OAAQkT,EAAGlT,SACV,IAELwW,oBA3EO,SA4ELC,EACA7L,EACA6E,EACA/L,GAEA,IAOIgT,EAPAC,EAAYF,EAAM5c,KAClB+c,EAAgBH,EAAMjE,SACtBqE,EAAaF,EAAU9L,MACvBhR,EAAO+Q,EAAK/Q,KACZ0Y,EAAW3H,EAAK4H,SAChB3H,EAAQhR,EAAKgR,MACb2B,EAASH,GAAUwK,GAEnBnX,EAAO,OAEC,OAARgE,EACFgT,EAAQE,EAAc9Y,KAEP,OAAR4F,EACPgT,EAAQE,EAAc9Y,KAAO8Y,EAAcrM,MAE5B,OAAR7G,GACPgT,EAAQE,EAAc7Y,IACtB2B,EAAO,QAGPgX,EAAQE,EAAc7Y,IAAM6Y,EAAc5W,OAC1CN,EAAO,OAGT,IAAIoX,EAAYnW,KAAKyN,IAAIvD,EAAQgM,GAC7BE,EAAsB,MAAdD,EACRE,EAAqB,KAAdF,EACPG,EAAsB,MAAdH,EAER5F,EAAMqB,EAASrC,cACfmD,EAAMd,EAASnC,eACfe,EAAMoB,EAASlC,kBACfiD,EAAMf,EAASpC,iBAGnB,GAAI6G,EACD9F,EAAaoC,EAARnC,EAAakC,OAEhB,GAAI0D,EAAM,OACA,CAAC5F,EAAKD,GAAlBA,EADY,KACPC,EADO,UAGN8F,IACN/F,EAAamC,EAARlC,EAAamC,GAGrB,IAAIlC,EAAK3E,GACPmK,EAAclK,OACdwE,EACA2F,GACA,GAEEK,EAAM9F,EAAG1R,GAAQgX,EACjBS,EAAUD,GAAOzH,EAAQ,GACzBsD,EAAS,CACXjV,KAAMoT,EAAIpT,KACVC,IAAKmT,EAAInT,KAEE,SAAT2B,GACFqT,EAAOjV,MAAQ6C,KAAKoM,IAAIP,GAAU2K,EAClCpE,EAAOhV,KAAO4C,KAAKqM,IAAIR,GAAU2K,IAGjCpE,EAAOjV,MAAQ6C,KAAKqM,IAAIR,GAAU2K,EAClCpE,EAAOhV,KAAO4C,KAAKoM,IAAIP,GAAU2K,GAGnC,IAAInM,EAAKyB,GACPmK,EAAclK,OACdyE,EACA0F,GACA,GAGEO,EAAOpM,EAAGtL,GAAQgX,EAClBW,EAAWD,GAAQ3H,EAAQ,GAC3BiE,EAAS,CACX5V,KAAMqT,EAAIrT,KACVC,IAAKoT,EAAIpT,KAEE,SAAT2B,GACFgU,EAAO5V,MAAQ6C,KAAKoM,IAAIP,GAAU6K,EAClC3D,EAAO3V,KAAO4C,KAAKqM,IAAIR,GAAU6K,IAGjC3D,EAAO5V,MAAQ6C,KAAKqM,IAAIR,GAAU6K,EAClC3D,EAAO3V,KAAO4C,KAAKoM,IAAIP,GAAU6K,GAGnC,IAAIrE,EAAY1B,GAAgByB,EAAQW,GACpCT,EAAQxG,GACVuG,EACAD,EACAlI,GACA,GAEEqI,EAAK3B,GAAM0B,EAAOD,GAClB5U,EAAO,CACTN,KAAMmV,EAAMnV,KACZC,IAAKkV,EAAMlV,IACXwM,MAAO2I,EAAG3I,MACVvK,OAAQkT,EAAGlT,QAGT+W,GACF3Y,EAAKN,KAAOjE,EAAKiE,KAAOM,EAAKmM,MAC7BnM,EAAKL,IAAMlE,EAAKkE,IAAMK,EAAK4B,QAEpBgX,EACP5Y,EAAKL,IAAMlE,EAAKkE,IAAMK,EAAK4B,OAEpBiX,IACP7Y,EAAKN,KAAOjE,EAAKiE,KAAOM,EAAKmM,OAE/BpM,KAAKkY,gBAAgBzL,EAAMxM,GAAM,IAGnCkZ,aAtMO,SAuMLb,EACAtD,EACA1D,GACA,WACI5L,EAAI,SAACQ,GACP,IAAIuG,EAAO,EAAK2M,aAAalT,GAC7B,EAAKiS,iBAAiB1L,EAAMuI,EAAY1D,IAE1CtR,KAAKqZ,kBAAkBf,EAAO5S,IAEhC4T,oBAjNO,SAkNLhB,EACAL,EACA1S,GACA,WACMyP,EAAeiD,EAAfjD,WACF1D,EAAQ2G,EAAU7B,QAAU6B,EAAUnC,OACtC0C,EAAYF,EAAM5c,KAClBgd,EAAaF,EAAU9L,MACvBhH,EAAI,SAACQ,GACP,IAAIuG,EAAO,EAAK2M,aAAalT,GACzBxK,EAAO+Q,EAAK/Q,KACZgR,EAAQhR,EAAKgR,MAIbyJ,EAAcqC,EAAUrC,aAAeza,EAAKya,YAC5C0C,GAAQnM,EAAQgM,GAAc,KAAO,EACpCvC,GAAe0C,EAClB,EAAKV,iBAAiB1L,EAAMuI,EAAY1D,GAGxC,EAAK+G,oBAAoBC,EAAO7L,EAAM6E,EAAO/L,IAIjD,OADAvF,KAAKqZ,kBAAkBf,EAAO5S,GACvB1F,KAAKuZ,cAAcjB,IAI5Bf,aA/OO,SAgPLe,GAIA,IAHA/S,EAGA,uDAHM,IACNkP,EAEA,uDAFK,EACLC,EACA,uDADK,EAEDqD,EAAU,CACZvM,EAAGgJ,GACH/I,EAAGwJ,GACHrX,EAAG0X,GACHzX,EAAG2X,GACH1C,GAAI8C,GACJ9D,GAAIkE,GACJwD,GAAIlD,GACJzE,GAAI2E,IACJjR,GACE0S,EAAYF,EAAQO,EAAO7D,EAAIC,GAC/B+E,EAAY,GAChB,GAAI,CAAC,IAAK,IAAK,IAAK,KAAK/F,SAASnO,GAAK,KAChC+L,EAAqB2G,EAArB3G,MAAO0D,EAAciD,EAAdjD,WACZhV,KAAKmZ,aAAab,EAAOtD,EAAY1D,GACrCmI,EAAYxB,EAAUhY,UAGtBwZ,EAAYzZ,KAAKsZ,oBAAoBhB,EAAOL,EAAW1S,GAEzDvF,KAAKkY,gBAAgBI,EAAOmB,IAI9BhC,YA7QO,SA8QLhL,GAIA,IAHAlH,EAGA,uDAHM,KACNkP,EAEA,uCADAC,EACA,uCACIqD,EAAU,CACZvM,EAAGkK,GACHjK,EAAGsK,GACHnY,EAAGsY,GACHrY,EAAG0Y,GACHzD,GAAI8C,GACJ9D,GAAIkE,GACJwD,GAAIlD,GACJzE,GAAI2E,IACJjR,GACEmU,EAAW1Z,KAAKkX,MAAM3W,EAAEmZ,SACxBvD,EAAc1J,EAAK/Q,KAAKya,aACxBuD,GAAYvD,KACd4B,EAAU,CACRvM,EAAGgJ,GACH/I,EAAGwJ,GACHrX,EAAG0X,GACHzX,EAAG2X,IACHjQ,IAEJ,IAAI0S,EAAYF,EAAQtL,EAAMgI,EAAIC,GAClC1U,KAAKkY,gBAAgBzL,EAAMwL,EAAUhY,OAGvC0Z,UA3SO,SA4SLlN,GAGA,IAEIwL,EACA1S,EALJ6G,EAEA,uDAFQ,KACRvK,EACA,uDADS,KAEL+X,EAAc5Z,KAAKsX,kBAAkB7K,GAYzC,GARc,OAAVL,IACF6L,EAAYhC,GAAexJ,EAAML,GACjC7G,EAAM,MAEO,OAAX1D,IACFoW,EAAY5B,GAAgB5J,EAAM5K,GAClC0D,EAAM,MAEJqU,EAAY,CACd,IAAIH,EAAYzZ,KAAKsZ,oBAAoB7M,EAAMwL,EAAW1S,GAC1DvF,KAAKkY,gBAAgBzL,EAAMgN,QAG3BzZ,KAAKkY,gBAAgBzL,EAAMwL,EAAUhY,OAGzC4X,eApUO,SAqULpL,EACAL,GAEApM,KAAK2Z,UAAUlN,EAAML,IAEvB0L,gBA1UO,SA2ULrL,EACA5K,GAEA7B,KAAK2Z,UAAUlN,EAAM,KAAM5K,MCnWlB,IACb/B,QAAS,CACP+Z,QADO,SACEC,GACP,IAAIrN,EAAOzM,KAAKwF,QAAQxF,KAAKiX,YACzBpE,EAAOzB,GAAY3E,EAAK/Q,MACxB0Y,EAAW3H,EAAK4H,SAChB0F,EAAW3F,EAAS1H,MACpBsN,EAAWnH,EAAKnG,MAChB4E,EAAQtR,KAAKsR,MACbqF,EAAYnI,SAASuB,GAAoB+J,EAAY,CACvDna,KAAMkT,EAAKtE,OAAO5O,KAAO2R,EACzB1R,IAAKiT,EAAKtE,OAAO3O,IAAM0R,KAErBqH,EAAYhC,EAAWoD,EAC3BpB,EAAY3Y,KAAKia,oBAAoBF,EAAUC,EAAUrD,EAAUgC,GAE/D3Y,KAAKsX,kBAAkB7K,GACzBzM,KAAKka,aAAazN,EAAMkM,GAGxB3Y,KAAKma,YAAY1N,EAAMkM,IAG3ByB,UAtBO,SAuBL3N,EACAC,GAEA,IAAI0H,EAAW3H,EAAK4H,SAChBsE,EAAYjM,EAAQ0H,EAAS1H,MAE7B1M,KAAKsX,kBAAkB7K,GACzBzM,KAAKka,aAAazN,EAAMkM,GAGxB3Y,KAAKma,YAAY1N,EAAMkM,IAG3BwB,YApCO,SAqCL1N,EACAkM,GAIA,GAFA3Y,KAAK2G,2BAA2B8F,EAAM,QAAS+D,GAAkB/D,EAAK4H,SAAS3H,MAAQiM,IAEnFlM,EAAK4N,QAAQ,CACf,IAAI/B,EAAQtY,KAAKoZ,aAAa3M,EAAK4N,SACnCra,KAAKsa,iBAAiBhC,KAG1B4B,aA/CO,SAgDL5B,EACAK,GACA,WACIF,EAAgBH,EAAMjE,SACtBkG,EAAc9B,EAAclK,OAC5B7I,EAAI,SAACQ,GACP,IAAIuG,EAAO,EAAK2M,aAAalT,GACzBkO,EAAW3H,EAAK4H,SAChB9F,EAASD,GAAuBiM,EAAanG,EAAS7F,OAAQoK,GAC9DhZ,EAAO4O,EAAO5O,KAAOyU,EAAShI,MAAQ,EACtCxM,EAAM2O,EAAO3O,IAAMwU,EAASvS,OAAS,EAEzC,EAAK8E,2BAA2B8F,EAAM,OAAQoB,GAAQlO,IACtD,EAAKgH,2BAA2B8F,EAAM,MAAOoB,GAAQjO,IACrD,EAAK+G,2BAA2B8F,EAAM,QAAS+D,GAAkB4D,EAAS1H,MAAQiM,KAEpF3Y,KAAKqZ,kBAAkBf,EAAO5S,GAAG,MCzExB,IACb5F,QAAS,CACP0a,MADO,SAEL/N,GAIA,IAHAgI,EAGA,uDAHK,EACLC,EAEA,uDAFK,EACL+F,IACA,yDAEA,GADAhO,EAAOzM,KAAKqG,YAAYoG,GACpBgO,EAAQ,OACCza,KAAK0a,kBAAkBjO,EAAMgI,EAAIC,GADlC,uBACTD,EADS,KACLC,EADK,KAGZ,IAAIiG,EAAU3a,KAAKkX,MAAM3W,EAAEmZ,SACvBiB,IACEnY,KAAKyN,IAAIwE,GAAMjS,KAAKyN,IAAIyE,GAC1BA,EAAK,EAGLD,EAAK,GAGLzU,KAAKsX,kBAAkB7K,GACzBzM,KAAK4a,WAAWnO,EAAMgI,EAAIC,GAG1B1U,KAAK6a,UAAUpO,EAAMgI,EAAIC,IAG7BoG,QA3BO,SA4BLrO,GAGA,IAFA9M,EAEA,uDAFO,KACPC,EACA,uDADM,KAEFwU,EAAW3H,EAAK4H,SAChBI,EAAK,EACLC,EAAK,EACI,OAAT/U,IACF8U,EAAK9U,EAAOyU,EAASzU,MAEX,OAARC,IACF8U,EAAK9U,EAAMwU,EAASxU,KAEtBI,KAAKwa,MAAM/N,EAAMgI,EAAIC,GAAI,IAE3BqG,YA3CO,SA4CLtO,EACA9M,GAEAK,KAAK8a,QAAQrO,EAAM9M,IAErBqb,WAjDO,SAkDLvO,EACA7M,GAEAI,KAAK8a,QAAQrO,EAAM,KAAM7M,IAE3Bib,UAvDO,SAwDLpO,GAGA,IAFAgI,EAEA,uDAFK,EACLC,EACA,uDADK,EAEDN,EAAW3H,EAAK4H,SAKpB,GAJArU,KAAKkY,gBAAgBzL,EAAM,CACzB9M,KAAMyU,EAASzU,KAAO8U,EACtB7U,IAAKwU,EAASxU,IAAM8U,IACnB,GACCjI,EAAK4N,QAAQ,CACf,IAAI/B,EAAQtY,KAAKoZ,aAAa3M,EAAK4N,SACnCra,KAAKsa,iBAAiBhC,KAG1BsC,WAtEO,SAuELtC,GAGA,WAFA7D,EAEA,uDAFK,EACLC,EACA,uDADK,EAEDhP,EAAI,SAACQ,GACP,IAAIuG,EAAO,EAAK2M,aAAalT,GACzBkO,EAAW3H,EAAK4H,SACpB,EAAK6D,gBAAgBzL,EAAM,CACzB9M,KAAMyU,EAASzU,KAAO8U,EACtB7U,IAAKwU,EAASxU,IAAM8U,IACnB,IAEL1U,KAAKqZ,kBAAkBf,EAAO5S,MCjFlChE,GAOEuZ,IAPFvZ,IACAqK,GAMEkP,IANFlP,KACAmP,GAKED,IALFC,MACAC,GAIEF,IAJFE,OACAC,GAGEH,IAHFG,OACAC,GAEEJ,IAFFI,MACArf,GACEif,IADFjf,EAEEiH,GAAUgY,IAAInc,KAAK,YACnBwc,GAAiB,WACnB,IAAI1Y,EAAK5C,KACLS,EAAW,CACb,uBAAuB,GAErBgM,EAAOzM,KAAKqG,YACdrG,KAAKiX,YAAcjX,KAAKub,oBAAoB,IAE1CpU,EAAW,GAEf,GAAIsF,EAAK,CACP,IAAI4E,EAAW5E,EAAK/Q,KAChBke,EAAc5Z,KAAKsX,kBAAkB7K,GACrC+O,EAAcxb,KAAKmG,kBAAkBsG,GACrC2K,EAAuB,cAAd3K,EAAKlL,KACdka,EAAuB,cAAdhP,EAAKlL,KACdma,EAAarK,EAASqK,WACtBvF,EAAc9E,EAAS8E,YACvBwF,EAAStK,EAASsK,OAClBC,EAAmB,SAACnV,GACtB,IAAIlI,EAAQ8S,EAAS5K,GACA,kBAAVlI,IACTA,EAAQsP,GAAQtP,EAAO,IAEzB,IAAIkC,EAAW,CACb,oBAAoB,EACpB,kBAAkB,EAClBob,eAAgBtd,EAChBud,cAAe,SACfC,YAAaxd,EACbyd,kBAAmBL,EACnBM,eAAgBN,EAChB9c,IAAK4H,EACL,QATa,aAWb,SAXa,WAYX7D,EAAGsZ,oBAAoBzP,IAEzB,UAda,SAcAlM,GACX,IAAIhC,EAAQgC,EAAEmH,OAAOnJ,MACrBqE,EAAG+D,2BAA2B8F,EAAMhG,EAAMlI,GAC1CqE,EAAG+B,eACC,CAAC,eAAe+O,SAASjN,IAC3B7D,EAAGuZ,kBAiBT,MAbI,CAAC,cAAe,QAAS,mBAAmBzI,SAASjN,KACvDhG,EAAW,kBACNA,EADG,CAEN,UAFM,SAEOlC,GACX,IAAI6d,EAAQ7d,EAAM8d,KAClBzZ,EAAG+D,2BAA2B8F,EAAMhG,EAAM2V,GAC1CxZ,EAAG+B,eACC,CAAC,eAAe+O,SAASjN,IAC3B7D,EAAGuZ,oBAKJ1b,GAET,GAAI+a,EAAY,CACd,IAAIc,EAAS5a,GAAI,CAAC,gCAAgC,GAChDqK,GAAK,MACLoP,GAAO,CACL,qBAAqB,EACrB,mBAAmB,EACnB,eAAkB,GAClB,UAJK,SAIQ5a,GACX,IAAIgc,EAAQhc,EAAEmH,OAAOnJ,MACjBmH,EAAI,CACN/F,KAAMiD,EAAG4Z,qBACTC,UAAW7Z,EAAG8Z,0BACdnL,MAAO3O,EAAG+Z,sBACV/c,IAAKgD,EAAGga,oBACRC,UAAWja,EAAGka,0BACdtL,OAAQ5O,EAAGma,uBACXC,YAAapa,EAAGqa,uBAChBC,YAAata,EAAGua,wBAChBZ,GACF7W,IACA9C,EAAG+B,eACH/B,EAAGwa,eAGLhC,GAAO,CAACS,eAAgB,IAAK,UAC7BT,GAAO,CAACS,eAAgB,QAAS,OACjCT,GAAO,CAACS,eAAgB,aAAc,QACtCT,GAAO,CAACS,eAAgB,SAAU,OAClCT,GAAO,CAACS,eAAgB,OAAQ,OAChCT,GAAO,CAACS,eAAgB,aAAc,QACtCT,GAAO,CAACS,eAAgB,UAAW,OACnCT,GAAO,CACLY,mBAAoBpZ,EAAGya,2BACvBxB,eAAgB,eACf,SACHT,GAAO,CACLY,mBAAoBpZ,EAAGya,2BACvBxB,eAAgB,eACf,WAGP1U,EAAW,GAAH,sBAAOA,GAAP,CAAiBmV,IAE3B,IAAIgB,EAAQ5b,GAAI,CAAC,gCAAgC,GAC/CqK,GAAK,QACLmP,GAAM,kBACDU,EAAiB,QADjB,CAEH,UAFG,SAEUrb,GACX,IAAIhC,EAAQgC,EAAEmH,OAAOnJ,MACjBgf,EAAW/O,SAASjQ,GACxBqE,EAAGmY,YAAYtO,EAAM8Q,GACrB3a,EAAG+B,oBAITwC,EAAW,GAAH,sBAAOA,GAAP,CAAiBmW,IACzB,IAAIE,EAAO9b,GAAI,CAAC,gCAAgC,GAC9CqK,GAAK,QACLmP,GAAM,kBACDU,EAAiB,OADjB,CAEH,UAFG,SAEUrb,GACX,IAAIhC,EAAQgC,EAAEmH,OAAOnJ,MACjBgf,EAAW/O,SAASjQ,GACxBqE,EAAGoY,WAAWvO,EAAM8Q,GACpB3a,EAAG+B,oBAITwC,EAAW,GAAH,sBAAOA,GAAP,CAAiBqW,IACzB,IAAIC,EAAS/b,GAAI,CAAC,gCAAgC,GAChDqK,GAAK,MACLmP,GAAM,gBACJc,kBAAmBN,GAChBE,EAAiB,SAFjB,CAGH,UAHG,SAGUrb,GACX,IAAIhC,EAAQgC,EAAEmH,OAAOnJ,MACjBgf,EAAW/a,KAAK4K,IAAI,GAAIoB,SAASjQ,IACrCqE,EAAGiV,eAAepL,EAAM8Q,GACxB3a,EAAG+B,oBAITwC,EAAW,GAAH,sBAAOA,GAAP,CAAiBsW,IACzB,IAAIC,EAAUhc,GAAI,CAAC,gCAAgC,GACjDqK,GAAK,MACLmP,GAAM,gBACJc,kBAAmBN,GAActE,GAAUjB,GACxCyF,EAAiB,UAFjB,CAGH,UAHG,SAGUrb,GACX,IAAIhC,EAAQgC,EAAEmH,OAAOnJ,MACjBgf,EAAW/a,KAAK4K,IAAI,GAAIoB,SAASjQ,IACrCqE,EAAGkV,gBAAgBrL,EAAM8Q,GACzB3a,EAAG+B,oBAKT,GADAwC,EAAW,GAAH,sBAAOA,GAAP,CAAiBuW,KACpBlC,EAAa,CAChB,IAAImC,EAASjc,GAAI,CAAC,gCAAgC,GAChDqK,GAAK,MACLmP,GAAM,kBACDU,EAAiB,SADjB,CAEH,UAFG,SAEUrb,GACX,IAAIhC,EAAQgC,EAAEmH,OAAOnJ,MACjBgf,EAAW/O,SAASjQ,GAAS,IAC7Bgf,EAAW,IACbA,GAAY,KAEd3a,EAAGwX,UAAU3N,EAAM8Q,QAIzBpW,EAAW,GAAH,sBAAOA,GAAP,CAAiBwW,IAE3B,IAAKvG,EAAO,CACV,IAAIwG,EAAelc,GAAI,CAAC,gCAAgC,GACtDqK,GAAK,QACLsP,GAAM,CACJ,qBAAqB,GAErBH,GAAM,kBACDU,IADA,CAEH/c,IAAK,cACLid,cAAe,WACf+B,iBAAkBxM,EAAS,eAC3B,UALG,WAMD,IAAI9S,GAAS8S,EAAS,eACtBzO,EAAG+D,2BAA2B8F,EAAM,cAAelO,GACnDqE,EAAG+B,mBAGP3I,GAAE,CAAC,mBAAmB,MAG1BmL,EAAW,GAAH,sBAAOA,GAAP,CAAiByW,IAG3B,GAAIxG,EAAO,CACT,IAAI0G,EAAepc,GAAI,CAAC,gCAAgC,GACtDqK,GAAK,QACLsP,GAAM,CACJ,qBAAqB,GAErBH,GAAM,kBACDU,IADA,CAEH/c,IAAK,cACLid,cAAe,WACf+B,iBAAkBxM,EAAS,eAC3B,UALG,WAMD,IAAI9S,GAAS8S,EAAS,eACtBzO,EAAG+D,2BAA2B8F,EAAM,cAAelO,GACnDqE,EAAG+B,mBAGP3I,GAAE,CAAC,mBAAmB,MAG1BmL,EAAW,GAAH,sBAAOA,GAAP,CAAiB2W,IAE3B,IAAKlE,EAAY,CACf,IAAK6B,EAAO,CACV,IAAIsC,EAAerc,GAAI,CAAC,gCAAgC,GACtDqK,GAAK,QACLmP,GAAM,kBACDU,EAAiB,eADjB,CAEH,UAFG,SAEUrb,GACX,IAAIhC,EAAQgC,EAAEmH,OAAOnJ,MACjBgf,EAAW/a,KAAK4K,IAAI,EAAGoB,SAASjQ,IACpCqE,EAAG+D,2BAA2B8F,EAAM,cAAe8Q,GAC/CnG,GACFxU,EAAG+D,2BAA2B8F,EAAM,SAAU8Q,QAKtDpW,EAAW,GAAH,sBAAOA,GAAP,CAAiB4W,IACzB,IAAIC,EAAetc,GAAI,CAAC,gCAAgC,GACtDqK,GAAK,QACLoP,GAAO,kBACFS,EAAiB,eADhB,CAEJ,qBAAqB,EACrB,mBAAmB,IAEnBR,GAAO,CAACS,eAAgB,SAAS,SACjCT,GAAO,CAACS,eAAgB,UAAU,UAClCT,GAAO,CAACS,eAAgB,UAAU,YAGtC1U,EAAW,GAAH,sBAAOA,GAAP,CAAiB6W,IACzB,IAAIC,EAAevc,GAAI,CAAC,gCAAgC,GACtDqK,GAAK,QACL9I,GAAQ,kBACH2Y,EAAiB,kBAGxBzU,EAAW,GAAH,sBAAOA,GAAP,CAAiB8W,IAE3B,IAAK7G,EAAO,CACV,IAAI8G,EAAmBxc,GAAI,CAAC,gCAAgC,GAC1DqK,GAAK,QACL9I,GAAQ,kBACH2Y,EAAiB,sBAGxBzU,EAAW,GAAH,sBAAOA,GAAP,CAAiB+W,IAE3B,IAAK9G,EAAO,CACV,IAAI+G,EAASzc,GAAI,CAAC,gCAAgC,GAChDqK,GAAK,QACL9I,GAAQ,kBACH2Y,EAAiB,YAGxBzU,EAAW,GAAH,sBAAOA,GAAP,CAAiBgX,IAE3B,GAAI1C,EAAO,CACT,IAAI2C,EAAc1c,GAAI,CAAC,gCAAgC,GACrDqK,GAAK,SACLsP,GAAM,CACJ,qBAAqB,GAErBH,GAAM,kBACDU,IADA,CAEH/c,IAAK,aACLgf,iBAAkBxM,EAAS,cAC3ByK,cAAe,WACf,UALG,WAMD,IAAIvd,GAAS8S,EAAS,cACtBzO,EAAGsZ,oBAAoBzP,GACvB7J,EAAG+D,2BAA2B8F,EAAM,aAAclO,GAClDqE,EAAG8U,YAAYjL,GACf7J,EAAG+B,mBAGP3I,GAAE,CAAC,mBAAmB,MAG1BmL,EAAW,GAAH,sBAAOA,GAAP,CAAiBiX,IAE3B,IAAIC,EAAY3c,GAAI,CAAC,gCAAgC,GACnDqK,GAAK,QACLmP,GAAM,kBACDU,EAAiB,YADjB,CAEH0C,aAAc,GACd,UAHG,SAGU/d,GACX,IAAIhC,EAAQgC,EAAEmH,OAAOnJ,MACrBA,EAAQiQ,SAASjQ,GACjBqE,EAAG+D,2BAA2B8F,EAAM,WAAYlO,GAChDqE,EAAGiE,mBAAmB,gBAAiBtI,GACnC8S,EAASqK,YACX9Y,EAAG8U,YAAYjL,QAKvBtF,EAAW,GAAH,sBAAOA,GAAP,CAAiBkX,IACzB,IAAIE,EAAc7c,GAAI,CAAC,gCAAgC,GACrDqK,GAAK,UACLoP,GAAO,kBACFS,EAAiB,cADhB,CAEJ,qBAAqB,EACrB,mBAAmB,IAEnBR,GAAO,CAACS,eAAgB,cAAe,OACvCT,GAAO,CAACS,eAAgB,UAAW,QACnCT,GAAO,CAACS,eAAgB,YAAa,SAGzC1U,EAAW,GAAH,sBAAOA,GAAP,CAAiBoX,IACzB,IAAIC,EAAc9c,GAAI,CAAC,gCAAgC,GACrDqK,GAAK,UACLoP,GAAO,kBACFS,EAAiB,cADhB,CAEJ,qBAAqB,EACrB,mBAAmB,IAEnBR,GAAO,CAACS,eAAgB,cAAe,OACvCT,GAAO,CAACS,eAAgB,UAAW,QACnCT,GAAO,CAACS,eAAgB,YAAa,SAGzC1U,EAAW,GAAH,sBAAOA,GAAP,CAAiBqX,IAE3B,IAAIC,EAAW/c,GAAI,CAAC,gCAAgC,GAClDqK,GAAK,QACLmP,GAAM,kBACDU,EAAiB,WADjB,CAEH0C,aAAc,EACdI,aAAc,IACd,UAJG,SAIUne,GACX,IAAIhC,EAAQgC,EAAEmH,OAAOnJ,MACrBA,EAAQiQ,SAASjQ,GACjBqE,EAAG+b,uBAAuBpgB,GAC1BqE,EAAG+B,mBAGP,KAEFwC,EAAW,GAAH,sBAAOA,GAAP,CAAiBsX,IAE3B,OAAO/c,GAAI,gBACT,YAAc,GACXjB,GAEHiB,GAAI,eACFA,GAAI,iBAAkB,OAExBA,GAAG,WAAH,GAAI,cAAJ,sBACKyF,OC5XHzF,GAAQuZ,IAARvZ,IACFkd,GAAiB,WAAY,WAC3BnS,EAAOzM,KAAKwF,QAAQxF,KAAKiX,YAC7B,GAAKxK,EAAL,CAGA,IAAI4E,EAAW5E,EAAK/Q,KAChBigB,EAAStK,EAASsK,OAClBH,EAAcxb,KAAKmG,kBAAkBsG,GACrCyK,EAAQlX,KAAKkX,MACb2H,EAAY,SAACte,GACf,EAAK2b,oBAAoBzP,GACzBlM,EAAEC,kBACFse,EAAMC,MAAM,kBAAmBxe,IAE7Bye,EAAa,CACf,4BAA4B,GAE1BvT,EAAI,EACJD,EAAI,cAAH,OAAiBC,EAAjB,OAEDwT,EAAWvd,GAAI,kBACdsd,EADa,CAEhB3e,YAAaoL,EAAI,KACjBnL,WAAYmL,EAAI,KAChB9I,aAJgB,SAIFpC,GACZ2W,EAAMC,WAAa,IACnBD,EAAMgI,UAAY,SAClBL,EAAUte,OAIV4e,EAAYzd,GAAI,kBACfsd,EADc,CAEjB3e,WAAYmL,EACZlL,WAAYmL,EAAI,KAChB9I,aAJiB,SAIHpC,GACZ2W,EAAMC,WAAa,KACnBD,EAAMgI,UAAY,SAClBL,EAAUte,OAIV6e,EAAW1d,GAAI,kBACdsd,EADa,CAEhBK,aAAc5T,EAAI,KAClBnL,WAAYmL,EAAI,KAChB9I,aAJgB,SAIFpC,GACZ2W,EAAMC,WAAa,IACnBD,EAAMgI,UAAY,SAClBL,EAAUte,OAIV+e,EAAY5d,GAAI,kBACfsd,EADc,CAEjBK,aAAc5T,EAAI,KAClBnL,UAAWkL,EACX7I,aAJiB,SAIHpC,GACZ2W,EAAMC,WAAa,KACnBD,EAAMgI,UAAY,SAClBL,EAAUte,OAIVgf,EAAW7d,GAAI,kBACdsd,EADa,CAEhBK,aAAc5T,EAAI,KAClB+T,cAAe/T,EAAI,KACnB9I,aAJgB,SAIFpC,GACZ2W,EAAMC,WAAa,IACnBD,EAAMgI,UAAY,SAClBL,EAAUte,OAIVkf,EAAY/d,GAAI,kBACfsd,EADc,CAEjB3e,WAAYmL,EACZgU,cAAe/T,EAAI,KACnB9I,aAJiB,SAIHpC,GACZ2W,EAAMC,WAAa,KACnBD,EAAMgI,UAAY,SAClBL,EAAUte,OAIVmf,EAAWhe,GAAI,kBACdsd,EADa,CAEhB3e,YAAaoL,EAAI,KACjB+T,cAAe/T,EAAI,KACnB9I,aAJgB,SAIFpC,GACZ2W,EAAMC,WAAa,IACnBD,EAAMgI,UAAY,SAClBL,EAAUte,OAIVof,EAAYje,GAAI,kBACfsd,EADc,CAEjB3e,YAAaoL,EAAI,KACjB+T,aAAchU,EACd7I,aAJiB,SAIHpC,GACZ2W,EAAMC,WAAa,KACnBD,EAAMgI,UAAY,SAClBL,EAAUte,OAGVqf,EAAU,GACVxI,EAAuB,cAAd3K,EAAKlL,KACd4U,EAAc1J,EAAK/Q,KAAKya,YACxBiB,EACFwI,EAAU,CAACD,EAAWL,IAGtBM,EAAU,CAACX,EAAUG,EAAUG,EAAUG,GACpCvJ,IACHyJ,EAAU,GAAH,sBAAOA,GAAP,CAAgBT,EAAWG,EAAWG,EAAWE,MAI5D,IAAIE,EAAUne,GAAI,CAChB,4BAA4B,EAC5BrB,WAAYmL,EACZlL,UAAW,QACXqC,aAJgB,SAIFpC,GACZ2W,EAAMgI,UAAY,SAClBL,EAAUte,MAIVE,EAAW,kBACVT,KAAK8f,qBAAqBrT,EAAMzM,KAAKsR,OAD9B,CAEV,4BAA4B,EAC5B,gCAAiCqK,IAE9B3b,KAAK+f,QAAQC,OAChBvf,EAAW,kBACNA,EADG,CAEN,cAAiB,UAGrB,IAAI0G,EAAW,GAOf,OANKqU,IACHrU,EAAW,CAAC0Y,IAETpT,EAAK/Q,KAAKggB,aACbvU,EAAW,GAAH,sBAAOA,GAAP,eAAoByY,KAEvBle,GAAG,WAAH,GAAIjB,GAAJ,sBAAiB0G,OCtJrBzF,I,oBAAOuZ,IAAPvZ,KACDue,GAAmB,WACrB,IAAI3O,EAAQtR,KAAKsR,MACjB,+BACK4O,MAAMC,KAAKngB,KAAKogB,MAAMJ,KAAKpgB,KAAKygB,KAAI,SAAAzgB,GACrC,OAAO8B,GAAI,CACT,qBAAqB,EACrB,yBAAyB,EACzBpB,UAAWV,EAAM0R,EAAQ,WAL/B,eAQK4O,MAAMC,KAAKngB,KAAKogB,MAAMJ,KAAKrgB,MAAM0gB,KAAI,SAAA1gB,GACtC,OAAO+B,GAAI,CACT,qBAAqB,EACrB,0BAA0B,EAC1BrB,WAAYV,EAAO2R,EAAQ,aCdjC5P,GAKEuZ,IALFvZ,IACAqK,GAIEkP,IAJFlP,KACAuU,GAGErF,IAHFqF,OACAnF,GAEEF,IAFFE,OACAC,GACEH,IADFG,OAEEmF,GAAiB,CACnB,WAAa,EACb,gBAAgB,GAGdC,GAAQvF,IAAInc,KAAK,UACjB2hB,GAAqB,SAAUlf,EAAMmf,GACvC,IAAI9d,EAAK5C,KADwC,EAEvBA,KAAK2gB,WAAWpf,GAArCW,EAF4C,EAE5CA,OAAQG,EAFoC,EAEpCA,IAAKyJ,EAF+B,EAE/BA,KACdrL,EAAW,kBACV8f,GADO,CAEVvE,mBAAoB9Z,EAAO5F,KAAK0D,MAChCoC,SAHU,WAIRC,EAAI/F,KAAKsG,MAGTuE,EAAW,CAAC4E,GAAKD,IAOrB,OANI4U,IACFvZ,EAAW,CACTqZ,GAAM,CAACI,WAAYF,KADb,sBAEHvZ,KAGAmZ,GAAM,WAAN,GAAO7f,GAAP,sBAAoB0G,MAEzB0Z,GAAe,WACjB,IAAIje,EAAK5C,KACT,OAAO0B,GAAI,eACTA,GAAI,aACF+e,GAAmBnkB,KAAK0D,KAAM,SAAU,YACxCygB,GAAmBnkB,KAAK0D,KAAM,SAAU,aAE1C0B,GAAI,aACF+e,GAAmBnkB,KAAK0D,KAAM,UAAW,gBACzCygB,GAAmBnkB,KAAK0D,KAAM,UAAW,mBAE3C0B,GAAI,aACF+e,GAAmBnkB,KAAK0D,KAAM,UAAW,QACzCygB,GAAmBnkB,KAAK0D,KAAM,UAAW,SACzCygB,GAAmBnkB,KAAK0D,KAAM,UAAW,aACzCygB,GAAmBnkB,KAAK0D,KAAM,UAAW,QAE3C0B,GAAI,aACF+e,GAAmBnkB,KAAK0D,KAAM,UAAW,eACzCygB,GAAmBnkB,KAAK0D,KAAM,UAAW,eACzCygB,GAAmBnkB,KAAK0D,KAAM,UAAW,eACzCygB,GAAmBnkB,KAAK0D,KAAM,UAAW,gBAE3C0B,GAAK,aACH+e,GAAmBnkB,KAAK0D,KAAM,UAAW,QACzCygB,GAAmBnkB,KAAK0D,KAAM,UAAW,WAE3C0B,GAAI,aACFyZ,GAAM,WAAN,GAAO,CACL,qBAAqB,EACrB,mBAAmB,EACnBU,eAAgB7b,KAAKsR,MACrB,UAJK,SAIQ/Q,GACXqC,EAAG0O,MAAQ/Q,EAAEmH,OAAOnJ,MACpBqE,EAAGke,iBANP,sBASK,CAAC,GAAK,GAAK,EAAG,KAAM,GAAGT,KAAI,SAAAriB,GAC5B,OAAOod,GAAO,CACZS,eAAiB7d,GAChBA,EAAI,cCzEF,IACb+iB,KAAM,UACNC,IAAK,UACLC,KAAM,UACNC,MAAO,UACPC,MAAO,WCJLC,GAAO,CACTtjB,KAAM,KACN8B,IAAK,EACLD,KAAM,EACNyM,MAAO,IACPvK,OAAQ,IACR6K,MAAO,EACP2U,OAAQ,EACRvV,KAAM,SACNsQ,MAAOA,GAAM+E,MACbxJ,SAAU,GACVC,WAAY,kBACZ0J,gBAAiBlF,GAAM8E,MACvBK,aAAc,EACdC,YAAa,EACbC,YAAa,QACbC,YAAatF,GAAM+E,MACnBQ,QAAS,IACTC,WAAY,SACZC,WAAY,SAEZC,QAAQ,EAERC,YAAY,EAEZriB,QAAQ,EAERyW,aAAa,EAEbwF,QAAQ,GAINlP,GAAO,kBACN2U,GADG,CAENtjB,KAAM,OAEJkkB,GAAS,kBACRZ,GADK,CAERtjB,KAAM,KACNyjB,aAAc,OACdnV,MAAO,MAELkM,GAAQ,kBACP8I,GADI,CAEPtjB,KAAM,OAEJmkB,GAAY,kBACXb,GADQ,CAEXtjB,KAAM,SAEJgO,GAAO,kBACNsV,GADG,CAENtjB,KAAM,KACNokB,OAAQ,KACRpW,KAAM,SACNM,MAAO,GACPvK,OAAQ,GACR6Z,YAAY,EACZ8F,YAAa,IAEXW,GAAO,kBACNf,GADG,CAENtjB,KAAM,KACNwjB,gBAAiBlF,GAAM6E,KACvBO,YAAa,EACb3f,OAAQ,EACRmW,aAAa,IChEbjM,GAEEkP,IAFFlP,KACArK,GACEuZ,IADFvZ,IAEE0gB,GAAiB,WACnB,IAAIxf,EAAK5C,KACLqiB,EAAU,CAAC,OAAQ,SAAU,OAAQ,QAAQhC,KAAI,SAAA9e,GACnD,OAAOwK,GAAK,CACV,aAAe,EACfpJ,aAFU,SAEIpC,GACZA,EAAEC,kBACFoC,EAAGsU,MAAMgI,UAAY,SACrBtc,EAAGsU,MAAMoL,WAAa/gB,EACtBud,EAAMC,MAAM,kBAAmBxe,KAEhCgiB,EAAWhhB,GAAMzD,SAEtB,OAAO4D,GAAI,CACT,yBAAyB,EACzB,YAAc,GAEdA,GAAI,CACF,qBAAqB,GAErBA,GAAI,CACF,oBAAoB,EACpB,UAAY,GACX,OAELA,GAAG,WAAH,GAAI,CACF,mBAAmB,IADrB,sBAGK2gB,O,aC5BH3gB,GAAcuZ,IAAdvZ,IAAKqK,GAASkP,IAATlP,KACPyW,GAAc,SAAU/V,GAAM,aAC5B7J,EAAK5C,KACLqR,EAAW5E,EAAK/Q,KAChB+mB,EAAahW,EAAKvG,KAAOlG,KAAKiX,WAC9ByL,EAAcjW,EAAKvG,KAAOlG,KAAK2iB,YACnCD,EAAcA,GAAgBjW,EAAKvG,MAAMlG,KAAK4iB,cAC9C,IAAIjH,EAAStK,EAASsK,SAAWtK,EAAS3R,OACtCmjB,EAAWpW,EAAKlL,KAChB2V,EAAQlX,KAAKkX,MACb2H,EAAY,SAACte,GACf,EAAKuiB,WAAWrW,EAAMlM,GACtBA,EAAEC,mBAGAC,EAAW,kBACVT,KAAK8f,qBAAqBrT,IADnB,GAEV,oBAAoB,EACpB,yBAA0BiW,IAAgBD,EAC1C,yBAA0BA,EAC1B,wBAAyB9G,GALf,wCAMMkH,IAAa,GANnB,kBAOV,WAAYpW,EAAKvG,IAPP,kBAQV,cAAeuG,EAAKxD,OARV,2CASI1I,GACRqC,EAAGuD,kBAAkBsG,KAGzByK,EAAMgI,UAAY,OACdzS,EAAK/Q,KAAKomB,SACZ5K,EAAMgI,UAAY,IAEpBL,EAAUte,GAENoT,GAAapT,GACfqC,EAAGmgB,iBAAiBxiB,EAAG,QAGvBue,EAAMC,MAAM,kBAAmBxe,OAvBzB,6CA2BRqC,EAAGogB,WAAWvW,MA3BN,4CA8BR7J,EAAGqgB,mBA9BK,IAiCR9b,EAAW,GAiBf,OAhBKnH,KAAKsX,kBAAkB7K,KAC1BhM,EAAS,eAAiB,SAACF,GACzBqC,EAAGkgB,WAAWrW,EAAMlM,GACpB2W,EAAMgM,KAAM,GAEd/b,EAAW,CAACnH,KAAKmjB,iBAAiB1W,KAEhCiW,GAAe/G,IACjBxU,EAAW,GAAH,sBACHA,GADG,CAEN8T,IAAIrc,OAAO,SAAU,CACnB,8BAA8B,EAC9BgiB,WAAY,YAIXlf,GAAG,WAAH,GAAIjB,GAAJ,sBAAkB0G,MAGvBgc,GAAmB,SAAU1W,GAAM,WACjC7J,EAAK5C,KACL8hB,EAASrV,EAAK/Q,KAAKomB,OACnBpmB,EAAO+Q,EAAK/Q,KACZ0b,EAAuB,cAAd3K,EAAKlL,KACdd,EAAW,CACb,0BAA0B,GAExB0G,EAAW,GACf,GAAIiQ,EACF3W,EAAW,kBACNA,EADG,CAEN,yBAA0B/E,EAAK8lB,YAAc,KAC7C,yBAA0B9lB,EAAK+lB,YAC/B,yBAA0B/lB,EAAKgmB,kBAG9B,CACHjhB,EAAW,kBACNA,EADG,CAEN,qBAAsB/E,EAAK8lB,YAAc,KACzC,qBAAsB9lB,EAAK+lB,YAC3B,qBAAsB/lB,EAAKgmB,YAC3B,yBAA0BhmB,EAAK4lB,gBAC/B,sBAAuB9N,GAAU9X,EAAK6lB,cACtC,oBAAqB7lB,EAAKmmB,WAC1B,wBAAyBnmB,EAAKkmB,WAC9B,eAAkB,WAEpB,IAAIwB,EAAe,CACjB,+BAA+B,EAC/B,uBAAyB,EACzB,YAAe1nB,EAAK0gB,MACpB,kBAAmB1gB,EAAKic,SAAW,KACnC,oBAAqBjc,EAAKkc,YAExBkK,GACFsB,EAAe,kBACVA,EADO,CAEVC,aAAc,OACdC,IAAK,cACLC,uBAAuB,EACvBC,gBAAiB,WAAF,OAAa9nB,EAAKgR,MAAlB,QACf+W,QANU,WAOR7gB,EAAG8gB,YACH9gB,EAAG+D,2BAA2B8F,EAAM,UAAU,GAC9C7J,EAAG+B,gBAELgf,SAXU,WAYR/gB,EAAGghB,aACHhhB,EAAGihB,MAAMC,YAAYzX,UAAY3Q,EAAKoQ,KACtC6E,GAAW/N,EAAGihB,MAAMC,aACpBlhB,EAAGsZ,oBAAoBzP,IAEzBsX,SAjBU,SAiBAxjB,GACR,IAAIuL,EAAOvL,EAAEmH,OAAO2E,UAChB3Q,EAAKggB,YACP9Y,EAAG8U,YAAYjL,EAAMX,GAEvBlJ,EAAG+D,2BAA2B8F,EAAM,OAAQX,MAIhDkY,YAAW,WACL,EAAKH,MAAMC,aACb,EAAKD,MAAMC,YAAYG,YAK3Bb,EAAe,kBACVA,EADO,CAEV,mBAAsB1nB,EAAKoQ,OAG/B3E,EAAW,CAAC4E,GAAKqX,IAGnB,OAAO1hB,GAAG,WAAH,GAAIjB,GAAJ,sBAAiB0G,MAEtB+c,GAAe,WAAY,WAC7B,IAAKlkB,KAAKmkB,SACR,OAAO,KAET,IAAIvR,EAAQ,GASZ,OARA5S,KAAKokB,sBAAsBhhB,SAAQ,SAAAqJ,GAC5B,EAAK4X,iBAAiB5X,IAG3BmG,EAAMpW,KACJ,EAAKgmB,YAAY/V,OAGd/K,GAAI,CACT,sBAAsB,GAEtBA,GAAG,WAAH,GAAI,CACF,oBAAoB,EACpB,gCAA4B1B,KAAKsR,MAAjC,OAFF,OAIKsB,MC7KL0R,GAAgB,SAACniB,GACnBA,EAAQoiB,YAAcnI,GAAM6E,KAC5B9e,EAAQyJ,KAAO,wBAEb7M,GAAI,IACJylB,GAAc,EAATlR,GAAK1V,EACV6mB,GAAgB,WAClB,IAAIC,EAAU1kB,KAAK6jB,MAAMc,OACrB1Y,EAAQ7M,OAAOuM,iBAAiB+Y,GACpC,MAAO,CACLE,IAAKF,EACLG,UAAWH,EAAQG,UACnBC,WAAYJ,EAAQI,WACpB1Y,MAAOoC,SAASvC,EAAMG,OACtBvK,OAAQ2M,SAASvC,EAAMpK,UAGvBkjB,GAAiB,WACnB,IAAIC,EAAOhlB,KAAKilB,QACZC,EAAaT,GAAcnoB,KAAK0D,MAC/BglB,IACHhlB,KAAKilB,QAAUD,EAAOjkB,SAASC,cAAc,UAC7CgkB,EAAKG,UAAY,aACjBH,EAAK/Y,MAAMrM,IAAM0T,GAAK9H,EAAI,KAC1BwZ,EAAK/Y,MAAMtM,KAAO2T,GAAK7H,EAAI6H,GAAK1V,EAAI,KACpCsnB,EAAWN,IAAI1jB,YAAY8jB,IAE7BA,EAAK5Y,MAA2B,EAAnB8Y,EAAW9Y,MACxB4Y,EAAKnjB,OAAS2iB,GACdQ,EAAK/Y,MAAMG,MAAQ8Y,EAAW9Y,MAAQ,KACtC4Y,EAAK/Y,MAAMpK,OAAS2iB,GAAK,EAAI,KAC7B,IAAIlT,EAAQtR,KAAKsR,MACbnP,EAAU6iB,EAAKI,WAAW,MAC9BjjB,EAAQkjB,UAAU,EAAG,EAAGtmB,GAAGylB,IAC3BF,GAAcniB,GACdA,EAAQmjB,YAER,IADA,IAAIR,EAAaI,EAAWJ,WACnB9oB,EAAI,EAAGA,EAAI+C,GAAG/C,GAAK,GAAG,CAC7B,IAAIyf,EAASzf,EAAI,MAAQ,EACrB2D,EAA0B,GAAlB3D,EAAI8oB,GACZhZ,EAAO9P,EAAIsV,EACXzI,EAA4B,GAAnB4S,EAAS,EAAI,IAC1BtZ,EAAQojB,OAAO5lB,EAAMkJ,GACrB1G,EAAQqjB,OAAO7lB,EAAM6kB,IACjB/I,GACFtZ,EAAQsjB,SAAS3Z,EAAMnM,EAAO,EAAG,IAGrCwC,EAAQojB,OAAO,EAAGf,IAClBriB,EAAQqjB,OAAOR,EAAK5Y,MAAOoY,IAC3BriB,EAAQujB,UAENC,GAAkB,WACpB,IAAIT,EAAaT,GAAcnoB,KAAK0D,MAChCglB,EAAOhlB,KAAK4lB,SACXZ,IACHhlB,KAAK4lB,SAAWZ,EAAOjkB,SAASC,cAAc,UAC9CgkB,EAAKG,UAAY,aACjBH,EAAK/Y,MAAMrM,IAAM0T,GAAK9H,EAAI8H,GAAK1V,EAAI,KACnConB,EAAK/Y,MAAMtM,KAAO2T,GAAK7H,EAAI,KAC3BzL,KAAK6jB,MAAMc,OAAOzjB,YAAY8jB,IAEhCA,EAAK5Y,MAAQoY,GACbQ,EAAKnjB,OAA6B,EAApBqjB,EAAWrjB,OACzBmjB,EAAK/Y,MAAMG,MAAQoY,GAAK,EAAI,KAC5B,IAAIlT,EAAQtR,KAAKsR,MACjB0T,EAAK/Y,MAAMpK,OAASqjB,EAAWrjB,OAAS,KACxC,IAAIM,EAAU6iB,EAAKI,WAAW,MAC9BjjB,EAAQkjB,UAAU,EAAG,EAAGb,GAAIzlB,IAC5BulB,GAAcniB,GACdA,EAAQmjB,YAER,IADA,IAAIT,EAAYK,EAAWL,UAClB7oB,EAAI,EAAGA,EAAI+C,GAAG/C,GAAK,GAAG,CAC7B,IAAIyf,EAASzf,EAAI,MAAQ,EACrB4D,EAAwB,GAAjB5D,EAAI6oB,GACX/Y,GAAS9P,EAAIsV,EAAS,KAAKhS,MAAM,EAAG,GACpCuJ,EAA4B,GAAnB4S,EAAS,EAAI,IAC1BtZ,EAAQojB,OAAO1c,EAAOjJ,GACtBuC,EAAQqjB,OAAOhB,GAAI5kB,GACf6b,IACFtZ,EAAQ0jB,OACR1jB,EAAQ2jB,UAAY,SACpB3jB,EAAQ4jB,aAAe,SACvB5jB,EAAQ6jB,UAAU,GAAIpmB,EAAM,IAC5BuC,EAAQ8jB,QAAS,GAAKzjB,KAAK2L,GAAM,KACjChM,EAAQsjB,SAAS3Z,EAAM,EAAG,GAC1B3J,EAAQ+jB,WAGZ/jB,EAAQojB,OAAOf,GAAI,GACnBriB,EAAQqjB,OAAOhB,GAAIQ,EAAKnjB,QACxBM,EAAQujB,SACRvjB,EAAQujB,UAEN5E,GAAc,WAChBiE,GAAezoB,KAAK0D,MACpB2lB,GAAgBrpB,KAAK0D,OC7FjB0B,GAAeuZ,IAAfvZ,IAAKwZ,GAAUD,IAAVC,MACPiL,GAAsB,SAAU1Z,GAClC,IAAI7J,EAAK5C,KACLomB,EAAW3Z,EAAKvG,KAAOlG,KAAK2iB,aAC7BlW,EAAKvG,KAAOlG,KAAKiX,YACjBxK,EAAKvG,MAAMlG,KAAK4iB,cACfyD,EAAc,GACdtE,EAAatV,EAAK/Q,KAAKqmB,WACvBthB,EAAW,CACb,yBAAyB,GAEvB6lB,EAAgB,CAClB,+BAA+B,EAC/B,8BAA+BF,GAE7B3Z,EAAK4N,UACPiM,EAAgB,kBACXA,EADQ,CAEX,qBAAsBD,EAAc,QAGxC,IAAIlf,EAAW,GA6Df,OA5DI4a,GACF5a,EAAW,CACT+T,GAAM,uBAAwB,CAC5BW,eAAgBpP,EAAK3O,KACrBwlB,IAAK,gBACLzkB,IAAK,gBACL8kB,SAJ4B,WAK1B/gB,EAAGihB,MAAM0C,cAAcpL,UAEzBsI,QAP4B,WAQ1B7gB,EAAG+D,2BAA2B8F,EAAM,cAAc,GAClD7J,EAAG+B,gBAEL6hB,UAX4B,WAY1B5jB,EAAGihB,MAAM0C,cAAcE,QAEzB1C,SAd4B,SAclBxjB,GACR,IAAIhC,EAAQgC,EAAEmH,OAAOnJ,MACrBqE,EAAG4D,uBAAuBiG,EAAM,OAAQlO,IAE1CoE,aAlB4B,SAkBdpC,GACZA,EAAEC,sBAIRwjB,YAAY,WACNphB,EAAGihB,MAAM0C,eACX3jB,EAAGihB,MAAM0C,cAActC,aAK3BxjB,EAAW,kBACNA,EADG,CAEN,YAAegM,EAAKxD,MACpB,aAHM,WAIJrG,EAAG8jB,iBAAiBja,IAEtB,YANM,WAOJ7J,EAAG8jB,oBAEL,aATM,SASUnmB,GACd,IAAI+X,EAAQ1V,EAAG+jB,gBAAgBla,GAC3B6L,GACF1V,EAAG+D,2BAA2B2R,EAAO,UAAU,GAEjD1V,EAAGkgB,WAAWrW,EAAM,CAACiN,UAAU,IAC/BnZ,EAAEC,kBACFse,EAAMC,MAAM,kBAAmBxe,GAE3BoT,GAAapT,IACfqC,EAAGmgB,iBAAiBxiB,EAAG,gBAI7B4G,EAAW,CACTzF,GAAI4kB,EAAe7Z,EAAK3O,QAIrB4D,GAAG,WAAH,GAAIjB,GAAJ,sBAAiB0G,MAEtByf,GAAkB,WAAY,WAChC,IAAK5mB,KAAKmkB,SACR,OAAO,KAET,IAAI0C,EAAQ,GACRC,EAAO,GAeX,OAdA9mB,KAAKokB,sBAAsB2C,UAAU3jB,SAAQ,SAAAqJ,GAC3C,IAAI,EAAKtG,kBAAkBsG,GAA3B,CAGA,IAAIua,EAAOb,GAAoB7pB,KAAK,EAAMmQ,GACrB,KAAjBA,EAAK4N,SACPwM,EAAQ,GAAH,sBAAOA,GAAP,CAAcG,GAAd,eAAuBF,IAC5BA,EAAO,IAGPA,EAAKtqB,KAAKwqB,OAGdH,EAAQ,GAAH,sBAAOA,GAAP,eAAiBC,IACfplB,GAAI,CACT,yBAAyB,EACzB,oBAAoB,EACpB,YAAc,GAEdA,GAAI,CACF,qBAAqB,GAErBA,GAAI,CACF,oBAAoB,EACpB,UAAY,GACX,OAELA,GAAG,WAAH,GAAI,CACF,mBAAmB,IADrB,sBAGKmlB,OCxHHnlB,GAAqBuZ,IAArBvZ,IAAKwZ,GAAgBD,IAAhBC,MAAOnP,GAASkP,IAATlP,KACdyU,GAAQvF,IAAInc,KAAK,UACjBmoB,GAAsB,SACxBxc,EACA7B,GAEA,IAAIhG,EAAK5C,KACLknB,EAAWzc,EAAK/O,KAChByoB,EAAWnkB,KAAKmkB,SAChBgD,EAAmBnnB,KAAKmJ,yBAAyBgb,EAAU1Z,GAC3D2b,EAAUjC,IAAa1Z,EACvB4b,EAAc,GACde,EAAiBf,EAAczd,EAC/BmZ,EAAamF,EAASnF,WACtBsF,EAASrnB,KAAKkX,MAAMgM,KACI,aAAzBljB,KAAKkX,MAAMgI,YACXkH,IACAe,EACC1mB,EAAW,CACb,yBAAyB,EACzB,6BAA8B4mB,GAE5Bf,EAAgB,CAClB,+BAA+B,EAC/B,8BAA+BF,EAC/B,qBAAsBgB,EAAiB,MAErCjgB,EAAW,GACf,GAAI4a,EACF5a,EAAW,CACTzF,GAAI4kB,EACFpL,GAAM,uBAAwB,CAC5BW,eAAgBpR,EAAK3M,KACrBwlB,IAAK,YACLzkB,IAAK,YACL8kB,SAJ4B,WAK1B/gB,EAAGihB,MAAMyD,UAAUnM,UAErBsI,QAP4B,WAQ1B7gB,EAAGgE,6BAA6B6D,EAAM,cAAc,GACpD7H,EAAG+B,gBAEL6hB,UAX4B,WAY1B5jB,EAAGihB,MAAMyD,UAAUb,QAErB1C,SAd4B,SAclBxjB,GACR,IAAIhC,EAAQgC,EAAEmH,OAAOnJ,MACrBqE,EAAG8D,yBAAyB+D,EAAM,OAAQlM,IAE5CoE,aAlB4B,SAkBdpC,GACZA,EAAEC,uBAKVwjB,YAAY,WACNphB,EAAGihB,MAAMyD,WACX1kB,EAAGihB,MAAMyD,UAAUrD,eAIpB,CAoBH,GAnBAxjB,EAAW,kBACNA,EADG,CAEN,aAFM,SAEUF,GACdA,EAAEC,kBACFoC,EAAG2kB,gBAAgB9c,GACfkJ,GAAapT,GACfqC,EAAGmgB,iBAAiBxiB,EAAG,SAGvBqC,EAAGsU,MAAMgM,KAAM,EACftgB,EAAGsU,MAAMgI,UAAY,WACrBJ,EAAMC,MAAM,kBAAmBxe,OAIrC+lB,EAAgB,kBACXA,EADQ,CAEX,oCAAqCtmB,KAAKkX,MAAMgM,MAE9CmE,EAAQ,CACV,IAAI3hB,EAAI,WACN9C,EAAGqF,kBAAkBrF,EAAG4C,QAAQ2e,EAAS/a,UAAW+a,EAAU,UAE5D1jB,EAAW,CACb,WAAc2mB,EAAiB,KAC/B,kCAA8BA,EAA9B,QAEFjgB,EAAW,CACTzF,GAAI,oEAAD,kBACEjB,EADF,CAED,WAFC,WAGCiF,IACA9C,EAAG8D,yBAAyByd,EAAU,WAAY1Z,EAAKrB,UACvDxG,EAAGkF,uBAAuBlF,EAAG4C,QAAQiF,EAAKrB,UAAWqB,EAAM0Z,EAAU,cAItE1Z,EAAK7C,SACRT,EAAW,GAAH,sBACHA,GADG,CAENzF,GAAI,iEAAD,kBACEjB,EADF,CAED,WAFC,WAGCiF,IACA9C,EAAG8D,yBAAyByd,EAAU,WAAY1Z,EAAKrB,UACvDxG,EAAG6E,wBAAwB7E,EAAG4C,QAAQiF,EAAKrB,UAAUqB,EAAM0Z,EAAU,gBAK7EmC,EAAgB,kBACXA,EADQ,CAEX,WAFW,WAGT5gB,IACA9C,EAAG8D,yBAAyByd,EAAU,WAAY1Z,EAAKrB,UACvDxG,EAAGoE,kBAAkByD,EAAM0Z,EAAU,SACrCvhB,EAAGgE,6BAA6B6D,EAAM,YAAY,MAIxDtD,EAAW,GAAH,sBACHA,GADG,CAENzF,GAAI4kB,EACF7b,EAAKE,MAAMvD,OAASoZ,GAAM,CACxBI,WAAYsG,EAASne,SAAW,aAAe,WAC/CpG,aAFwB,WAItBC,EAAGgE,6BAA6B6D,EAAM,YAAayc,EAASne,UAC5DnG,EAAG+B,kBAEF,KAELoH,GAAKtB,EAAK3M,SAIhB,OAAO4D,GAAG,WAAH,GAAIjB,GAAJ,sBAAiB0G,MAEtBqgB,GAAkB,WAAY,WAChC,IAAKxnB,KAAKmkB,SACR,OAAO,KAET,IAIIsD,EAJA7kB,EAAK5C,KACLmH,EAAW,GACXkgB,EAASrnB,KAAKkX,MAAMgM,KACI,aAAzBljB,KAAKkX,MAAMgI,UA8Bd,OA5BAlf,KAAKwI,gBAAgBxI,KAAKwF,QAAQxF,KAAKqL,eAAgB,SAAS,SAACZ,EAAM7B,GACrEzB,EAAS3K,KAAKyqB,GAAoB3qB,KAAK,EAAMmO,EAAM7B,OAEjDye,IACFlgB,EAAW,GAAH,sBACHA,GADG,CAENzF,GAAI,2DAA4D,CAC9DgmB,aAD8D,WAE5DD,EAAQE,aAAY,WAClB/kB,EAAGihB,MAAM+D,SAAS/C,gBAGtBgD,YAN8D,WAO5DC,cAAcL,MAGlB/lB,GAAI,8DAA+D,CACjEgmB,aADiE,WAE/DD,EAAQE,aAAY,WAClB/kB,EAAGihB,MAAM+D,SAAS/C,gBAGtBgD,YANiE,WAO/DC,cAAcL,SAKf/lB,GAAI,mCACTA,GAAI,eACFA,GAAI,iBAAkB,OAExBA,GAAG,WAAH,GAAI,6BAA8B,CAChC4hB,IAAK,aADP,sBAGKnc,OC5LHzF,GAAQuZ,IAARvZ,IACFqmB,GAAgB,WAAY,MACG/nB,KAAKgoB,iBAAjCroB,EADyB,EACzBA,KAAMC,EADmB,EACnBA,IAAKwM,EADc,EACdA,MAAOvK,EADO,EACPA,OACvB,OAAOH,GAAI,gBAAiB,CAC1BrB,WAAYV,EAAO,KACnBW,UAAWV,EAAM,KACjBqoB,YAAa7b,EAAQ,KACrB8b,aAAcrmB,EAAS,QC4BrBH,GAAQuZ,IAARvZ,IACS,IACbhG,KADa,WAEX,MAAO,CACLupB,QAAS,KACTW,SAAU,OAGd9lB,QAAS,CACPwb,kBACAsD,kBACAqB,oBACAY,gBACAqD,gBACA1B,eACAW,oBACAf,kBACAtB,eACA8F,mBACAY,mBACAO,iBACAI,eAbO,WAcL,OAAOzmB,GAAI,YAEbY,YAhBO,SAgBM8lB,GACXnN,IAAImN,EAAIA,EACR,IAAIxlB,EAAK5C,KACLqoB,EAAWroB,KAAKkX,MAAMgM,KAAiC,WAAzBljB,KAAKkX,MAAMgI,UAC7C,OAAOxd,GAAI,CACT4mB,aAAa,GAEb5mB,GAAI,CACF,mBAAmB,EACnB,aAAgB4R,GAAK9H,EAAI,KACzB7I,aAHE,SAGYpC,GACZA,EAAEC,oBAGJR,KAAK6gB,gBAEPnf,GAAI,CACF,oBAAoB,EACpB,UAAa4R,GAAK9H,EAAI,KACtB,YAAe8H,GAAK7H,EAAI,KACxB,mCAA+B6H,GAAK9H,EAApC,QAEA9J,GAAI,qBAAsB1B,KAAKwnB,mBAC/B9lB,GAAI,qBAAsB1B,KAAKoiB,mBAEjC1gB,GAAI,CACF,sBAAsB,EACtB,UAAa4R,GAAK9H,EAAI8H,GAAK1V,EAAI,KAC/B,WAAc0V,GAAK7H,EAAI6H,GAAK1V,EAAI,KAChC,YAAe0V,GAAKzV,EAAI,KACxB,mCAA+ByV,GAAK9H,EAApC,gBAA6C8H,GAAK1V,EAAlD,OACA0lB,IAAK,SACL3gB,aAPE,SAOYpC,GACZA,EAAEC,kBACFoC,EAAG2lB,YACC5U,GAAapT,GACfqC,EAAGmgB,iBAAiBxiB,EAAG,WAGvBqC,EAAGsU,MAAMgI,UAAY,SACrBJ,EAAMC,MAAM,kBAAmBxe,MAInCP,KAAKkkB,eACLlkB,KAAKigB,mBACLjgB,KAAK4e,iBACLyJ,EAAWroB,KAAK+nB,gBAAkB,MAEpCrmB,GAAI,CACF,qBAAqB,EACrB,UAAa4R,GAAK9H,EAAI,KACtB,YAAe8H,GAAKzV,EAAI,KACxB,mCAA+ByV,GAAK9H,EAApC,QAEA9J,GAAI,qBAAsB1B,KAAKsb,eAAe8M,IAC9C1mB,GAAI,qBAAqB1B,KAAK4mB,uBAKtCrb,QApFa,WAqFXvL,KAAK8gB,gBChHM,I,8BAAA,CACbplB,KADa,WAEX,MAAO,CACL2P,cAAe,GACfT,WAAY,GACZqM,WAAY,GACZ0L,YAAa,GACb6F,YAAa,GACb5F,cAAe,GACfpd,QAAS,GACTua,QAAS,CAEPC,MAAM,EACNyH,MAAO,MAETlF,WAAY,kBACPA,GAELkG,UAAW,CACTC,MAAO,EACPhtB,KAAM,IAER0hB,WAAY,IAGhBzT,SAAU,CACR2H,MAAO,CACLnT,IADK,WAGH,OADA6B,KAAKod,WACApd,KAAKsL,YAGHiB,WAAWvM,KAAKsL,YAAY5P,KAAK4V,OAF/B,GAIXlM,IARK,SAQA7G,GACHyB,KAAK4G,6BAA6B5G,KAAKsL,YAAa,QAAS/M,KAGjE+M,YAAa,CACXnN,IADW,WAET,OAAO6B,KAAKwF,QAAQxF,KAAKqL,iBAG7B8Y,SAAU,CACRhmB,IADQ,WAEN,OAAO6B,KAAKwF,QAAQxF,KAAK4K,cAG7B+d,SAAU,CACRxqB,IADQ,WAEN,OAAO6B,KAAKwF,QAAQxF,KAAKiX,eAI/BnX,QAAS,CACPqF,eADO,SAELsB,GAEA,IADA/K,EACA,uDADOsE,KAAK4oB,MAERhmB,EAAK5C,KACLoB,EAAQqF,EAAKd,MAAM,KACnB3G,EAAStD,EACTkK,EAAWxE,EAAM9B,OAAO,GAAG,GAI/B,OAHA8B,EAAM9B,MAAM,GAAI,GAAG8D,SAAQ,SAAAlE,GACzBF,EAASA,EAAOE,MAEX,CACLf,IADK,WAEH,OAAOa,EAAO4G,IAEhBR,IAJK,SAIA7G,GACH,IAAIsqB,EAAoB,OAAVtqB,QAA8BuqB,IAAVvqB,EAC9BsqB,SACK7pB,EAAO4G,IAGd5G,EAAO4G,GAAYrH,EACnBqE,EAAGwa,iBAKX/W,YA5BO,SA4BMoG,GAIX,MAHoB,kBAATA,IACTA,EAAOzM,KAAKwF,QAAQiH,IAEfA,GAETjC,mBAlCO,WAmCL,MAAO,CACLtE,GAAIuK,KACJ3S,KAAM,KACNyD,KAAM,UACNmnB,MAAO,EACP/d,MAAO,CACLvD,OAAQ,GACRC,OAAQ,IAEV3L,KAAM,CACJ4V,MAAO,GAETyX,UAAU,IAGdC,eAlDO,WAmDL,IAAIze,EAAUvK,KAAKwK,qBAEnB,OADAxK,KAAK+G,mBAAmBwD,GACjBA,GAETG,gBAvDO,SAuDUtB,GACf,MAAO,CACLlD,GAAIuK,KACJ3S,KAAM,KACNyD,KAAM,OACNmnB,MAAO,EACPtf,WACA6f,UAAW7f,EACXxB,OAAQ,GACRG,OAAQ,GACR4C,MAAO,CACLvD,OAAQ,GACRC,OAAQ,IAGVuL,MAAO,CACLxL,OAAQ,GACRC,OAAQ,IAEV3L,KAAM,CACJqmB,YAAY,EACZhZ,UAAU,GAEZggB,UAAU,IAGdG,YAjFO,WAiFqC,IAA/B9f,EAA+B,uDAApBpJ,KAAKqL,cACvBZ,EAAOzK,KAAK0K,gBAAgBtB,GAahC,OAZAqB,EAAO,kBACFA,EADD,CAEF3M,KAAM,KAAOkC,KAAKsL,YAAYod,MAC9BO,UAAWjpB,KAAKqL,gBAElBrL,KAAK0G,yBACH1G,KAAKsL,YACL,QACAtL,KAAKsL,YAAYod,MAAQ,GAE3B1oB,KAAK8G,gBAAgB2D,GACrBzK,KAAKgH,kBAAkBhH,KAAKwF,QAAQ4D,GAAWqB,EAAM,SAC9CA,GAET0e,YAjGO,WAiGQ,WACThF,EAAWnkB,KAAKmkB,SAChBze,EAAI,SAAC+E,GACP,EAAKlE,qBAAqBkE,EAAKvE,KAEjClG,KAAKiI,kBAAkBjI,KAAKwF,QAAQ2e,EAAS/a,UAAW+a,EAAU,SAClEnkB,KAAKwI,gBAAgB2b,EAAU,QAASze,GACxCA,EAAEye,GAEF,IAAIvZ,EAAa5K,KAAKwF,QAAQxF,KAAKqL,eAAeV,MAAMvD,OACxDpH,KAAKunB,gBAAgBvnB,KAAKwF,QAAQoF,KAEpCwe,YA7GO,WA6GqB,IAAf7nB,EAAe,uDAAR,OACd7F,EAAOsE,KAAKuiB,WAAWhhB,GAC3B,GAAK7F,EAIL,OADA6F,EAAO,QAAUA,EACVvB,KAAKqpB,oBAAoB,CAAC9nB,OAAM7F,UAEzC2tB,oBArHO,SAqHcC,GAAQ,WACvB5tB,EAAO4tB,EAAO5tB,KAGlB,GAAIwkB,MAAMqJ,QAAQ7tB,GAAM,CACtB,IAAI4c,EAAQtY,KAAKwpB,gBAAgB9tB,EAAK,GAAG6F,KAAM7F,EAAK,GAAGA,MACnDkX,EAAQlX,EAAK4D,MAAM,GAAG+gB,KAAI,SAAAriB,GAAC,OAAI,EAAKwrB,gBAAgBxrB,EAAEuD,KAAMvD,EAAEtC,SAElE,OADAsE,KAAKypB,WAAWnR,EAAO1F,GAChB0F,EAGP,OAAOtY,KAAKwpB,gBAAgBF,EAAO/nB,KAAM7F,IAG7C8tB,gBAnIO,WAsIL,IAFAjoB,EAEA,uDAFO,OACP7F,EACA,uCACAA,EAAO,kBAAIA,GACX,IAAIuN,EAAQjJ,KAAKmkB,SAASuE,MAC1B1oB,KAAK0G,yBACH1G,KAAKmkB,SACL,QACAnkB,KAAKmkB,SAASuE,MAAQ,GAExB,IAAIjc,EAAO,CACTvG,GAAIuK,KACJrH,SAAUpJ,KAAKmkB,SAASje,GACxBwjB,OAAQ1pB,KAAKmkB,SAASje,GACtBmU,QAAS,GACTmO,YAAa,GACb9sB,OAEA2Y,SAAU,KAEV9S,OACAzD,KAAMpC,EAAKoC,KAAOmL,EAClBrB,OAAQ,GACRG,OAAQ,GACRmB,UAAWD,EACX8f,UAAU,GAeZ,OAbI/oB,KAAK2pB,cAAcld,KACrBA,EAAO,kBACFA,EADD,CAEFmG,MAAO,CACLxL,OAAQ,GACRC,OAAQ,OAIdrH,KAAKoG,gBAAgBqG,GAChBzM,KAAKmG,kBAAkBsG,IAC1BzM,KAAKgH,kBAAkBhH,KAAKmkB,SAAU1X,GAEjCA,GAETmd,eA9KO,SA8KSnd,GACdA,EAAOzM,KAAKqG,YAAYoG,GACxB,IAAI/G,EAAI,SAAC6H,GACP,MAAO,CACLhM,KAAMgM,EAAMhM,KACZ7F,KAAM,kBAAI6R,EAAM7R,QAGpB,GAAIsE,KAAK2pB,cAAcld,GAAM,CAC3B,IAAImG,EAAQ,CAAClN,EAAE+G,IAIf,OAHAzM,KAAK6pB,iBAAiBpd,GAAMrJ,SAAQ,SAAAmK,GAClCqF,EAAMpW,KAAKkJ,EAAE6H,OAER,CACLhM,KAAM,aACN7F,KAAMkX,GAIR,OAAOlN,EAAE+G,IAGbqd,sBApMO,SAqMLzP,GAEA,IADA5T,EACA,uDADO,UAEHjB,EAAU,GACd,IAAK,IAAI3G,KAAOmB,KAAKwF,QAAQ,CAC3B,IAAIxG,EAASgB,KAAKwF,QAAQ3G,GACrBG,EAAO+pB,UAAa/pB,EAAOyH,KAAU4T,GACxC7U,EAAQhJ,KAAKwC,GAGjB,OAAOwG,GAGT4e,oBAlNO,WAkNyC,IAA3BsF,EAA2B,uDAAlB1pB,KAAKmkB,SAASje,GACtC0M,EAAQ5S,KAAKgJ,sBAAsBhJ,KAAKwF,QAAQkkB,IAIpD,OAHI1pB,KAAKwoB,aACP5V,EAAMpW,KAAKwD,KAAKwF,QAAQxF,KAAKwoB,cAExB5V,GAETiX,iBAzNO,SAyNWvR,GAChBA,EAAQtY,KAAKqG,YAAYiS,GACzB,IAAI1F,EAAQ,GAUZ,OAREA,EADE5S,KAAKmG,kBAAkBmS,GACjBtY,KAAK8pB,sBAAsBxR,EAAMpS,GAAI,eAEtClG,KAAK2pB,cAAcrR,GAClBtY,KAAK8pB,sBAAsBxR,EAAMpS,IAGjC,CAACoS,GAEJ1F,GAET+T,gBAvOO,SAuOUla,GACfA,EAAOzM,KAAKqG,YAAYoG,GACxB,IAAI6L,EAAQtY,KAAKwF,QAAQiH,EAAK4N,SAC9B,OAAQ/B,IAAUA,EAAMyQ,SAAYzQ,EAAQ,MAE9CyR,oBA5OO,SA4Octd,GAEnB,GADAA,EAAOzM,KAAKqG,YAAYoG,GACpBA,EAAK+b,YACP,OAAOxoB,KAAKwF,QAAQiH,EAAK+b,aAE3B,IAAIlQ,EAAQtY,KAAK2mB,gBAAgBla,GACjC,OAAI6L,GAASA,EAAMkQ,YACVxoB,KAAKwF,QAAQ8S,EAAMkQ,aAErB,MAGTiB,WAxPO,SAyPLnR,EACA1F,GACA,WACA0F,EAAQtY,KAAKqG,YAAYiS,GAEzB,IAAI0R,EAAY,IAAIC,IAEhBC,EAAS,IAAID,IACjBrX,EAAMxP,SAAQ,SAAAqJ,GAEZ,GADAA,EAAO,EAAKpG,YAAYoG,IACpB,EAAKtG,kBAAkBsG,GAG3B,GAAI,EAAKkd,cAAcld,GACrBud,EAAUG,IAAI1d,OADhB,CAIA,GAAIA,EAAK4N,QAAQ,CACf,IAAI+P,EAAS,EAAK5kB,QAAQiH,EAAK4N,SAG/B,OAFA6P,EAAOC,IAAIC,QACXJ,EAAUG,IAAIC,GAGhBJ,EAAUG,IAAI1d,OAEhB,IAAI4d,EAAUnK,MAAMC,KAAK6J,GAAWM,MAClC,SAAC9e,EAAGC,GAAJ,OAAUA,EAAEvC,UAAYsC,EAAEtC,aAC1B,GACEib,EAAWnkB,KAAKmkB,SACpBnkB,KAAKiI,kBAAkBkc,EAAU7L,GACjCtY,KAAK8H,uBAAuBqc,EAAUkG,EAAS/R,GAG/C1F,EAAM0X,MACJ,SAAC9e,EAAGC,GAAJ,OAAUD,EAAEtC,UAAYuC,EAAEvC,aAC1B9F,SAAQ,SAAAqJ,GACRA,EAAO,EAAKpG,YAAYoG,GACpB,EAAKtG,kBAAkBsG,KAGvB,EAAKkd,cAAcld,GACrB,EAAK8d,gBAAgB9d,EAAKvG,KAGxBuG,EAAK4N,QACH,EAAKsM,gBAAgBla,IACvB,EAAKxE,kBAAkB,EAAKzC,QAAQiH,EAAK4N,SAAU5N,GAIrD,EAAKxE,kBAAkBkc,EAAU1X,GAEnC,EAAKzF,kBAAkBsR,EAAO7L,GAC9B,EAAKjG,uBAAuBiG,EAAM,cAAe,IACjD,EAAKjG,uBAAuBiG,EAAM,UAAW6L,EAAMpS,IACnD,EAAKM,uBAAuBiG,EAAM,WAAY6L,EAAMpS,SAGtDga,MAAMC,KAAK+J,GAAQ9mB,SAAQ,SAAAkV,GACzB,GAAMA,EAAMpS,MAAM,EAAKV,UAAY,EAAKA,QAAQ8S,EAAMpS,IAAI6iB,SAA1D,CAGA,IAAI5hB,EAAW,EAAK0iB,iBAAiBvR,GACjCnR,EAASjL,QAAU,EACrB,EAAKsuB,aAAalS,IAGlB,EAAK3R,2BAA2B2R,EAAO,UAAU,GACjD,EAAKgC,iBAAiBhC,QAG1BtY,KAAKsa,iBAAiBhC,IAExBkS,aAlUO,SAkUOlS,GAAO,WACnBA,EAAQtY,KAAKqG,YAAYiS,GACzBtY,KAAK6pB,iBAAiBvR,GAAOlV,SAAQ,SAAAqJ,GACnC,EAAKjG,uBAAuBiG,EAAM,UAAW,IAC7C,EAAKjG,uBAAuBiG,EAAM,WAAY,EAAK7B,YACnD,EAAK3C,kBAAkBqQ,EAAO7L,GAC9B,EAAKhF,wBAAwB,EAAK0c,SAAU7L,EAAO7L,MAErDzM,KAAKuqB,gBAAgBjS,EAAMpS,KAE7BukB,eA5UO,SA4US7X,GAAO,WAChB5S,KAAKwoB,aACRxoB,KAAK6G,mBAAmB,cAAe7G,KAAKopB,YAAY,aAAaljB,IAEvE,IAAIoS,EAAQtY,KAAKwF,QAAQxF,KAAKwoB,aAO9B,OANA5V,EAAMxP,SAAQ,SAAAqJ,GACZA,EAAO,EAAKpG,YAAYoG,GACxB,EAAKjG,uBAAuBiG,EAAM,cAAe6L,EAAMpS,OAEzDlG,KAAKkc,oBAAoB5D,GACzBtY,KAAKsa,iBAAiBhC,GACfA,GAEToS,iBAzVO,WAyVa,WACb1qB,KAAKwoB,cAGVxoB,KAAK6pB,iBAAiB7pB,KAAKwoB,aAAaplB,SAAQ,SAAAqJ,GAC9C,EAAKjG,uBAAuBiG,EAAM,cAAe,IACjD,IAAI6L,EAAQ,EAAKqO,gBAAgBla,GAC7B6L,GACF,EAAK3R,2BAA2B2R,EAAO,UAAU,MAGrDtY,KAAKsG,mBAAmBtG,KAAKwoB,aAC7BxoB,KAAK6G,mBAAmB,cAAe,MAEzC8jB,qBAvWO,SAuWe/X,GAAO,WAC3B,GAAK5S,KAAKwoB,YAAV,CAGA5V,EAAMxP,SAAQ,SAAAqJ,GACZ,EAAKjG,uBAAuBiG,EAAM,cAAe,OAEnD,IAAItF,EAAWnH,KAAK6pB,iBAAiB7pB,KAAKiX,YACtC9P,EAASjL,QAAU,EACrB8D,KAAK0qB,mBAIL1qB,KAAKsa,iBAAiBta,KAAKiX,cAI/BmC,aAxXO,SAwXOlT,GACZ,OAAOlG,KAAKwF,QAAQU,IAEtB0kB,cA3XO,WA4XL,OAAO5qB,KAAKwF,QAAQxF,KAAKwoB,cAE3B+B,gBA9XO,SA8XUrkB,GACf,IAAIuG,EAAOzM,KAAKwF,QAAQU,GACpBoS,EAAQtY,KAAK2mB,gBAAgBzgB,GAYjC,GAXKlG,KAAKmG,kBAAkBsG,KACtBA,EAAK4N,QACH/B,GACFtY,KAAKiI,kBAAkBqQ,EAAOtY,KAAKwF,QAAQU,IAI7ClG,KAAKiI,kBAAkBjI,KAAKmkB,SAAUnkB,KAAKwF,QAAQU,KAGvDlG,KAAKsG,mBAAmBJ,GACpBoS,EAAM,CACR,IAAInR,EAAWnH,KAAK6pB,iBAAiBvR,GACb,IAApBnR,EAASjL,OACX8D,KAAKwqB,aAAalS,GAGlBtY,KAAKsa,iBAAiBhC,KAK5BgC,iBAvZO,SAuZWhC,GAChBA,EAAQtY,KAAKqG,YAAYiS,GACzB,IAAIrY,EAAOD,KAAKuZ,cAAcjB,GAE9B,OADAtY,KAAKkY,gBAAgBI,EAAOrY,GAAM,GAC3BA,GAETsZ,cA7ZO,SA6ZQjB,GACbA,EAAQtY,KAAKqG,YAAYiS,GACzB,IAAI1F,EAAQ5S,KAAK6pB,iBAAiBvR,GAClC,OAAO3F,GAAaC,EAAO0F,EAAM5c,KAAKgR,QAExCme,aAlaO,SAkaO7rB,GACZ,MAAuB,SAAhBA,EAAOuC,MAEhB8iB,iBAraO,SAqaW5X,GAChB,OAAsC,IAA/BA,EAAKlL,KAAK0E,QAAQ,UAE3BqR,kBAxaO,SAwaY7K,GACjB,MAAqB,eAAdA,EAAKlL,MAAuC,mBAAdkL,EAAKlL,MAE5C4E,kBA3aO,SA2aYsG,GACjB,MAAqB,mBAAdA,EAAKlL,MAEdooB,cA9aO,SA8aQld,GACb,MAAqB,eAAdA,EAAKlL,MAEdupB,wBAjbO,WAkbL9qB,KAAKokB,sBAAsBhhB,SAAQ,SAAAqJ,GACjCA,EAAK4H,SAAWjD,GAAY3E,EAAK/Q,UAGrCwgB,oBAtbO,SAsbczP,GACnBA,EAAOzM,KAAKqG,YAAYoG,GACxBzM,KAAK+qB,oBAAoBte,GAAMrJ,SAAQ,SAAAmK,GACrCA,EAAM8G,SAAWjD,GAAY7D,EAAM7R,UAGvCqvB,oBA5bO,SA4bcte,GAAM,WACzB,IAAKzM,KAAKsX,kBAAkB7K,GAC1B,MAAO,CAACA,GAEV,GAAIzM,KAAK2pB,cAAcld,GACrB,OAAQA,GAAR,sBAAiBzM,KAAK6pB,iBAAiBpd,KAEzC,GAAIzM,KAAKmG,kBAAkBsG,GAAM,CAC/B,IAAImG,EAAQ,CAACnG,GAOb,OANAzM,KAAK6pB,iBAAiBpd,GAAMrJ,SAAQ,SAAAmK,GAClCqF,EAAQ,GAAH,sBAAOA,GAAP,CAAcrF,IACf,EAAKoc,cAAcpc,KACrBqF,EAAQ,GAAH,sBAAOA,GAAP,eAAgB,EAAKiX,iBAAiBtc,SAGxCqF,IAGXsF,gBA9cO,SA+cLzL,EACA/Q,GAEA,IADAsvB,IACA,yDAGI5T,EAAuB,cAAd3K,EAAKlL,KAClB,GAAI6V,GAAW,WAAY1b,EAAM,CAC/B,IAAImG,EAASW,KAAK4K,IAAI1R,EAAKmG,OAAQ,GACnCnG,EAAK,eAAiBA,EAAK,UAAYmG,EAEzC,IAAK,IAAIopB,KAAKvvB,EAAK,CACjB,IAAIwvB,EAAIxvB,EAAKuvB,GACI,kBAANC,IACTA,EAAIrd,GAAQqd,IAEdlrB,KAAK2G,2BAA2B8F,EAAMwe,EAAGC,GAG3C,GAAIF,EAAa,CACf,IAAI1S,EAAQtY,KAAK2mB,gBAAgBla,GAC7B6L,GACFtY,KAAKsa,iBAAiBhC,GAExB,IAAI2J,EAAYjiB,KAAK+pB,oBAAoBtd,GACrCwV,GACFjiB,KAAKsa,iBAAiB2H,KAI5B5I,kBA7eO,SA8eLf,EACA5S,GAEA,WADAylB,EACA,wDACIC,EAAW,GACfprB,KAAK+qB,oBAAoBzS,GAAOlV,SAAQ,SAAAqJ,GACtC,IAAIvG,EAAKuG,EAAKvG,GACV,EAAKyjB,cAAcld,GACrB2e,EAAS5uB,KAAK0J,IAIVuG,EAAK4N,SACP+Q,EAAS5uB,KAAKiQ,EAAK4N,SAErB3U,EAAEQ,OAGNklB,EAAShoB,SAAQ,SAAAiX,GAEX8Q,EACFzlB,EAAE2U,GAIF,EAAKC,iBAAiB,EAAKlB,aAAaiB,QAI9CgR,iBA3gBO,SA2gBW5e,GAChB,IAAIzM,KAAKmG,kBAAkBsG,GAA3B,CAGA,IAAIhG,EAAO,iBAAmBgG,EAAKvG,GACnClG,KAAK6G,mBAAmBJ,EAAM,KAEhC6kB,oBAlhBO,SAkhBc7e,GACnB,IAAIhG,EAAO,iBAAmBgG,EAAKvG,GACnClG,KAAK6G,mBAAmBJ,EAAM,MAC9BzG,KAAK2qB,qBAAqB,CAACle,KAE7B8e,oBAvhBO,WAwhBLvrB,KAAK6G,mBAAmB,gBAAiB,IACzC7G,KAAK0qB,oBAEPrlB,0BA3hBO,WA4hBL,IAAImmB,EAAcxrB,KAAKyrB,4BACnB/C,EAAQ8C,EAAYtvB,OACxB,GAAIwsB,GAAS,EACX1oB,KAAK0qB,mBACL1qB,KAAK0rB,gBAAgB1rB,KAAKwF,QAAQgmB,EAAY,SAE3C,CACH,IAAIvJ,EAAYjiB,KAAKyqB,eAAee,GACpCxrB,KAAK0rB,gBAAgBzJ,GAEvBjiB,KAAK8qB,0BACL9qB,KAAK2rB,eACL3rB,KAAKkX,MAAM3W,EAAI,IAEjBqrB,wBA1iBO,WA0iBoB,WACzB,OAAOzvB,OAAOiO,KAAKpK,KAAK4iB,eAAeiJ,QAAO,SAAAC,GAC5C,IAAIrf,EAAO,EAAKjH,QAAQsmB,GACxB,OAAOrf,IACJA,EAAK/Q,KAAKqtB,UACX,EAAKvjB,QAAQsmB,GAAQpwB,KAAKigB,WAGhC8P,0BAljBO,WAkjBsB,WAC3B,OAAOtvB,OAAOiO,KAAKpK,KAAK4iB,eAAeiJ,QAAO,SAAAC,GAC5C,IAAIrf,EAAO,EAAKjH,QAAQsmB,GACxB,OAAOrf,IACJA,EAAK/Q,KAAKqtB,WACV,EAAKvjB,QAAQsmB,GAAQpwB,KAAKigB,WAGjCJ,kBA1jBO,WA2jBL,OAAOpf,OAAOiO,KAAKpK,KAAK4iB,gBAE1BE,WA7jBO,SA8jBLrW,GAGA,WAFAlM,EAEA,uDAFI,CAACmZ,UAAU,GACfqS,IACA,yDACAtf,EAAOzM,KAAKqG,YAAYoG,GACxB,IAAIuf,EAAwB,aAAXzrB,EAAEgB,KACf0qB,EAAa1rB,EAAEmZ,SACfpB,EAAQtY,KAAK2mB,gBAAgBla,GAC7BwV,EAAYjiB,KAAK+pB,oBAAoBtd,GACrCkc,EAAW3oB,KAAKwF,QAAQxF,KAAKiX,YAC7BC,EAAQlX,KAAKkX,MACjBA,EAAM3W,EAAIA,EAEV,IAAImF,EAAI,WACN,GAAK+G,IAASkc,GAAcsD,GAM5B,IAAIA,IAAcD,EAAlB,CAGA,GAAIA,EAAW,CACb,EAAKzD,YACL,IAAI2D,EAAc5T,EAAM5c,KAAKgE,OAQ7B,OAPI4Y,IAAU4T,GACZ,EAAKvlB,2BAA2B2R,EAAO,UAAU,KAE9CA,GAAUA,GAAS4T,IACtB,EAAKvlB,2BAA2B8F,EAAM,UAAU,QAElD,EAAK4e,iBAAiB5e,GAGxB,GAAKwf,GA0BL,GAAIA,EAAW,CACb,GAAI,EAAKtC,cAAcld,IAASA,EAAK/Q,KAAKgE,OACxC,OAEE4Y,IAAUA,EAAM5c,KAAKgE,SACvB+M,EAAO6L,GAEL7L,EAAKvG,MAAM,EAAK0c,cAClB,EAAK0I,oBAAoB7e,GAGzB,EAAK4e,iBAAiB5e,QArC1B,CACE,IAAK6L,IAAU2J,EAMb,OALA,EAAKsG,YACL,EAAK8C,iBAAiB5e,QAClB,EAAKkd,cAAcld,IACrB,EAAK9F,2BAA2B8F,EAAM,UAAU,IAIpD,GAAIwV,EAEF,YADA,EAAKoJ,iBAAiBpJ,GAGxB,GAAI3J,EAAM,CACR,IAAI6T,EAAc7T,EAAM5c,KAAKgE,OAC7B,EAAK6oB,YACA4D,GAIH,EAAKd,iBAAiB5e,GACtB,EAAK9F,2BAA2B2R,EAAO,UAAU,IAJjD,EAAK+S,iBAAiB/S,WArCtB0T,GACF,EAAKrlB,2BAA2B8F,EAAM,UAAU,IA4DtD/G,IACIqmB,GACF/rB,KAAKqF,6BAGTkjB,UA/oBO,WA+oBuB,IAAnB6D,IAAmB,yDAC5BpsB,KAAK6G,mBAAmB,gBAAiB,IACzC7G,KAAKijB,gBACL,IAAIxW,EAAOzM,KAAKwF,QAAQxF,KAAKiX,YAC7B,GAAKxK,IAGLzM,KAAK6G,mBAAmB,aAAc,IAClC7G,KAAKmG,kBAAkBsG,GACzBzM,KAAK0qB,iBAAiBje,GAGtBzM,KAAK2G,2BAA2B8F,EAAM,UAAU,GAE9C2f,GAAW,CAEb,IAAI9T,EAAQtY,KAAK2mB,gBAAgBla,GAC7B6L,GACFtY,KAAK2G,2BAA2B2R,EAAO,UAAU,KAIvD0K,WArqBO,SAqqBKvW,GAEV,GADAA,EAAOzM,KAAKqG,YAAYoG,IACpBzM,KAAKkX,MAAMgM,IAAf,CAGA,IAAIxb,EAAS+E,EACT6L,EAAQtY,KAAK2mB,gBAAgBla,GAC7B6L,IAAUA,EAAM5c,KAAKgE,SACvBgI,EAAS4Q,GAEPtY,KAAK2pB,cAAcld,IAASA,EAAK/Q,KAAKgE,SACxCgI,EAAS,MAEX1H,KAAK6G,mBAAmB,cAAea,EAASA,EAAOxB,GAAK,MAE9D+c,cAprBO,WAqrBLjjB,KAAK6G,mBAAmB,cAAe,KAEzCwlB,eAvrBO,SAurBS9rB,GACd,IAAImkB,EAAU3jB,SAASurB,cAAc,iBACrC,MAAO,CACL3sB,KAAMY,EAAEgsB,QAAU7H,EAAQI,WAAazR,GACvCzT,IAAKW,EAAEisB,QAAU9H,EAAQG,UAAYtR,KAGzCuM,qBA9rBO,SA+rBLrT,GAEA,IADA6E,EACA,uDADQ,EAER7E,EAAOzM,KAAKqG,YAAYoG,GACxB,IAAI/Q,EAAO+Q,EAAK/Q,KACZimB,EAAUjmB,EAAKimB,QAAU,IAC7B,GAAIlV,EAAK4N,QAAS,CAChB,IAAIoS,EAAgBzsB,KAAKwF,QAAQiH,EAAK4N,SAAS3e,KAAKimB,QAAU,IAC9DA,GAAW8K,EAGb,OADA9K,EAAU9T,GAAQ8T,EAAS,GACpB,CACLthB,WAAYwN,GAAQnS,EAAKiE,KAAO2R,EAAO,GAAK,KAC5ChR,UAAWuN,GAAQnS,EAAKkE,IAAM0R,EAAO,GAAK,KAC1C2W,YAAapa,GAAQnS,EAAK0Q,MAAQkF,EAAO,GAAK,KAC9C4W,aAAcra,GAAQnS,EAAKmG,OAASyP,EAAO,GAAK,KAChD,gBAAiB5V,EAAK2lB,OACtBmC,gBAAiB,UAAF,OAAY9nB,EAAKgR,MAAjB,QACfggB,cAAe/K,IAGnB4F,gBAptBO,SAotBU9c,GACfA,EAAOzK,KAAKqG,YAAYoE,GACxBzK,KAAK6G,mBAAmB,aAAc4D,EAAKvE,IAC3ClG,KAAK0G,yBAAyB1G,KAAKsL,YAAa,aAAcb,EAAKvE,IACnElG,KAAK0rB,mBAEPA,gBA1tBO,SA0tBUjf,GACfA,EAAOzM,KAAKqG,YAAYoG,GACxBzM,KAAK6G,mBAAmB,aAAc4F,EAAOA,EAAKvG,GAAK,IACnDuG,GAAQA,EAAK4N,SACfra,KAAK2G,2BAA2B8F,EAAK4N,QAAS,UAAU,IAG5DqM,iBAjuBO,SAiuBWja,GAChBA,EAAOzM,KAAKqG,YAAYoG,GACxBzM,KAAK6G,mBAAmB,cAAe4F,EAAOA,EAAKvG,GAAK,KAE1DiW,cAruBO,WAquBU,WACfnc,KAAK6G,mBAAmB,gBAAgB,GACxC8lB,aAAa3sB,KAAK+f,QAAQ0H,OAC1BznB,KAAK+f,QAAQ0H,MAAQzD,YAAW,WAC9B,EAAKnd,mBAAmB,gBAAgB,KACvC,MAELmhB,eA5uBO,WA6uBL,IAAI9Q,EAAQlX,KAAKkX,MACbvX,EAAO6C,KAAKC,IAAIyU,EAAM0V,UAAW1V,EAAM2V,UACvCjtB,EAAM4C,KAAKC,IAAIyU,EAAM4V,SAAU5V,EAAM6V,SACrC3gB,EAAQ5J,KAAKyN,IAAIiH,EAAM2V,SAAW3V,EAAM0V,WACxC/qB,EAASW,KAAKyN,IAAIiH,EAAM6V,QAAU7V,EAAM4V,UAC5C,MAAO,CACLntB,OACAC,MACAwM,QACAvK,SACA0P,MAAO5R,EAAOyM,EACdoF,OAAQ5R,EAAMiC,EACd6K,MAAO,IAGXsgB,mBA5vBO,SA6vBLtnB,GAEA,IADA+C,EACA,wDACAzI,KAAKwI,gBAAgBxI,KAAKmkB,SAAU,QAASze,EAAG+C,IAElDwkB,qBAlwBO,WAkwBiB,WACtB,GAAKjtB,KAAKmkB,SAAV,CAGA,IAAInC,EAAShiB,KAAKgoB,iBAClBhG,EAAS5Q,GAAY,kBAChB4Q,EADe,CAElBtV,MAAO,KAET1M,KAAKgtB,oBAAoB,SAAAvgB,GACnBY,GAAkB+D,GAAY3E,EAAK/Q,KAAM,EAAK4V,OAAQ0Q,IACxD,EAAKc,WAAWrW,EAAM,CAACiN,UAAU,IAAO,MAG5C1Z,KAAKqF,8BAEP0d,iBAlxBO,SAmxBLxiB,EACAgB,GACA,WACIM,EAAS,EACTqrB,EAAc,GACdtrB,EAAU,GACD,cAATL,GACFM,EAAS,IACTqrB,EAAc,CACZ,WACA,UACA,UACA,UACA,KACA,UACA,UAEA,KACA,UACA,YAGc,SAAT3rB,GACPM,EAAS,IACTqrB,EAAc,CACZ,UACA,UACA,UACA,UACA,KACA,UACA,UAEA,KACA,UACA,UACA,KACA,UACA,YAGc,SAAT3rB,GACPM,EAAS,IACTqrB,EAAc,CACZ,WACA,aACA,YAGc,WAAT3rB,IACPM,EAAS,GACTqrB,EAAc,CACZ,YAGJtrB,EAAUsrB,EAAY7M,KAAI,SAAA8M,GACxB,OAAKA,EAGL,kBACK,EAAKxM,WAAWwM,GADrB,CAEEhrB,QAAS,IAJFgrB,KAOXntB,KAAKotB,aAAa7sB,EAAGsB,EAAQD,IAE/B+c,uBAr1BO,SAq1BiBgD,GAAS,WAC3B3hB,KAAKmG,kBAAkBnG,KAAK2oB,WAC9B3oB,KAAK6pB,iBAAiB7pB,KAAK2oB,UAAUvlB,SAAQ,SAAAqJ,GAC3C,EAAK9F,2BAA2B8F,EAAM,UAAWkV,MAGrD3hB,KAAK2G,2BAA2B3G,KAAK2oB,SAAU,UAAWhH,O,aCv5BjD,IACbjmB,KADa,WAEX,MAAO,CAEL0kB,MAAO,CACL+B,KAAM,CACJviB,IAAK,IAAIqqB,IACTtqB,KAAM,IAAIsqB,KAEZjK,KAAM,CACJpgB,IAAK,IAAIqqB,IACTtqB,KAAM,IAAIsqB,QAKlBnqB,QAAS,CAEP6rB,aAFO,WAES,WACV1U,EAAajX,KAAKiX,WAClB0R,EAAW3oB,KAAK2oB,SACpB3oB,KAAKqtB,kBACLrtB,KAAKokB,sBAAsBhhB,SAAQ,SAAAqJ,GACjC,IAAIqf,EAASrf,EAAKvG,GACdmU,EAAU5N,EAAK4N,QACfmO,EAAc/b,EAAK+b,YAEvB,GAAIsD,IAAW7U,GAIToD,IAAYpD,GAAgBuR,IAAgBvR,KAI9C,EAAK0S,cAAcld,KAAS,EAAKod,iBAAiBpd,GAAMiH,SAASiV,OAIjEtO,GACE,EAAKjB,aAAaiB,GAASmO,cAAgBvR,GADjD,CAKA,IAAI7C,EAAW3H,EAAK4H,SACpB,EAAK+L,MAAM+B,KAAKxiB,KACbwqB,IAAI/V,EAASrC,cAAcpS,MAC3BwqB,IAAI/V,EAASnC,eAAetS,MAC5BwqB,IAAI/V,EAASlC,kBAAkBvS,MAC/BwqB,IAAI/V,EAASpC,iBAAiBrS,MAC9BwqB,IAAI/V,EAAS7F,OAAO5O,MAEvB,EAAKygB,MAAM+B,KAAKviB,IACbuqB,IAAI/V,EAASrC,cAAcnS,KAC3BuqB,IAAI/V,EAASnC,eAAerS,KAC5BuqB,IAAI/V,EAASlC,kBAAkBtS,KAC/BuqB,IAAI/V,EAASpC,iBAAiBpS,KAC9BuqB,IAAI/V,EAAS7F,OAAO3O,UAG3B0tB,qBA5CO,SA6CL7gB,EACA8gB,EACA9Y,EACAC,GAEA,IAAIjS,EAAM,EACN+qB,EAAYxtB,KAAKogB,MAAM+B,KAAKxiB,KAC5B8tB,EAAWztB,KAAKogB,MAAM+B,KAAKviB,IAC3B8tB,EAAgB1tB,KAAKogB,MAAMJ,KAAKrgB,KAChCguB,EAAe3tB,KAAKogB,MAAMJ,KAAKpgB,IAC/BwU,EAAW3H,EAAK4H,SAChBuZ,EAAUxc,GAAY3E,EAAK/Q,MAC3BmyB,EAAWD,EAAQL,EAAUzvB,MAC7BgwB,EAAW1Z,EAASmZ,EAAUzvB,MAC9BiwB,GAAS,EACTC,EAAW,CACbruB,KAAMkO,GAAQigB,EAASnuB,KAAO8U,GAC9B7U,IAAKiO,GAAQigB,EAASluB,IAAM8U,IAI1BuZ,EAAe,SAAC7N,EAAO8N,GAAQ,wBACnB9N,GADmB,IACjC,2BAAqB,KAAZ+N,EAAY,QACnB,GAAI3rB,KAAKyN,IAAIke,EAAID,GAAO,EACtB,MAAO,CACLzpB,MAAM,EACNlG,MAAO4vB,EAAID,IALgB,8BASjC,MAAO,CACLzpB,MAAM,EACNlG,MAAO,IAGX,GAAIgvB,EAAU5tB,KAAK,CACjB,IAAIyuB,EAAYH,EAAaT,EAAWK,EAASluB,MAC7CyuB,EAAU3pB,OACRjC,KAAKyN,IAAI+d,EAASruB,KAAOkuB,EAASluB,OAAS8C,IAC7CgS,EAAKoZ,EAASluB,KAAOmuB,EAASnuB,KAAOyuB,EAAU7vB,MAC/CwvB,GAAS,GAEXL,EAAcvD,IAAI0D,EAASluB,KAAOyuB,EAAU7vB,QAGhD,GAAIgvB,EAAU3tB,IAAI,CAChB,IAAIwuB,EAAYH,EAAaR,EAAUI,EAASjuB,KAC5CwuB,EAAU3pB,OACRjC,KAAKyN,IAAI+d,EAASpuB,IAAMiuB,EAASjuB,MAAQ6C,IAC3CiS,EAAKmZ,EAASjuB,IAAMkuB,EAASluB,IAAMwuB,EAAU7vB,MAC7CwvB,GAAS,GAEXJ,EAAaxD,IAAI0D,EAASjuB,IAAMwuB,EAAU7vB,QAG9C,MAAO,CACLkW,EACAC,EACAqZ,IAGJrT,kBA1GO,SA2GLjO,EACAgI,EACAC,GACA,WAWA,OATA1U,KAAKquB,kBACJ,CAAC,gBAAiB,iBAAkB,oBAAqB,mBAAoB,UAAUjrB,SAAQ,SAAAtF,GAC9F,IAAIyvB,EAAY,CACdzvB,OACA8B,KAAK,EACLD,MAAM,GAJ8F,EAM1F,EAAK2tB,qBAAqB7gB,EAAM8gB,EAAW9Y,EAAIC,GAN2C,uBAMpGD,EANoG,KAMhGC,EANgG,QAQjG,CAACD,EAAIC,IAEd2C,oBA3HO,SA4HL5K,EACAlH,EACAkP,EACAC,GAEA1U,KAAKquB,kBACL,IAAI3hB,EAAQD,EAAK/Q,KAAKgR,MAEtB,GAAc,IAAVA,EAAY,CACd,IAAI6gB,EAAY,CACd,EAAK,CACHzvB,KAAM,gBACN6B,MAAM,EACNC,KAAK,GAEP,EAAK,CACH9B,KAAM,iBACN6B,MAAM,EACNC,KAAK,GAEP,EAAK,CACH9B,KAAM,oBACN6B,MAAM,EACNC,KAAK,GAEP,EAAK,CACH9B,KAAM,mBACN6B,MAAM,EACNC,KAAK,GAEP,GAAM,CACJ9B,KAAM,gBACN6B,MAAM,EACNC,KAAK,GAEP,GAAM,CACJ9B,KAAM,iBACN6B,MAAM,EACNC,KAAK,GAEP,GAAM,CACJ9B,KAAM,oBACN6B,MAAM,EACNC,KAAK,GAEP,GAAM,CACJ9B,KAAM,mBACN6B,MAAM,EACNC,KAAK,IAEP2F,GA1CY,EA2CFvF,KAAKstB,qBAAqB7gB,EAAM8gB,EAAW9Y,EAAIC,GA3C7C,uBA2CZD,EA3CY,KA2CRC,EA3CQ,KA6ChB,MAAO,CAACD,EAAIC,IAEduF,oBAnLO,SAoLLF,EACAC,EACArD,EACAgC,GAEA,IAAIlW,EAAM,EAYV,OAXIuX,EAAW,KAAO,IAChBxX,KAAKyN,IAAI0G,EAAWqD,IAAavX,IACnCkW,EAAYqB,EAAWD,GAGR,IAAbC,GACExX,KAAKyN,IAAI0G,EAAW,MAAQlU,IAC9BkW,EAAYqB,EAAWD,IAItBpB,GAET0U,gBAvMO,WAwMLrtB,KAAKogB,MAAM+B,KAAKxiB,KAAO,IAAIsqB,IAC3BjqB,KAAKogB,MAAM+B,KAAKviB,IAAM,IAAIqqB,KAE5BoE,gBA3MO,WA4MLruB,KAAKogB,MAAMJ,KAAKrgB,KAAO,IAAIsqB,IAC3BjqB,KAAKogB,MAAMJ,KAAKpgB,IAAM,IAAIqqB,OCjOjB,IACbvuB,KADa,WACL,WACFkH,EAAK5C,KACT,MAAO,CACLsuB,UAAW,CACT,WAAY,CACVpsB,OAAQ,qBACRG,IAAK,WACHO,EAAG+D,2BAA2B,EAAKgiB,SAAU,cAAc,KAG/D,UAAW,CACTtmB,IAAK,uBACLksB,OAAQ,yBAEV,UAAW,CACTrsB,OAAQ,qBACRG,IAAK,iBACLksB,OAAQ,yBAEV,UAAW,CACTrsB,OAAQ,qBACRG,IAAK,kBACLksB,OAAQ,yBAEV,UAAW,CACTrsB,OAAQ,sBACRG,IAAK,mBACLksB,OAAQ,yBAEV,UAAW,CACTrsB,OAAQ,qBACRG,IAAK,oBACLksB,OAAQ,aAEV,UAAW,CACTrsB,OAAQ,qBACRG,IAAK,kBACLksB,OAAQ,yBAEV,UAAW,CACTrsB,OAAQ,uBACRG,IAAK,oBACLksB,OAAQ,yCAEV,UAAW,CACTrsB,OAAQ,kBACRG,IAAK,eACLksB,OAAQ,yBAEV,UAAW,CACTrsB,OAAQ,oBACRG,IAAK,iBACLksB,OAAQ,yCAEV,UAAW,CACTrsB,OAAQ,qBACRG,IAAK,oBACLksB,OAAQ,uCAEV,UAAW,CACTrsB,OAAQ,qBACRG,IAAK,sBACLksB,OAAQ,2CAEV,UAAW,CACTrsB,OAAQ,qBACRG,IAAK,qBACLksB,OAAQ,2CAEV,UAAW,CACTrsB,OAAQ,qBACRG,IAAK,wBACLksB,OAAQ,+CAEV,iBAAkB,CAChBrsB,OAAQ,qBACRG,IAAK,uBACLksB,OAAQ,MAEV,mBAAoB,CAClBrsB,OAAQ,qBACRG,IAAK,yBACLksB,OAAQ,QAEV,mBAAoB,CAClBrsB,OAAQ,qBACRG,IAAK,yBACLksB,OAAQ,QAEV,oBAAqB,CACnBrsB,OAAQ,qBACRG,IAAK,0BACLksB,OAAQ,SAGV,WAAY,CACVrsB,OAAQ,GACRG,IAAK,WACHO,EAAGgE,6BAA6BhE,EAAGuhB,SAAU,cAAc,KAG/D,aAAc,CACZjiB,OAAQ,GACRG,IAAK,WACHO,EAAG4rB,kBAAkB5rB,EAAGuhB,SAASje,MAGrC,UAAW,CACThE,OAAQ,uBACRG,IAAK,qBAGP,SAAU,CACRH,OAAQ,WACN,OAAQU,EAAGsU,MAAMgM,KACftgB,EAAGoC,mBAEP3C,IAAK,eACLksB,OAAQ,yBAEV,SAAU,CACRrsB,OAAQ,WACN,OAAQU,EAAGsU,MAAMgM,KACftgB,EAAGgC,iBAEPvC,IAAK,aACLksB,OAAQ,4CAKhBzuB,QAAS,CACP2uB,eADO,WAEL,IAAIhiB,EAAOzM,KAAKwF,QAAQxF,KAAKiX,YACzBuE,EAAc/O,GAAQzM,KAAKmG,kBAAkBsG,GAC7CiiB,EAAUjiB,GAAQzM,KAAK2pB,cAAcld,GACzC,MAAO,CACLA,OACA+O,cACAkT,YAIJF,kBAZO,WAY2C,IAA/BplB,EAA+B,uDAApBpJ,KAAKqL,cAC7BZ,EAAOzK,KAAKkpB,YAAY9f,GAC5BpJ,KAAK4G,6BAA6B6D,EAAM,cAAc,GACtDzK,KAAKunB,gBAAgB9c,GACrBzK,KAAK2E,gBAEPgqB,qBAlBO,WAmBL,IAAIC,EAAU5uB,KAAKmkB,SAAS/a,WAAapJ,KAAKsL,YAAYpF,KACvDlG,KAAKsL,YAAYX,MAAMtD,OAC1B,OAAQunB,GAEVC,kBAvBO,WAwBL7uB,KAAKmpB,cACLnpB,KAAK2E,gBAGPmqB,qBA5BO,WA6BL9uB,KAAKkc,oBAAoBlc,KAAKiX,YAC9BjX,KAAKwa,MAAMxa,KAAKiX,WAAY,GAAI,GAAG,GACnCjX,KAAK2E,gBAEPoqB,uBAjCO,WAkCL/uB,KAAKkc,oBAAoBlc,KAAKiX,YAC9BjX,KAAKwa,MAAMxa,KAAKiX,WAAY,EAAG,GAAG,GAClCjX,KAAK2E,gBAEPqqB,uBAtCO,WAuCLhvB,KAAKkc,oBAAoBlc,KAAKiX,YAC9BjX,KAAKwa,MAAMxa,KAAKiX,YAAa,EAAG,GAAG,GACnCjX,KAAK2E,gBAEPsqB,wBA3CO,WA4CLjvB,KAAKkc,oBAAoBlc,KAAKiX,YAC9BjX,KAAKwa,MAAMxa,KAAKiX,WAAY,EAAG,GAAG,GAClCjX,KAAK2E,gBAEPuqB,qBAhDO,WAgDiB,WACtBlvB,KAAKuoB,YACLvoB,KAAKgtB,oBAAmB,SAACvgB,GACvB,EAAKqW,WAAWrW,EAAM,CAACiN,UAAU,IAAO,MAE1C1Z,KAAKqF,6BAEP8pB,gBAvDO,WAwDL,OAAOnvB,KAAKyuB,iBAAiBjT,aAE/B4T,aA1DO,WA0DS,WACVzG,EAAW3oB,KAAKwF,QAAQxF,KAAKiX,YAC7BoY,EAAWrvB,KAAKopB,YAAY,SAC5BxW,EAAQ5S,KAAK+qB,oBAAoBpC,GACrC3oB,KAAKypB,WAAW4F,EAAUzc,GAE1BA,EAAMxP,SAAQ,SAAAqJ,GACZ,EAAK6e,oBAAoB7e,MAE3BzM,KAAKqrB,iBAAiBgE,GACtBrvB,KAAKqF,4BACLrF,KAAK2E,gBAEP2qB,kBAvEO,WAwEL,OAAOtvB,KAAKyuB,iBAAiBC,SAE/Ba,eA1EO,WA0EW,WACZ5G,EAAW3oB,KAAKwF,QAAQxF,KAAKiX,YAC7BrE,EAAQ5S,KAAK+qB,oBAAoBpC,GACrC3oB,KAAKwqB,aAAa7B,GAElB/V,EAAMxP,SAAQ,SAAAqJ,GACZ,EAAK4e,iBAAiB5e,MAExBzM,KAAKsrB,oBAAoB3C,GACzB3oB,KAAKqF,4BACLrF,KAAK2E,gBAEP6qB,kBAtFO,WAsFc,WACf7G,EAAW3oB,KAAKwF,QAAQxF,KAAKiX,YACjCjX,KAAK+qB,oBAAoBpC,GAAUvlB,SAAQ,SAAAqJ,GACzC,EAAK8d,gBAAgB9d,EAAKvG,OAE5BlG,KAAK0rB,kBACL1rB,KAAK2E,gBAEP8qB,gBA9FO,WA8FY,WACjBzvB,KAAK6G,mBAAmB,kBAAmB,GAC3C7G,KAAK6G,mBAAmB,iBACtB7G,KAAKyrB,4BAA4BpL,KAAI,SAAA5T,GAAI,OAAI,EAAKmd,eAAend,QAGrEijB,eApGO,WAqGL1vB,KAAKyvB,kBACLzvB,KAAKwvB,qBAEPG,oBAxGO,WAyGL,OAAO3vB,KAAKyoB,UAAU/sB,KAAKQ,OAAS,GAEtC0zB,iBA3GO,WA2Ga,WACdC,IAAgB7vB,KAAKyoB,UAAUC,MAC/BoH,EAAuB,GAAbD,EACd7vB,KAAKurB,sBAELvrB,KAAKyoB,UAAU/sB,KAAK2kB,KAAI,SAAAiJ,GACtB,IAAI7c,EAAO,EAAK4c,oBAAoBC,GAEpC,OADA,EAAK+B,iBAAiB5e,GACfA,KAETzM,KAAKqF,4BACLrF,KAAKkc,oBAAoBlc,KAAKiX,YAC9BjX,KAAKwa,MAAMxa,KAAKiX,WAAY6Y,EAASA,GACrC9vB,KAAKquB,kBACLruB,KAAK2E,gBAEPorB,mBA3HO,WA4HL,OAAO/vB,KAAKiX,YAEd+Y,kBA9HO,WA8Hc,WACfpd,EAAQ,GAEVA,EADE5S,KAAKwoB,YACCxoB,KAAK6pB,iBAAiB7pB,KAAKiX,YAG3B,CAACjX,KAAKwF,QAAQxF,KAAKiX,aAE7BrE,EAAMxP,SAAQ,SAAAqJ,GACZ,IAAIxF,EAAS,EAAKzB,QAAQiH,EAAKrD,UAC/B,EAAKlB,kBAAkBjB,EAAQwF,MAEjCzM,KAAK2E,gBAEPsrB,oBA5IO,WA4IgB,WACjBrd,EAAQ,GAEVA,EADE5S,KAAKwoB,YACCxoB,KAAK6pB,iBAAiB7pB,KAAKiX,YAG3B,CAACjX,KAAKwF,QAAQxF,KAAKiX,aAE7BrE,EAAMxP,SAAQ,SAAAqJ,GACZ,IAAIxF,EAAS,EAAKzB,QAAQiH,EAAKrD,UAC/B,EAAKjB,oBAAoBlB,EAAQwF,MAEnCzM,KAAK2E,gBAEPurB,mBA1JO,WA0Je,WAChBtd,EAAQ,GAEVA,EADE5S,KAAKwoB,YACCxoB,KAAK6pB,iBAAiB7pB,KAAKiX,YAG3B,CAACjX,KAAKwF,QAAQxF,KAAKiX,aAE7BrE,EAAMxP,SAAQ,SAAAqJ,GACZ,IAAIxF,EAAS,EAAKzB,QAAQiH,EAAKrD,UAC/B,EAAKhB,mBAAmBnB,EAAQwF,MAElCzM,KAAK2E,gBAEPwrB,sBAxKO,WAwKkB,WACnBvd,EAAQ,GAEVA,EADE5S,KAAKwoB,YACCxoB,KAAK6pB,iBAAiB7pB,KAAKiX,YAG3B,CAACjX,KAAKwF,QAAQxF,KAAKiX,aAE7BrE,EAAMxP,SAAQ,SAAAqJ,GACZ,IAAIxF,EAAS,EAAKzB,QAAQiH,EAAKrD,UAC/B,EAAKd,sBAAsBrB,EAAQwF,MAErCzM,KAAK2E,gBAEPyrB,mBAtLO,WAuLL,OAAOpwB,KAAKyrB,4BAA4BvvB,QAE1Cm0B,qBAzLO,WA0LL,OAAOrwB,KAAK4rB,0BAA0B1vB,QAExCo0B,gBA5LO,WA6LL,IAAK,IAAI7jB,KAAQzM,KAAK4iB,cACpBnW,EAAOzM,KAAKqG,YAAYoG,GACxBzM,KAAK2G,2BAA2B8F,EAAM,UAAU,GAElDzM,KAAKqF,4BACLrF,KAAK2E,gBAEP4rB,kBApMO,WAqML,IAAK,IAAI9jB,KAAQzM,KAAK4iB,cACpBnW,EAAOzM,KAAKqG,YAAYoG,GACxBzM,KAAK2G,2BAA2B8F,EAAM,UAAU,GAElDzM,KAAKqF,4BACLrF,KAAK2E,gBAEP6rB,oBA5MO,WA6ML,OAAOxwB,KAAKyuB,iBAAiBjT,aAG/BgB,qBAhNO,WAgNiB,WACtBxc,KAAKkc,oBAAoBlc,KAAK2oB,UAC9B,IAAI8H,EAAgBzwB,KAAK2oB,SAAStU,SAAS1U,KAC3CK,KAAK6pB,iBAAiB7pB,KAAK2oB,UAAUvlB,SAAQ,SAAAqJ,GAC3C,IAAIikB,EAAWD,EAAgBhkB,EAAK4H,SAAS9B,cAC7C,EAAKiI,MAAM/N,EAAMikB,EAAU,GAAG,MAEhC1wB,KAAKsa,iBAAiBta,KAAK2oB,WAG7BjM,0BA1NO,WA0NsB,WAC3B1c,KAAKkc,oBAAoBlc,KAAK2oB,UAC9B,IAAIgI,EAAsB3wB,KAAK2oB,SAAStU,SAAS9F,OAAO5O,KACxDK,KAAK6pB,iBAAiB7pB,KAAK2oB,UAAUvlB,SAAQ,SAAAqJ,GAC3C,IAAIikB,EAAWC,EAAsBlkB,EAAK4H,SAAS9F,OAAO5O,KAC1D,EAAK6a,MAAM/N,EAAMikB,EAAU,GAAG,MAEhC1wB,KAAKsa,iBAAiBta,KAAK2oB,WAG7BhM,sBApOO,WAoOkB,WACvB3c,KAAKkc,oBAAoBlc,KAAK2oB,UAC9B,IAAIiI,EAAiB5wB,KAAK2oB,SAAStU,SAAS9C,MAC5CvR,KAAK6pB,iBAAiB7pB,KAAK2oB,UAAUvlB,SAAQ,SAAAqJ,GAC3C,IAAIikB,EAAWE,EAAiBnkB,EAAK4H,SAAS7B,cAC9C,EAAKgI,MAAM/N,EAAMikB,EAAU,GAAG,MAEhC1wB,KAAKsa,iBAAiBta,KAAK2oB,WAG7B/L,oBA9OO,WA8OgB,WACrB5c,KAAKkc,oBAAoBlc,KAAK2oB,UAC9B,IAAIkI,EAAe7wB,KAAK2oB,SAAStU,SAASzU,IAC1CI,KAAK6pB,iBAAiB7pB,KAAK2oB,UAAUvlB,SAAQ,SAAAqJ,GAC3C,IAAIqkB,EAAUD,EAAepkB,EAAK4H,SAAS5B,aAC3C,EAAK+H,MAAM/N,EAAM,EAAGqkB,GAAS,MAE/B9wB,KAAKsa,iBAAiBta,KAAK2oB,WAG7B7L,0BAxPO,WAwPsB,WAC3B9c,KAAKkc,oBAAoBlc,KAAK2oB,UAC9B,IAAIoI,EAAqB/wB,KAAK2oB,SAAStU,SAAS9F,OAAO3O,IACvDI,KAAK6pB,iBAAiB7pB,KAAK2oB,UAAUvlB,SAAQ,SAAAqJ,GAC3C,IAAIqkB,EAAUC,EAAqBtkB,EAAK4H,SAAS9F,OAAO3O,IACxD,EAAK4a,MAAM/N,EAAM,EAAGqkB,GAAS,MAE/B9wB,KAAKsa,iBAAiBta,KAAK2oB,WAG7B5L,uBAlQO,WAkQmB,WACxB/c,KAAKkc,oBAAoBlc,KAAK2oB,UAC9B,IAAIqI,EAAkBhxB,KAAK2oB,SAAStU,SAAS7C,OAC7CxR,KAAK6pB,iBAAiB7pB,KAAK2oB,UAAUvlB,SAAQ,SAAAqJ,GAC3C,IAAIqkB,EAAUE,EAAkBvkB,EAAK4H,SAAS3B,aAC9C,EAAK8H,MAAM/N,EAAM,EAAGqkB,GAAS,MAE/B9wB,KAAKsa,iBAAiBta,KAAK2oB,WAG7BtL,yBA5QO,WA6QL,IAAI7B,EAAcxb,KAAKyuB,iBAAiBjT,YACxC,IAAKA,EACH,OAAO,EAET,IAAI5I,EAAQ5S,KAAK6pB,iBAAiB7pB,KAAK2oB,UACvC,OAAO/V,EAAM1W,OAAS,GAExB+gB,uBApRO,WAoRmB,WACxBjd,KAAKkc,oBAAoBlc,KAAK2oB,UAC9B,IAAIsI,EAAiBjxB,KAAK2oB,SAASjtB,KAAK0Q,MACpCwG,EAAQ5S,KAAK6pB,iBAAiB7pB,KAAK2oB,UACnCuI,EAAa,EACjBte,EAAMxP,SAAQ,SAAAqJ,GACZykB,GAAezkB,EAAK4H,SAAS7B,cAAgB/F,EAAK4H,SAAS9B,iBAG7D,IAAI4e,GAAYF,EAAiBC,IAAete,EAAM1W,OAAS,GAC3D8tB,EAAYpX,EACb0X,MAAK,SAAC9e,EAAGC,GAAJ,OAAUD,EAAE6I,SAAS9B,cAAgB9G,EAAE4I,SAAS9B,iBAExDyX,EAAU1qB,MAAM,GAAG8D,SAAS,SAACqJ,EAAMzQ,GACjC,GAAU,IAANA,EAAJ,CAGA,IAAI00B,EAAW1G,EAAUhuB,EAAI,GAAGqY,SAAS7B,cACvC2e,EACA1kB,EAAK4H,SAAS9B,cAChB,EAAKiI,MAAM/N,EAAMikB,EAAU,GAAG,GAC9B,EAAKxU,oBAAoBzP,OAE3BzM,KAAKsa,iBAAiBta,KAAK2oB,WAE7BxL,uBA7SO,WA6SmB,WACxBnd,KAAKkc,oBAAoBlc,KAAK2oB,UAC9B,IAAIyI,EAAkBpxB,KAAK2oB,SAASjtB,KAAKmG,OACrC+Q,EAAQ5S,KAAK6pB,iBAAiB7pB,KAAK2oB,UACnC0I,EAAc,EAClBze,EAAMxP,SAAQ,SAAAqJ,GACZ4kB,GAAgB5kB,EAAK4H,SAAS3B,aAAejG,EAAK4H,SAAS5B,gBAG7D,IAAI0e,GAAYC,EAAkBC,IAAgBze,EAAM1W,OAAS,GAC7D8tB,EAAYpX,EACb0X,MAAK,SAAC9e,EAAGC,GAAJ,OAAUD,EAAE6I,SAAS5B,aAAehH,EAAE4I,SAAS5B,gBAEvDuX,EAAU1qB,MAAM,GAAG8D,SAAS,SAACqJ,EAAMzQ,GACjC,GAAU,IAANA,EAAJ,CAGA,IAAI80B,EAAU9G,EAAUhuB,EAAI,GAAGqY,SAAS3B,aACtCye,EACA1kB,EAAK4H,SAAS5B,aAChB,EAAK+H,MAAM/N,EAAM,EAAGqkB,GAAS,GAC7B,EAAK5U,oBAAoBzP,OAE3BzM,KAAKsa,iBAAiBta,KAAK2oB,WAE7BhI,WAtUO,SAsUKpf,GACV,IAAIU,EAASjC,KAAKsuB,UAAU/sB,GACxBW,EAASD,EAAOC,QAAW,kBAAM,GACf,kBAAXA,IACTA,EAASlC,KAAKkC,IAEhB,IAAIG,EAAMJ,EAAOI,KAAQ,aACN,kBAARA,IACTA,EAAMrC,KAAKqC,IAEb,IAAIyJ,EAAOvK,EAAKoE,MAAM,KAAK,IAAM,SACjC,yBACK1D,EADL,CAEEI,MACAH,SACA4J,UAGJwlB,iBAxVO,WAwVa,sBACT/vB,GADS,MAEY,EAAKof,WAAWpf,GAAvCW,EAFW,EAEXA,OAAQG,EAFG,EAEHA,IAAKksB,EAFF,EAEEA,OACdA,GACFA,EAAO5oB,MAAM,KAAKvC,SAAQ,SAAAvE,GACxB,EAAK0yB,QAAQ1yB,GAAK,SAAC0B,GACb2B,EAAO5F,KAAK,KACdiE,EAAEixB,iBACFnvB,EAAI/F,KAAK,WAPnB,IAAK,IAAIiF,KAAQvB,KAAKsuB,UAAW,EAAxB/sB,KAebgK,QA5ea,WA6eXvL,KAAKsxB,qBCveM,IACb51B,KADa,WAEX,MAAO,CACLwb,MAAO,CACLgM,KAAK,EAELuO,SAAS,EACT7E,UAAW,EACXE,SAAU,EACVD,SAAU,EACVE,QAAS,EAQT7N,UAAW,GACX/H,WAAY,GACZmL,WAAY,GAEZ/hB,EAAG,MAITT,QAAS,GAETK,QA5Ba,WA4BF,WACLyC,EAAK5C,KACLkX,EAAQlX,KAAKkX,MACb2H,EAAY,SAACte,GACfue,EAAMC,MAAM,kBAAmBxe,IAE7BmxB,EAAY,SAACnxB,GACf,IAAIooB,EAAW,EAAKnjB,QAAQ,EAAKyR,YACjC,GAAKC,EAAMgM,IAAX,CAGAhM,EAAMua,SAAU,EAChBva,EAAM3W,EAAIA,EACV,IAAI+Q,EAAQ,EAAKA,MACbwI,EAAa,EAAKuS,eAAe9rB,GACjCZ,EAAOuX,EAAM2V,SAAW/S,EAAWna,KACnCC,EAAMsX,EAAM6V,QAAUjT,EAAWla,IACjCsf,EAAYhI,EAAMgI,UAClBzK,GAAM9U,EAAOuX,EAAM0V,WAAatb,EAChCoD,GAAM9U,EAAMsX,EAAM4V,UAAYxb,EAElC,GAAkB,WAAd4N,EACFtc,EAAGoU,QAAQvC,EAAIC,QAEZ,GAAkB,WAAdwK,EAAuB,CAC9B,IAAIpF,EAAa,CACfna,KAAMuX,EAAM2V,SACZjtB,IAAKsX,EAAM6V,SAEbnqB,EAAGiX,QAAQC,QAER,GAAkB,SAAdoF,EACPtc,EAAG4X,MAAMmO,EAAUlU,EAAIC,QAEpB,GAAkB,WAAdwK,GACD3e,EAAEgsB,QAAUlZ,IAAgB9S,EAAEisB,QAAUjZ,GAAY,CACxD,IAAI+O,EAAapL,EAAMoL,WACnB5mB,EAAO,EAAK6mB,WAAWD,GACvB7V,EAAO,EAAK2c,YAAY9G,GAC5B,EAAKpG,oBAAoBzP,GACzB,EAAKqO,QAAQrO,EACXoB,GAAQlO,EAAOjE,EAAK0Q,MAAQ,GAC5ByB,GAAQjO,EAAMlE,EAAKmG,OAAS,IAE9BqV,EAAMgI,UAAY,OAClBhI,EAAM0V,UAAYjtB,EAClBuX,EAAM4V,SAAWltB,EACjBgD,EAAGkgB,WAAWrW,EAAMlM,MAItBoxB,EAAU,WACPza,EAAMgM,MAIa,WAApBhM,EAAMgI,WACR,EAAK+N,uBAEP/V,EAAMgM,KAAM,EACZhM,EAAMgI,UAAY,GAClBhI,EAAM3W,EAAI,GACV,EAAK8tB,kBACDnX,EAAMua,SACR,EAAK9sB,eAEPuS,EAAMua,SAAU,IAElBzxB,KAAKuJ,eAAe,YAAasV,GACjC7e,KAAKuJ,eAAe,YAAamoB,GACjC1xB,KAAKuJ,eAAe,UAAWooB,GAE/B3xB,KAAKuJ,eAAe,eAAe,SAAChJ,GAClCA,EAAEixB,oBAGJ1S,EAAM8S,IAAI,mBAAmB,SAACrxB,GAC5B,IAAIuZ,EAAa,EAAKuS,eAAe9rB,GACrC2W,EAAM0V,UAAY1V,EAAM2V,SAAW/S,EAAWna,KAC9CuX,EAAM4V,SAAW5V,EAAM6V,QAAUjT,EAAWla,IACvC,EAAKqX,YAAuC,SAAzB,EAAKC,MAAMgI,UAIjChI,EAAMgM,KAAM,EAHZhM,EAAMgM,KAAM,MAOlB3X,QApHa,WAoHF,WACLmZ,EAAU1kB,KAAK6jB,MAAMc,OACzBD,EAAQlb,iBAAiB,UAAU,WACjC,EAAKsX,mBC3HP+Q,I,oBACmB,qBAAdC,WACPA,UAAUC,UAAUC,cAAc/rB,QAAQ,WAAa,GAGrDgsB,GAAS,CACXC,UAAW,EACXC,IAAK,EACLC,MAAO,GACPC,MAAO,GACPC,OAAQ,GACRC,IAAK,GACLC,OAAQ,GACRC,MAAO,GACP9yB,KAAM,GACN+yB,GAAI,GACJnhB,MAAO,GACPohB,KAAM,GACNC,IAAK,GACLC,OAAQ,GACRC,IAAK,GACLC,OAAQ,GACRC,KAAM,GACN7lB,IAAK,GACL8lB,OAAQ,GACRC,SAAU,GACVC,SAAU,GACV,IAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAKtB,GAAO,IAAM,IAClB,IAAKA,GAAO,GAAK,IACjB,IAAKA,GAAO,GAAK,IACjBuB,IAAM,IACN,IAAK,IACL,IAAK,IACL,KAAM,KAGJC,GAAW,CAEb,IAAK,GACL12B,MAAO,GAEP,IAAK,GACL22B,IAAK,GACLlY,OAAQ,GAER,IAAK,GACLmY,KAAM,GACNC,QAAS,GAET,IAAK,GACLC,IAAK,GACLC,QAAS,IAEPC,GAAO,SAAC7lB,GACV,MAAiB,kBAANA,EACFA,GAETA,EAAIA,EAAE8lB,OACC3B,GAAOnkB,EAAEkkB,gBACdqB,GAASvlB,EAAEkkB,gBACXlkB,EAAE+lB,cAAcC,WAAW,KAEhB,IACbp4B,KADa,WAEX,MAAO,CACL6yB,OAAQ,CACN7yB,KAAM,GACN4F,UAAU,KAIhBxB,QAAS,CACPyxB,QADO,SAELhD,GAGA,IAFAwF,EAEA,uDAFU,aACVC,EACA,uDADQ,aAERh0B,KAAKuuB,OAAO7yB,KAAKsE,KAAKi0B,YAAY1F,EAAO5oB,MAAM,OAAS,CACtD4oB,SACAwF,UACAC,UAGJpQ,WAZO,WAaL5jB,KAAKuuB,OAAOjtB,UAAW,GAEzBoiB,UAfO,WAgBL1jB,KAAKuuB,OAAOjtB,UAAW,GAEzB2yB,YAlBO,SAkBM7pB,GACX,OAAOA,EAAKiW,KAAI,SAAAxhB,GAAG,OAAI80B,GAAK90B,MAAMyrB,OAAO4J,KAAK,MAEhDC,aArBO,SAqBO5zB,GACZ,GAAuC,UAAnCA,EAAEmH,OAAO0sB,QAAQpC,gBAGjBhyB,KAAKuuB,OAAOjtB,SAAhB,CAGA,IAAI+yB,EAAe,CACjBd,KAAMhzB,EAAE+zB,QACRhB,IAAK/yB,EAAEg0B,OACP53B,MAAO4D,EAAEmZ,SACTga,QAASnzB,EAAEi0B,SAETC,EAAY,GAChB,IAAK,IAAIC,KAAML,EACTA,EAAaK,IACfD,EAAUj4B,KAAKk4B,GAGnB,IAAIxV,EAAY3e,EAAEgB,KACdozB,EAAa30B,KAAKi0B,YAAL,CAAkB1zB,EAAEq0B,SAApB,OAAgCH,IACjD,GAAIE,KAAc30B,KAAKuuB,OAAO7yB,KAAM,CAClC,IAAIm5B,EAAe70B,KAAKuuB,OAAO7yB,KAAKi5B,GACpCE,EAAa3V,GAAW3e,OAI9BgL,QAzDa,WAyDF,WACTvL,KAAKuJ,eAAe,WAAW,SAAChJ,GAC9B,EAAK4zB,aAAa5zB,QChIT,IACbT,QAAS,CACPg1B,YADO,aAEPC,YAFO,cAITC,MAAO,CACL,OADK,SACK7U,EAAM8U,GACV9U,EAAK+U,OAASD,EAAGC,KACnBl1B,KAAK80B,cAGL90B,KAAK+0B,gBAIXxpB,QAfa,WAgBXvL,KAAK80B,eAEPrrB,cAlBa,WAmBXzJ,KAAK+0B,gBCAT,IACEj3B,KAAM,SACNq3B,OAAQ,CACV,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,IAEEr1B,QAAS,GAETM,OArBF,SAqBA,GAEI,OADAJ,KAAKod,WACEpd,KAAKsC,YAAY8lB,KC1CsW,MxBQ9X,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QyBbf5oB,OAAI41B,IAAIC,GACR71B,OAAI41B,IAAIE,QACR91B,OAAImC,UAAU,SAAU4zB,QACxB/1B,OAAI8pB,OAAOkM,eAAgB,EAC3B,IAAMC,GAAS,CACb,CACEP,KAAM,IACNvzB,UAAW+zB,GACX53B,KAAM,WAGJ63B,GAAS,IAAIL,OAAU,CAC3BG,YAEF,IAAIj2B,OAAI,CACNm2B,YACC70B,OAAO,S,sFCtBV,yBAAklB,EAAG,G","file":"js/app.16c603df.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/proto/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./color.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./color.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=style&index=0&lang=scss&\"","<style lang=\"scss\">\n.sp-color{\n  width: 18px!important;\n  height: 18px!important;\n  border: 1px solid #bcc3ce;\n  position: relative;\n  cursor: pointer;\n  margin: 5px;\n}\n.sp-color-alert{\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>\n<script>\nimport Vue from 'vue'\nimport jsx from 'vue-jsx'\nimport { Sketch } from 'vue-color'\nimport event from '@/core/event'\nlet {\n  div,\n  a,\n} = jsx\nlet SpColorAlert = {\n  components: {\n    'sketch-picker': Sketch,\n  },\n  data () {\n    return {\n      value: '#ffffff',\n      isOpen: false,\n      left: 0,\n      top: 0,\n      onChange: () => {},\n    }\n  },\n  methods: {\n    open (\n      value, \n      size, \n      onChange\n    ) {\n      this.value = value\n      this.onChange = onChange\n      this.left = size.left\n      this.top = size.top\n      this.isOpen = true\n    },\n    close () {\n      this.isOpen = false\n    },\n  },\n  created () {\n    event.$on('windowMouseDown', () => {\n      this.close()\n    })\n  },\n  render (h) {\n    jsx.h = h\n    let me = this\n    let jsxProps = {\n      'class_sp-color-alert': true,\n      'class_card': true,\n      style_left: (this.left - 260) + 'px',\n      style_top: this.top + 'px',\n      'on_click' (e) {\n        e.stopPropagation()\n      },\n      'on_mousedown' (e) {\n        e.stopPropagation()\n      }\n    }\n    if (!this.isOpen){\n      jsxProps = {\n        ...jsxProps,\n        style_display: 'none',\n      }\n    }\n    let alert = div(jsxProps,\n      div('.card-header',\n        a('.btn btn-clear float-right', {\n          'attrs_aria-label':'Close',\n          on_click (e) {\n            me.close()\n            e.stopPropagation()\n          }\n        }),\n        div('.card-title', '颜色设置'),\n      ),\n      div({\n        'class_card-body': true,\n      },\n        jsx.bind('sketch-picker')({\n          props_value: this.value,\n          on_input (value) {\n            me.onChange(value)\n          }\n        })\n      ),\n    )\n    return alert\n  }\n}\nlet globalColor\nlet openGlobalColor = (\n  value, \n  size, \n  onChange\n) => {\n  if (!globalColor){\n    let Ctor = Vue.extend(SpColorAlert)\n    globalColor = new Ctor\n    globalColor.$mount(document.createElement('div'))\n    document.body.appendChild(globalColor.$el)\n  }\n  globalColor.open(value, size, onChange)\n}\nlet SpColor = {\n  name: 'SpColor',\n  props: {\n    value: String,\n    disabled: {\n      type: Boolean,\n      default: false,\n    }\n  },\n  render (h) {\n    jsx.h = h\n    let me = this\n    let jsxProps = {\n      'class_sp-color': true,\n      'style_background-color': this.value, \n    }\n    if (!this.disabled){\n      jsxProps = {\n        ...jsxProps,\n        'on_click' (e) {\n          e.stopPropagation()        \n          let rect = me.$el.getClientRects()[0]\n          openGlobalColor(\n            me.value, \n            {left: rect.x, top: rect.y},\n            (color) => {\n              me.$emit('change', color)\n            }\n          )\n        }\n      }\n    }\n    return div(jsxProps)\n  }\n}\nexport default SpColor\n</script>","var render, staticRenderFns\nimport script from \"./color.vue?vue&type=script&lang=js&\"\nexport * from \"./color.vue?vue&type=script&lang=js&\"\nimport style0 from \"./color.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<style lang=\"scss\">\n@import \"@/core/vars.scss\";\n.contextmenu { \n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.contextmenu-item-disalbed {\n  color: $gray;\n  a {\n    cursor: default!important;\n    &:hover {\n      color: $gray!important;\n      background: $white!important;\n    }\n  }\n}\n</style>\n<script>\nimport Vue from 'vue'\nimport jsx from 'vue-jsx'\nimport event from '@/core/event'\nlet { div, li, a } = jsx\nlet SpContextmenu = {\n  name: 'SpContextMenu',\n  props: {\n\n  },\n  data () {\n    return {\n      isOpen: false,\n      actions: [],\n      e: {},\n      height: 0,\n    }\n  },\n  methods: {\n    open (\n      e, \n      height, \n      actions\n    ) {\n      this.isOpen = true\n      this.e = e\n      this.height = height\n      this.actions = actions\n    },\n    close () {\n      this.isOpen = false\n    },\n    _renderDivider () {\n      return li('.divider')\n    },\n    _renderItem (action) {\n      if (!action) {\n        return this._renderDivider()\n      }\n      let { checkF, doF, text, context } = action\n      let jsxProps = {}\n      if (checkF.call(context)) {\n        jsxProps = {\n          on_click () {\n            doF.call(context)\n          }\n        }\n      }\n      else {\n        jsxProps = {\n          'class_contextmenu-item-disalbed': true,\n        }\n      }\n      return li('.menu-item',\n        jsxProps,\n        a({\n          attrs_href: 'javascript:;'\n        }, text)\n      )\n    },\n    _renderMain () {\n      let me = this\n      // 窗体宽高\n      let windowWidth = window.innerWidth\n      let windowHeight = window.innerHeight\n      // contextmenu 的宽高\n      let width = 180\n      let height = this.height\n      // 计算位置\n      let e = this.e\n      let mouseLeft = e.clientX\n      let mouseTop = e.clientY\n      mouseLeft = Math.min(\n        mouseLeft, \n        windowWidth - width - 10\n      )\n      mouseTop = Math.min(\n        mouseTop, \n        windowHeight - height - 10\n      )\n      let children = this.actions.map(\n        action => this._renderItem(action)\n      )\n      let jsxProps = {\n        style_left: mouseLeft + 'px',\n        style_top: mouseTop + 'px',\n        key: 'contextmenu',\n        on_mousedown (e) {\n          e.stopPropagation()\n        },\n        on_click () {\n          me.close()\n        },\n      }\n      if (!this.isOpen) {\n        jsxProps = {\n          ...jsxProps,\n          style_display: 'none',\n        }\n      }\n      return div('.contextmenu menu',\n        jsxProps,\n        ...children,\n      )\n    },\n  },\n  created () {\n    event.$on('windowMouseDown', () => {\n      this.close()\n    })\n  },\n  render (h) {\n    jsx.h = h\n    return this._renderMain()\n  }\n}\nlet globalCase\nVue.prototype.$contextmenu = (...args) => {\n  if (!globalCase) {\n    let VueObject = Vue.extend(SpContextmenu)\n    globalCase = new VueObject\n    globalCase.$mount(document.createElement('div'))\n    document.body.appendChild(globalCase.$el)\n  }\n  globalCase.open(...args)\n}\nexport default SpContextmenu\n</script>","import Vue from 'vue'\nexport default new Vue","import mod from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./color.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./color.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./contextmenu.vue?vue&type=script&lang=js&\"\nexport * from \"./contextmenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./contextmenu.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import localforage from 'localforage'\nimport { \n  merge,\n  cloneDeep,\n} from 'lodash'\nimport Deferred from 'vue-deferred'\nlet dbReady\nlet dbTable\nexport default {\n  computed: {\n  },\n  methods: {\n    async _dbInit () {\n      if (dbReady) {\n        return\n      }\n      let defer = Deferred()\n      dbReady = defer.promise\n      dbTable = localforage.createInstance({\n        name: 'proto-design',\n        storeName: 'object',\n      })\n      await dbTable.ready()\n      let keys = await dbTable.keys()\n      // 如果是项目首次，则进行数据初始化\n      if (!keys.length) {\n        console.log('database init')\n        let project = this._createProjectBase()\n        let page = this._createPageBase(project.id)\n        project.pages.headId = page.id\n        project.currPageId = page.id\n        await this._dbSaveItem(project.id, project)\n        await this._dbSaveItem(page.id, page)\n        console.log('database init over')\n      }\n      defer.resolve()\n    },\n    async _dbSaveItem (id, value) {\n      value = cloneDeep(value)\n      if (value) {\n        // 排除 tempGroup\n        if (value.type === 'rect-tempGroup') {\n          console.log('不存储临时组')\n          return\n        }\n        // 保证数据完整性\n        if (value['tempGroupId']) {\n          value['tempGroupId'] = ''\n        }\n        if (value.data && value.data.isOpen) {\n          value.data.isOpen = false\n        }\n      }\n      await dbTable.ready()\n      if (!value) {\n        await dbTable.removeItem(id)\n      }\n      else {\n        let oldValue = await dbTable.getItem(id) || {}\n        let newValue = merge(oldValue, value)\n        if (newValue.type) {\n          await dbTable.setItem(id, newValue)\n        }\n      }\n    },\n    async _dbSave (objects) {\n      console.log('dbSave', objects)\n      for (let id in objects) {\n        await this._dbSaveItem(id, objects[id])\n      }\n    },\n    async _dbAll () {\n      console.log('加载所有数据...')\n      await dbReady\n      await dbTable.iterate((value, key) => {\n        this.objects[key] = value\n        if (value.type === 'project') {\n          this.currProjectId = value.id\n        }\n      })\n      this.currPageId = this.currProject.currPageId\n      console.log('加载所有数据完毕')\n    },\n  },\n  created () {\n    this._dbInit()\n    this._dbAll()\n  },\n  async mounted () {\n  }\n}","import mod from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./contextmenu.vue?vue&type=script&lang=js&\"","import SpColor from './color'\nimport SpContextmenu from './contextmenu'\nlet components = [\n  SpColor,\n  SpContextmenu,\n]\nlet install = (Vue) => {\n  components.forEach(com => {\n    Vue.component(com.name, com)\n  })\n}\nexport default {\n  install,\n}\n","import {\n  cloneDeep,\n  forEachRight,\n  forEach,\n} from 'lodash'\nexport default {\n  data () {\n    return {\n      history: {\n        diff: [],\n        list: [],\n        cursor: -1,\n      }\n    }\n  },\n  methods: {\n    _historyInit () {\n      this.history.diff = []\n      this.history.list = []\n      this.cursor = -1\n    },\n    _historyIsSameValue (\n      value1, \n      value2\n    ) {\n      return JSON.stringify(value1) === JSON.stringify(value2)\n    },\n    _historyDiffAdd (\n      longProp, \n      oldValue, \n      newValue\n    ) {\n      let oldValue2 = cloneDeep(oldValue)\n      let newValue2 = cloneDeep(newValue)\n      let history = this.history\n      let idx = history.diff.findIndex(o => o.longProp === longProp)\n      let isIn = idx !== -1\n      if (isIn){\n        let diffObject = history.diff[idx]\n        // 更新新值\n        diffObject['newValue'] = newValue2\n        // 更新位置\n        history.diff.splice(idx, 1)\n        // 如果最终没发生变化，则忽略\n        if (!this._historyIsSameValue(newValue2, diffObject.oldValue)){\n          history.diff.push(diffObject)\n        }\n      }\n      else {\n        this.history.diff.push({\n          longProp, \n          oldValue: oldValue2, \n          newValue: newValue2\n        })\n      }\n    },\n    _historyPush() {\n      if (!this.history.diff.length){\n        return\n      }\n      // 如果处于历史中，删掉后边的记录\n      if (this._historyCanGo()){\n        this.history.list = this.history.list.slice(0, this.history.cursor + 1)\n      }\n      let historyObject = this.history.diff\n      this.history.list.push(historyObject)\n      this.history.diff = []\n      this.history.cursor ++\n      this._historyCommitChange(historyObject)\n    },\n    _historyBack () {\n      if (!this._historyCanBack()){\n        return\n      }\n      let historyObject = this.history.list[this.history.cursor --]\n      forEachRight(historyObject, (change) => {\n        let {longProp, oldValue} = change\n        this._parseLongProp(longProp).set(cloneDeep(oldValue))\n      })\n      this._historyCommitChange(historyObject, 'left')\n      this._updateCurrRectBySelected()\n    },\n    _historyGo () {\n      if (!this._historyCanGo()){\n        return\n      }\n      let historyObject = this.history.list[++ this.history.cursor]\n      forEach(historyObject, (change) => {\n        let {longProp, newValue} = change\n        this._parseLongProp(longProp).set(cloneDeep(newValue))\n      })\n      this._historyCommitChange(historyObject)\n      this._updateCurrRectBySelected()\n    },\n    _historyCanGo () {\n      return this.history.cursor < this.history.list.length - 1\n    },\n    _historyCanBack () {\n      return this.history.cursor > -1\n    },\n    // 每次历史的更新都从当前的 historyChange 合并变化\n    // 并且同步到 server\n    _historyCommitChange (\n      historyObject, \n      dir = 'right'\n    ) {\n      historyObject = cloneDeep(historyObject)\n      let objects = {}\n      let isRight = dir === 'right'\n      let f = isRight ? forEach : forEachRight\n      f(historyObject, (change) => {\n        let {longProp, oldValue, newValue} = change\n        let props = longProp.split('.')\n        let object = objects\n        let lastProp = props.slice(-1)[0]\n        props.slice(1, -1).forEach((p) => {\n          if (!(p in object)){\n            object[p] = {}\n          }\n          object = object[p]\n        })\n        object[lastProp] = isRight ? newValue : oldValue\n      })\n      this._dbSave(objects)\n    }\n  },\n}","// 数据的所有改动都从这里走\nexport default {\n  methods: {\n    _command (\n      longProp, \n      newValue\n    ) {\n      let propObject = this._parseLongProp(longProp)\n      let { lastProp, get, set } = propObject \n      let oldValue = get()\n      set(newValue)\n\n      let isObject = longProp.indexOf('objects') === 0\n      if (lastProp === 'tempGroupId') {\n        return\n      }\n      if (lastProp === 'isOpen') {\n        return\n      }\n      if (!isObject){\n        return\n      }\n      if (isObject) {\n        let id = longProp.split('.')[1]\n        if (this._checkIsTempGroup(this.objects[id])) {\n          return\n        }\n      }\n      if (newValue === oldValue) {\n        return\n      }\n      this._historyDiffAdd(longProp, oldValue, newValue)\n    },\n    _commandRectAdd (object) {\n      object = this._safeObject(object)\n      let longProp = `objects.${object.id}`\n      this._command(longProp, object)\n    },\n    _commandRectDelete (object) {\n      object = this._safeObject(object)\n      this._commandObjectDelete(object)\n    },\n    _commandRectPropUpdate (object, prop, newValue) {\n      object = this._safeObject(object)\n      this._commandObjectPropUpdate(object, prop, newValue)\n    },\n    _commandRectDataPropUpdate (object, prop, newValue) {\n      object = this._safeObject(object)\n      this._commandObjectDataPropUpdate(object, prop, newValue)\n    },\n    _commandPropUpdate (\n      prop, \n      newValue\n    ) {\n      let longProp = `${prop}`\n      this._command(longProp, newValue)\n    },\n    _commandPageAdd (object) {\n      object = this._safeObject(object)\n      let longProp = `objects.${object.id}`\n      this._command(longProp, object)\n    },\n    _commandObjectDelete (object) {\n      object = this._safeObject(object)\n      let longProp = `objects.${object.id}.isDelete`\n      this._command(longProp, true)\n    },\n    _commandProjectAdd (object) {\n      object = this._safeObject(object)\n      let longProp = `objects.${object.id}`\n      this._command(longProp, object)\n    },\n    _commandObjectPropUpdate (\n      object, \n      prop, \n      newValue\n    ) {\n      object = this._safeObject(object)\n      let longProp = `objects.${object.id}.${prop}`\n      this._command(longProp, newValue)\n    },\n    _commandObjectDataPropUpdate (\n      object, \n      prop, \n      newValue\n    ) {\n      object = this._safeObject(object)\n      let longProp = `objects.${object.id}.data.${prop}`\n      this._command(longProp, newValue)\n    },\n  },\n}","let _linkedListAppend = function (\n  parent, \n  object, \n  childrenProp = 'rects'\n) {\n  let children = parent[childrenProp]\n  if (!children.headId){\n    this._commandObjectPropUpdate(parent, `${childrenProp}.headId`, object.id)\n    return\n  }\n  if (!children.tailId){\n    this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, object.id)\n    let head = this.objects[children.headId]\n    let tail = this.objects[children.tailId]\n    this._commandObjectPropUpdate(head, 'nextId', tail.id)\n    this._commandObjectPropUpdate(tail, 'prevId', head.id)\n    return\n  }\n  let oldTail = this.objects[children.tailId]\n  this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, object.id)\n  this._commandObjectPropUpdate(oldTail, 'nextId', object.id)\n  this._commandObjectPropUpdate(object, 'prevId', oldTail.id)\n}\nlet _linkedListInsertBefore = function (\n  parent, \n  target, \n  insertObject, \n  childrenProp = 'rects'\n) {\n  let prevId = target.prevId\n  let prevObject = this.objects[prevId]\n  let children = parent[childrenProp]\n\n  if (prevId){\n    this._commandObjectPropUpdate(insertObject, 'prevId', prevId)\n    this._commandObjectPropUpdate(prevObject, 'nextId', insertObject.id)\n  }\n  else {\n    this._commandObjectPropUpdate(parent, `${childrenProp}.headId`, insertObject.id)\n    if (!children.tailId){\n      this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, target.id)\n    }\n  }\n\n  this._commandObjectPropUpdate(insertObject, 'nextId', target.id)\n  this._commandObjectPropUpdate(target, 'prevId', insertObject.id)\n}\nlet _linkedListInsertAfter = function (\n  parent, \n  target, \n  insertObject, \n  childrenProp = 'rects'\n) {\n  let nextId = target.nextId\n  let nextObject = this.objects[nextId]\n\n  if (nextId){\n    this._commandObjectPropUpdate(insertObject, 'nextId', nextId)\n    this._commandObjectPropUpdate(nextObject, 'prevId',  insertObject.id)\n  }\n  else {\n    this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, insertObject.id)\n  }\n\n  this._commandObjectPropUpdate(insertObject, 'prevId', target.id)\n  this._commandObjectPropUpdate(target, 'nextId', insertObject.id)\n}\nlet _linkedListRemove = function (\n  parent, \n  object, \n  childrenProp = 'rects'\n) {\n  let children = parent[childrenProp]\n  let prevId = object.prevId\n  let nextId = object.nextId\n  this._commandObjectPropUpdate(object, 'nextId', '')\n  this._commandObjectPropUpdate(object, 'prevId', '')\n\n  if (prevId){\n    let prevObject = this.objects[prevId]\n    this._commandObjectPropUpdate(prevObject, 'nextId', nextId)\n  }\n  else {\n    this._commandObjectPropUpdate(parent, `${childrenProp}.headId`, nextId)\n  }\n\n  if (nextId){\n    let nextObject = this.objects[nextId]\n    this._commandObjectPropUpdate(nextObject, 'prevId', prevId)\n  }\n  else {\n    this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, prevId)\n  }\n\n  if (children.tailId === children.headId){\n    this._commandObjectPropUpdate(parent, `${childrenProp}.tailId`, '')\n  }\n}\nlet _linkedListMoveUp = function (\n  parent, \n  target, \n  childrenProp = 'rects'\n) {\n  let nextId = target.nextId\n  // 如果已经是最顶了\n  if (!nextId){\n    return\n  }\n  let nextObject = this.objects[nextId]\n  this._linkedListRemove(parent, target, childrenProp)\n  this._linkedListInsertAfter(parent, nextObject, target, childrenProp)\n}\nlet _linkedListMoveDown = function (\n  parent, \n  target, \n  childrenProp = 'rects'\n) {\n  let prevId = target.prevId\n  // 如果已经是最顶了\n  if (!prevId){\n    return\n  }\n  let prevObject = this.objects[prevId]\n  this._linkedListRemove(parent, target, childrenProp)\n  this._linkedListInsertBefore(parent, prevObject, target, childrenProp)\n}\nlet _linkedListMoveTop = function (\n  parent, \n  target, \n  childrenProp = 'rects'\n) {\n  let children = parent[childrenProp]\n  let tailId = children.tailId\n  if (!tailId || (tailId === target.id)){\n    return\n  }\n  let tailObject = this.objects[tailId]\n  this._linkedListRemove(parent, target, childrenProp)\n  this._linkedListInsertAfter(parent, tailObject, target, childrenProp)\n}\nlet _linkedListMoveBottom = function (\n  parent, \n  target, \n  childrenProp = 'rects'\n) {\n  let children = parent[childrenProp]\n  let headId = children.headId\n  if (headId === target.id){\n    return\n  }\n  let headObject = this.objects[headId]\n  this._linkedListRemove(parent, target, childrenProp)\n  this._linkedListInsertBefore(parent, headObject, target, childrenProp)\n}\nlet _linkedListWalk = function (\n  parent, \n  childrenProp = 'rects', \n  f, \n  isDeep = true\n) {\n  let _f = (_parent, z = 0) => {\n    let start = this.objects[_parent[childrenProp].headId]\n    while (start){\n      f(start, z)\n      let isNotExpand = start.data.isExpand === false\n      if (isDeep && !isNotExpand && start[childrenProp] && start[childrenProp]['headId']){\n        _f(start, z + 1)\n      }\n      start = this.objects[start.nextId]\n    }\n  }\n  _f(parent)\n}\nlet _linkedListGetObjects = function (\n  parent, \n  childrenProp = 'rects'\n) {\n  let objects = []\n  let index = 0\n  this._linkedListWalk(parent, childrenProp, (object) => {\n    object.tempIndex = index ++\n    objects.push(object)\n  })\n  return objects\n}\n// 针对有 parentId 属性的 object\nlet _linkedListCheckIsParent = function (\n  parent, \n  object\n) {\n  let parentId = parent.id\n  let _parentId = object.parentId\n  while (_parentId){\n    if (_parentId === parentId) {\n      return true\n    }\n    _parentId = this.objects[_parentId].parentId\n  }\n  return false\n}\nexport default {\n  methods: {\n    _linkedListInsertBefore,\n    _linkedListInsertAfter,\n    _linkedListRemove,\n    _linkedListAppend,\n    _linkedListGetObjects,\n    _linkedListMoveUp,\n    _linkedListMoveDown,\n    _linkedListMoveTop,\n    _linkedListMoveBottom,\n    _linkedListWalk,\n    _linkedListCheckIsParent,\n  }\n}","export default {\n  data () {\n    return {\n      windowEventListener: {},\n    }\n  },\n  methods: {\n    windowEventAdd (\n      type, \n      f\n    ) {\n      window.addEventListener(type, f)\n      if (!(type in this.windowEventListener)){\n        this.windowEventListener[type] = []\n      }\n      this.windowEventListener[type].push(f)\n    }\n  },\n  beforeDestroy () {\n    for (let type in this.windowEventListener){\n      this.windowEventListener[type].forEach(f => {\n        window.removeEventListener(type, f)\n      })\n    }\n  },\n}","// 顶高\nlet a = 54\n// 左侧宽\nlet b = 200\n// 尺子宽\nlet c = 16\n// 右侧宽\nlet d = 200\n\nexport default {\n  a,\n  b,\n  c,\n  d,\n}","import {\n  v4 as uuidv4,\n} from  'uuid'\nimport {\n  memoize,\n} from 'lodash'\nimport vars from '@/core/design-vars'\nlet empty = () => {}\nlet sum = (sum, n) => sum + n\nlet bodyFont = window.getComputedStyle(document.body).font\nlet getTextSize = (\n  text, \n  font = bodyFont\n) => {\n  let span = getTextWidth.span\n  if (!span) {\n    span = getTextWidth.span = document.createElement('div')\n    span.style.display = 'inline-block'\n    let div = document.createElement('div')\n    div.style.display = 'block'\n    div.style.position = 'absolute'\n    div.style.top = '-10000px'\n    div.style.left = '200px'\n    div.style.width = '100000px'\n    div.appendChild(span)\n    document.body.appendChild(div)\n  }\n  span.style.font = font\n  span.innerHTML = text\n  let style = window.getComputedStyle(span)\n  return {\n    width: Math.ceil(parseFloat(style.width)),\n    height: Math.ceil(parseFloat(style.height)),\n  }\n}\nlet getTextWidth = (\n  text, \n  font = bodyFont\n) => {\n  return getTextSize(text, font).width\n}\nlet checkRectOverlap = (\n  r1, \n  r2\n) => {\n  // 两个矩形是否重叠\n  // 求两个矩形外包围的长宽\n  let width = Math.abs(Math.max(r1.right, r2.right) - Math.min(r1.left, r2.left))\n  let height = Math.abs(Math.max(r1.bottom, r2.bottom) - Math.min(r1.top, r2.top))\n\n  // 两个矩形长宽的和\n  let rectMaxWidth = r1.width + r2.width\n  let rectMaxHeight = r1.height + r2.height\n\n  // 如果相交，必须满足外包围的长短必须同时小于两个矩形长宽的和\n  return (width < rectMaxWidth) && (height < rectMaxHeight)\n}\n// 求矩形在 x 轴的映射\nlet getMappingRectX = (\n  rect, \n  angle\n) =>{\n  let values = []\n  let {ra, rb, rc, rd} = rect\n  ;[ra, rb, rc, rd].forEach(point =>{\n      let xp = getMappingPoint(point, angle).xp\n      values.push(xp)\n  })\n  let start = Math.min.apply(null, values)\n  let end = Math.max.apply(null, values)\n  return {\n      start,\n      end,\n      length: end- start,\n  }\n}\nlet checkRectOverlap2 = (\n  rect1, \n  rect2\n) => {\n  let isOverlap = true\n  let angles = [\n    rect1.angle, \n    rect1.angle + 90,\n    rect2.angle,\n    rect2.angle + 90\n  ]\n  // 分离轴定理\n  // https://www.cnblogs.com/demodashi/p/8476761.html\n  angles.some(angle => {\n    let rect1Mapping = getMappingRectX(rect1, angle)\n    let rect2Mapping = getMappingRectX(rect2, angle)\n    if (Math.max(rect1Mapping.end, rect2Mapping.end) - Math.min(rect1Mapping.start, rect2Mapping.start) > (rect1Mapping.length +rect2Mapping.length) ) {\n      isOverlap = false\n      return true\n    }\n  })\n  return isOverlap\n}\nlet tNumber = (\n  n, \n  x = 2\n) => {\n  let y = Math.pow(10, x)\n  return Math.round(n * y) / y\n}\nlet getRadian = (angle) => {\n  return angle * (Math.PI / 180)\n}\n// getRadian 的反向操作\nlet getAngle = (radian) => {\n  return radian / Math.PI * 180\n}\n// 参考：https://blog.csdn.net/sinat_33425327/article/details/78333946\n// center: 旋转中心点\n// point: 一个点\n// angle: 角度\n// type：顺时针 or 逆时针，true or false\nlet getRotatePointByCenter = (\n  center, \n  point, \n  angle, \n  type = true\n) => {\n  angle = parseInt(angle)\n  \n  // 弧度\n  if (!type){\n    angle = 360 - angle\n  }\n  let radian = getRadian(angle)\n\n  let px_0 = point.left - center.left\n  let py_0 = center.top - point.top\n\n  let px_1 = Math.cos(radian) * px_0 + Math.sin(radian) * py_0\n  let py_1 = Math.cos(radian) * py_0 - Math.sin(radian) * px_0\n\n  return {\n    left: tNumber(px_1 + center.left),\n    top: tNumber(center.top - py_1),\n  }\n}\n// 已知a,b两点，以及穿过a的线al的角度为angle\n// 那么假设一条穿过b的线bl与al垂直相交，交点为c，求c的坐标\nlet getCByABAndAngle = (\n  a, \n  b, \n  angle\n) => {\n  if (angle % 180 === 0){\n    return {\n      left: a.left,\n      top: b.top,\n    }\n  }\n  let radian = getRadian(angle)\n  let radian2 = getRadian(90 - angle)\n  let apx = a.left + Math.tan(radian) * a.top\n  let bpx = b.left - Math.tan(radian2) * b.top\n  let cx = bpx + Math.cos(radian) * Math.cos(radian) * (apx - bpx)\n  let cy = Math.sin(radian) * Math.cos(radian) * (apx - bpx)\n  return {\n    left: tNumber(cx),\n    top: tNumber(cy),\n  }\n}\n// 一个点 point 和一个角度 angle\n// 求以角度 angle 通过此点的线 L 在 x 轴的映射值\n// 以及垂直于 L 并通过此点的线在 y 轴的映射值\nlet getMappingPoint = (\n  point, \n  angle\n) => {\n  let radian = getRadian(angle)\n  return {\n    xp: point.left + Math.tan(radian) * point.top,\n    yp: point.top - Math.tan(radian) * point.left,\n  }\n}\n// 已知若干个点和一个角度 angle\n// 求通过每个点的角度为 angle 的线 L 在 x 轴是最小映射值的点 a，以及最大值 a2\n// 以及通过每个点的与 L 垂直相交的线在 y 轴是最小映射值的点 b，以及最大值 b2\nlet getABByPointsAndAngle = (\n  points, \n  angle\n) => {\n  let a, b, a2, b2\n  let x = Number.MAX_VALUE\n  let y = x\n  let x2 = -x\n  let y2 = -y\n\n  points.forEach(p => {\n    let {xp, yp} = getMappingPoint(p, angle)\n\n    if (xp < x){\n      x = xp\n      a = p\n    }\n\n    if (xp >= x2){\n      x2 = xp\n      a2 = p\n    }\n\n    if (yp < y){\n      y = yp\n      b = p\n    }\n\n    if (yp >= y2){\n      y2 = yp\n      b2 = p\n    }\n  })\n\n  return {a, b, a2, b2}\n}\n// 已知两个点，求经过此两点的线的 rotate 角度\n// 方向是先经过 a 点，后经过 b 点\nlet getAngleByTwoPoints = (\n  a, \n  b\n) => {\n  let diffa = Math.abs(tNumber(a.left) - tNumber(b.left))\n  let diffb = Math.abs(tNumber(b.top) - tNumber(a.top))\n\n  let angle = getAngle(\n    Math.atan(diffa / diffb)\n  )\n\n  let aleft = a.left\n  let atop = a.top\n  let bleft = b.left\n  let btop = b.top\n\n  if ( (aleft > bleft) && (atop <= btop) ){\n    // \n  }\n  else if ( (aleft >= bleft) && (atop > btop) ){\n    angle = 180 - angle\n  }\n  else if ( (aleft < bleft) && (atop >= btop) ){\n    angle += 180\n  }\n  else {\n    angle = 360 - angle\n  }\n\n  return angle % 360\n}\nlet getEffectiveAngle = (angle) => {\n  return angle % 360\n}\nlet getUuid = () => {\n  return uuidv4()\n}\nlet selectText = (element) => {\n  let selection = window.getSelection()\n  let range = document.createRange()\n  range.selectNodeContents(element)\n  selection.removeAllRanges()\n  selection.addRange(range)\n}\nlet getRectInfo = (\n  rectData, \n  scale = 1\n) => {\n  let { left, top, width, height, angle } = rectData\n  left *= scale\n  top *= scale\n  width *= scale\n  height *= scale\n  let right = left + width\n  let bottom = top + height\n  let center = {\n    left: tNumber(left + width / 2),\n    top: tNumber(top + height / 2),\n  }\n  let leftTop = {\n    left,\n    top,\n  }\n  let a = leftTop\n  let leftBottom = {\n    left,\n    top: bottom,\n  }\n  let d = leftBottom\n  let rightTop = {\n    left: right,\n    top,\n  }\n  let b = rightTop\n  let rightBottom = {\n    left: right,\n    top: bottom,\n  }\n  let c = rightBottom\n  let ad = {\n    left,\n    top: center.top,\n  }\n  let bc = {\n    left: left + width,\n    top: center.top,\n  }\n\n  let rotateLeftTop = getRotatePointByCenter(center, leftTop, angle)\n  let ra = rotateLeftTop\n\n  let rotateLeftBottom = getRotatePointByCenter(center, leftBottom, angle)\n  let rd = rotateLeftBottom\n\n  let rotateRightTop = getRotatePointByCenter(center, rightTop, angle)\n  let rb = rotateRightTop\n\n  let rotateRightBottom = getRotatePointByCenter(center, rightBottom, angle)\n  let rc = rotateRightBottom\n\n  let rad = getRotatePointByCenter(center, ad, angle)\n  let rbc = getRotatePointByCenter(center, bc, angle)\n\n  let rotateLefts = [\n    ra.left,\n    rb.left,\n    rc.left,\n    rd.left,\n  ]\n  let rotateTops = [\n    ra.top,\n    rb.top,\n    rc.top,\n    rd.top,\n  ]\n  let minRotateLeft = Math.min.apply(null, rotateLefts)\n  let maxRotateLeft = Math.max.apply(null, rotateLefts)\n  let minRotateTop = Math.min.apply(null, rotateTops)\n  let maxRotateTop = Math.max.apply(null, rotateTops)\n\n  return {\n    ...rectData,\n    center,\n    leftTop,\n    leftBottom,\n    rightTop,\n    rightBottom,\n    rotateRightTop,\n    rotateLeftTop,\n    rotateLeftBottom,\n    rotateRightBottom,\n    a,\n    b,\n    c,\n    d,\n    ra,\n    rb,\n    rc,\n    rd,\n    rad,\n    rbc,\n    right,\n    bottom,\n    left,\n    top,\n    width,\n    height,\n    minRotateLeft,\n    maxRotateLeft,\n    minRotateTop,\n    maxRotateTop,\n  }\n}\nlet getGroupSize = (\n  rects, \n  angle\n) => {\n  // 得到所有矩形的点的旋转后的坐标\n  let points = []\n  rects.forEach(rect => {\n    let info = getRectInfo(rect.data)\n    points = [\n      ...points,\n      info.rotateLeftTop,\n      info.rotateRightTop,\n      info.rotateLeftBottom,\n      info.rotateRightBottom,\n    ]\n  })\n  // 根据上面的点得到4个点\n  let ab = getABByPointsAndAngle(points, angle)\n  // 得到 group 左上角的点\n  let rlt = getCByABAndAngle(\n    ab.a,\n    ab.b,\n    angle\n  )\n  // 得到 group 右下角的点\n  let rrb = getCByABAndAngle(\n    ab.a2,\n    ab.b2,\n    angle,\n  )\n  // 计算中心点\n  let center = {\n    left: rlt.left + (rrb.left - rlt.left) / 2,\n    top: rrb.top - (rrb.top - rlt.top) / 2,\n  }\n  // 根据角度判断 rlt,rrb 谁是 lt 的真实坐标\n  // 得到 lt, lt是罗辑坐标点\n  let lt = getRotatePointByCenter(\n    center, \n    (angle > 90 && angle <= 270)\n      ? rrb\n      : rlt,\n    angle,\n    false,\n  )\n  let width = Math.abs(center.left - lt.left) * 2\n  let height = Math.abs(center.top - lt.top) * 2\n\n  return {\n    left: tNumber(lt.left),\n    top: tNumber(lt.top),\n    width: tNumber(width),\n    height: tNumber(height),\n  }\n}\n// 已知a, b两点，a固定，b到 a 的距离放大 m 倍\n// 求等比放大后 b 点的位置\nlet getScalePoint = (\n  a, \n  b, \n  m\n) => {\n  return {\n    left: (b.left - a.left) * m + a.left,\n    top: (b.top - a.top) * m + a.top,\n  }\n}\nlet getPointsCenter = (\n  a, \n  b\n) => {\n  return {\n    left: tNumber(a.left + (b.left - a.left) / 2),\n    top: tNumber(a.top + (b.top - a.top) / 2),\n  }\n}\nlet getWH = (\n  a, \n  c\n) => {\n  return {\n    width: Math.abs(c.left - a.left) * 2,\n    height: Math.abs(c.top - a.top) * 2,\n  }\n}\n// 150, 54 是主舞台的偏移距离\nlet middleLeft = vars.b + vars.c\nlet middleTop = vars.a + vars.c\nlet getMousePoint = (e) => {\n  let $middle = document.querySelector('.proto-middle') || document.documentElement\n  return {\n    left: e.clientX + $middle.scrollLeft - middleLeft,\n    top: e.clientY + $middle.scrollTop - middleTop,\n  }\n}\n// 如果有 % 直接返回，否则加上 px\nlet percentPx = (str) => {\n  str = str + ''\n  if (!str.includes('%')){\n    str += 'px'\n  }\n  return str\n}\n// 检查是否右键\nlet isRightMouse = (e) => {\n  return e.which === 3\n}\n// 缓存函数\nlet memoizeResolver = (...args) => {\n  return JSON.stringify(args)\n}\n;['min', 'max', 'cos', 'sin', 'tan', 'atan', 'abs', 'ceil', 'pow', 'round'].forEach(name => {\n  Math[name] = memoize(Math[name], memoizeResolver)\n}) \ngetTextSize = memoize(getTextSize, memoizeResolver)\ngetMappingRectX = memoize(getMappingRectX, memoizeResolver) \ncheckRectOverlap2 = memoize(checkRectOverlap2, memoizeResolver)\ntNumber = memoize(tNumber, memoizeResolver)\ngetRadian = memoize(getRadian, memoizeResolver)\ngetAngle = memoize(getAngle, memoizeResolver)\ngetRotatePointByCenter = memoize(getRotatePointByCenter, memoizeResolver)\ngetCByABAndAngle = memoize(getCByABAndAngle, memoizeResolver)\ngetMappingPoint = memoize(getMappingPoint, memoizeResolver)\ngetABByPointsAndAngle = memoize(getABByPointsAndAngle, memoizeResolver)\ngetAngleByTwoPoints = memoize(getAngleByTwoPoints, memoizeResolver)\ngetEffectiveAngle = memoize(getEffectiveAngle, memoizeResolver)\ngetRectInfo = memoize(getRectInfo, memoizeResolver)\ngetGroupSize = memoize(getGroupSize, memoizeResolver)\ngetScalePoint = memoize(getScalePoint, memoizeResolver)\ngetPointsCenter = memoize(getPointsCenter, memoizeResolver)\ngetWH = memoize(getWH, memoizeResolver)\npercentPx = memoize(percentPx, memoizeResolver)\n\nexport {\n  getRectInfo,\n  getGroupSize,\n  getScalePoint,\n  getPointsCenter,\n  getWH,\n  getMousePoint,\n  percentPx,\n  sum,\n  empty,\n  getTextWidth,\n  getTextSize,\n  checkRectOverlap,\n  getRotatePointByCenter,\n  getCByABAndAngle,\n  getABByPointsAndAngle,\n  getAngle,\n  tNumber,\n  getAngleByTwoPoints,\n  getEffectiveAngle,\n  getRadian,\n  getUuid,\n  selectText,\n  isRightMouse,\n  checkRectOverlap2,\n  middleLeft,\n  middleTop,\n}","import { \n  getRadian,\n  getRotatePointByCenter,\n  getAngleByTwoPoints,\n  getPointsCenter,\n  getScalePoint,\n  getWH,\n} from './base'\n\nlet minLen = 10\nlet getWidthScale = (\n  newWidth, \n  width\n) => {\n  return newWidth / width\n}\n// 获取辅助数据\nlet getResizeData = (rect) => {\n  let data = rect.data\n  let tempInfo = rect.tempData\n  let angle = tempInfo.angle\n  let radian = getRadian(angle)\n  let tempWidth = tempInfo.width\n  let tempHeight = tempInfo.height\n\n  return {\n    data,\n    tempInfo,\n    angle,\n    radian,\n    tempWidth,\n    tempHeight,\n  }\n}\n\n// 等比 resize\n// mx 鼠标 x 方向移动的值\n// my 鼠标 y 方向移动的值 \nlet resizeAR = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  let widthDiff =  - Math.cos(radian) * mx - Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth) \n  \n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRlt = getScalePoint(rrb, rlt, scale)\n  // 新的中心点\n  let newCenter = getPointsCenter(newRlt, rrb)\n  // 求新的left, top\n  let newLt = getRotatePointByCenter(newCenter, newRlt, angle, false)\n  let wh = getWH(newLt, newCenter)\n\n  // 返回放大倍数和不动点\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: wh.width,\n      height: wh.height,\n    },\n    scale,\n    fixedPoint: rrb,\n  }\n}\nlet resizeBR = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n\n  let rrt = tempInfo.rotateRightTop\n  let rlb = tempInfo.rotateLeftBottom\n  let newRrt = getScalePoint(rlb, rrt, scale)\n  // 新的中心点\n  let newCenter = getPointsCenter(rlb, newRrt)\n  // 求新的right, top\n  let newRt = getRotatePointByCenter(newCenter, newRrt, angle, false)\n  let wh = getWH(newRt, newCenter)\n  let newLt = {\n    left: newRt.left - wh.width,\n    top: newRt.top\n  }\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: wh.width,\n      height: wh.height,\n    },\n    scale,\n    fixedPoint: rlb,\n  }\n}\nlet resizeCR = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n\n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRrb = getScalePoint(rlt, rrb, scale)\n  // 新的中心点\n  let newCenter = getPointsCenter(rlt, newRrb)\n  // 求新的left, top\n  let newLt = getRotatePointByCenter(newCenter, rlt, angle, false)\n  let wh = getWH(newLt, newCenter)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: wh.width,\n      height: wh.height,\n    },\n    scale,\n    fixedPoint: rlt,\n  }\n}\nlet resizeDR = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  let widthDiff = -Math.cos(radian) * mx - Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n\n  let rrt = tempInfo.rotateRightTop\n  let rlb = tempInfo.rotateLeftBottom\n  let newRlb = getScalePoint(rrt, rlb, scale)\n  // 新的中心点\n  let newCenter = getPointsCenter(rrt, newRlb)\n  // 求新的right, top\n  let newRt = getRotatePointByCenter(newCenter, rrt, angle, false)\n  let wh = getWH(newRt, newCenter)\n  let newLt = {\n    left: newRt.left - wh.width,\n    top: newRt.top\n  }\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: wh.width,\n      height: wh.height,\n    },\n    scale,\n    fixedPoint: rrt,\n  }\n}\nlet resizeA = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let rrb = tempInfo.rotateRightBottom\n  // 先算 width, height，然后对 wh 进行最小值保护，然后用 wh 求其他的值\n  let widthDiff = - Math.cos(radian) * mx - Math.sin(radian) * my\n  let heightDiff = Math.sin(radian) * mx - Math.cos(radian) * my\n  let width = Math.max(widthDiff + tempWidth, minLen)\n  let height = Math.max(heightDiff + tempHeight, minLen)\n  // 根据 width, height, angle，rrb 算 rlt 的位置\n  let newRlt = {\n    left: 0,\n    top: 0,\n  }\n  if (angle === 0){\n    newRlt = {\n      left: rrb.left - width,\n      top: rrb.top - height,\n    }\n  }\n  else if (angle === 90){\n    newRlt = {\n      left: rrb.left + height,\n      top: rrb.top - width,\n    }\n  }\n  else if (angle === 180) {\n    newRlt = {\n      left: rrb.left + width,\n      top: rrb.top + height,\n    }\n  }\n  else if (angle === 270){\n    newRlt = {\n      left: rrb.left - height,\n      top: rrb.top + width,\n    }\n  }\n  else {\n    // 其他角度均用下面公式，特殊角度需要简化算法，因为特殊角度会使算法无效\n    newRlt = {\n      left: rrb.left - Math.cos(radian) * (width - Math.tan(radian) * height),\n      top: rrb.top - (height / Math.cos(radian) + Math.sin(radian) * (width - Math.tan(radian) * height)),\n    }\n  }\n  let newCenter = getPointsCenter(newRlt, rrb)\n  // 求新的left, top\n  let newLt = getRotatePointByCenter(newCenter, newRlt, angle, false)\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: width,\n      height: height,\n    },\n    fixedPoint: rrb,\n  }\n}\nlet resizeAB = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  // 求变化的高度\n  let heightDiff = Math.sin(radian) * mx - Math.cos(radian) * my\n  let newHeight = Math.max(tempHeight + heightDiff, minLen)\n  heightDiff = newHeight - tempHeight\n\n  // 求新的 rlt 坐标\n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRlt = {\n    left: rlt.left + Math.sin(radian) * heightDiff,\n    top: rlt.top - Math.cos(radian) * heightDiff,\n  }\n  // 新的中心点\n  let newCenter = getPointsCenter(newRlt, rrb)\n  // 求新的left, top\n  let newLt = getRotatePointByCenter(newCenter, newRlt, angle, false)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      height: newHeight,\n    },\n    fixedPoint: rrb,\n    scaleH: newHeight / tempHeight,\n  }\n}\nlet resizeB = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let rlb = tempInfo.rotateLeftBottom\n  // 先算 width, height，然后对 wh 进行最小值保护，然后用 wh 求其他的值\n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let heightDiff = Math.sin(radian) * mx - Math.cos(radian) * my\n  let width = Math.max(widthDiff + tempWidth, minLen)\n  let height = Math.max(heightDiff + tempHeight, minLen)\n  // 根据 width, height, angle，rrb 算 rrt 的位置\n  let newRrt = {\n    left: 0,\n    top: 0,\n  }\n  if (angle === 0){\n    newRrt = {\n      left: rlb.left + width,\n      top: rlb.top - height,\n    }\n  }\n  else if (angle === 90){\n    newRrt = {\n      left: rlb.left + height,\n      top: rlb.top + width,\n    }\n  }\n  else if (angle === 180) {\n    newRrt = {\n      left: rlb.left - width,\n      top: rlb.top + height,\n    }\n  }\n  else if (angle === 270){\n    newRrt = {\n      left: rlb.left - height,\n      top: rlb.top - width,\n    }\n  }\n  else {\n    // 其他角度均用下面公式，特殊角度需要简化算法，因为特殊角度会使算法无效\n    newRrt = {\n      left: rlb.left + width / Math.cos(radian) + Math.sin(radian) * (height - Math.tan(radian) * width),\n      top: rlb.top - Math.cos(radian) * (height - Math.tan(radian) * width)\n    }\n  }\n  let newCenter = getPointsCenter(newRrt, rlb)\n  // 求新的 rt\n  let newRt = getRotatePointByCenter(newCenter, newRrt, angle, false)\n\n  return {\n    size: {\n      left: newRt.left - width,\n      top: newRt.top,\n      width,\n      height,\n    },\n    fixedPoint: rlb,\n  }\n}\nlet resizeBC = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  // 求变化的宽度\n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let newWidth = Math.max(tempWidth + widthDiff, minLen)\n  return resizeNewWidth(rect, newWidth)\n}\nlet resizeC = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let rlt = tempInfo.rotateLeftTop\n  // 先算 width, height，然后对 wh 进行最小值保护，然后用 wh 求其他的值\n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let heightDiff = -Math.sin(radian) * mx + Math.cos(radian) * my\n  let width = Math.max(widthDiff + tempWidth, minLen)\n  let height = Math.max(heightDiff + tempHeight, minLen)\n  let newRrb = {\n    left: 0,\n    top: 0,\n  }\n  if (angle === 0){\n    newRrb = {\n      left: rlt.left + width,\n      top: rlt.top + height,\n    }\n  }\n  else if (angle === 90){\n    newRrb = {\n      left: rlt.left - height,\n      top: rlt.top + width,\n    }\n  }\n  else if (angle === 180) {\n    newRrb = {\n      left: rlt.left - width,\n      top: rlt.top - height,\n    }\n  }\n  else if (angle === 270){\n    newRrb = {\n      left: rlt.left + height,\n      top: rlt.top - width,\n    }\n  }\n  else {\n    // 其他角度均用下面公式，特殊角度需要简化算法，因为特殊角度会使算法无效\n    newRrb = {\n      left: rlt.left  + Math.cos(radian) * (width - Math.tan(radian) * height),\n      top: rlt.top + height / Math.cos(radian) + Math.sin(radian) * (width - Math.tan(radian) * height),\n    }\n  }\n  let newCenter = getPointsCenter(newRrb, rlt)\n  let newLt = getRotatePointByCenter(newCenter, rlt, angle, false)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width,\n      height,\n    },\n    fixedPoint: rlt,\n  }\n}\n// 直接设定宽度\nlet resizeNewWidth = (\n  rect, \n  newWidth\n) => {\n  let {\n    data,\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  // 求变化的宽度\n  let widthDiff = newWidth - tempWidth\n  let newHeight = tempHeight\n\n  // 求新的 rrb 坐标\n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRrb = {\n    left: rrb.left + Math.cos(radian) * widthDiff,\n    top: rrb.top + Math.sin(radian) * widthDiff\n  }\n  // 是否等比变化\n  let isSameRatio = data.isSameRatio\n  if (isSameRatio){\n    let heightDiff = (tempHeight / tempWidth) * widthDiff\n    newHeight += heightDiff\n    newRrb = {\n      left: newRrb.left - Math.sin(radian) * heightDiff,\n      top: newRrb.top + Math.cos(radian) * heightDiff\n    }\n  }\n  // 新的中心点\n  let newCenter = getPointsCenter(rlt, newRrb)\n  // 求新的left, top\n  let newLt = getRotatePointByCenter(newCenter, rlt, angle, false)\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: newWidth,\n      height: newHeight, \n    },\n    fixedPoint: rlt,\n    scaleW: newWidth / tempWidth,\n  }\n}\nlet resizeNewHeight = (\n  rect, \n  newHeight\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let heightDiff = newHeight - tempHeight\n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRrb = {\n    left: rrb.left - Math.sin(radian) * heightDiff,\n    top: rrb.top + Math.cos(radian) * heightDiff,\n  }\n  // 新的中心点\n  let newCenter = getPointsCenter(rlt, newRrb)\n  // 求新的left, top\n  let newLt = getRotatePointByCenter(newCenter, rlt, angle, false)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      height: newHeight,\n    },\n    fixedPoint: rlt,\n    scaleW: newHeight / tempHeight,\n  }\n}\nlet resizeCD = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  // 求变化的高度\n  let heightDiff = -Math.sin(radian) * mx + Math.cos(radian) * my\n  let newHeight = Math.max(tempHeight + heightDiff, minLen)\n  return resizeNewHeight(rect, newHeight)\n}\nlet resizeD = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    tempHeight,\n    radian,\n  } = getResizeData(rect)\n  let rrt = tempInfo.rotateRightTop\n  // 先算 width, height，然后对 wh 进行最小值保护，然后用 wh 求其他的值\n  let widthDiff = -Math.cos(radian) * mx - Math.sin(radian) * my\n  let heightDiff = -Math.sin(radian) * mx + Math.cos(radian) * my\n  let width = Math.max(widthDiff + tempWidth, minLen)\n  let height = Math.max(heightDiff + tempHeight, minLen)\n  let newRlb = {\n    left: 0,\n    top: 0,\n  }\n  if (angle === 0){\n    newRlb = {\n      left: rrt.left - width,\n      top: rrt.top + height,\n    }\n  }\n  else if (angle === 90){\n    newRlb = {\n      left: rrt.left - height,\n      top: rrt.top - width,\n    }\n  }\n  else if (angle === 180) {\n    newRlb = {\n      left: rrt.left + width,\n      top: rrt.top - height,\n    }\n  }\n  else if (angle === 270){\n    newRlb = {\n      left: rrt.left + height,\n      top: rrt.top + width,\n    }\n  }\n  else {\n    // 其他角度均用下面公式，特殊角度需要简化算法，因为特殊角度会使算法无效\n    newRlb = {\n      left: rrt.left - (width / Math.cos(radian) + Math.sin(radian) * (height - Math.tan(radian) * width)),\n      top: rrt.top + Math.cos(radian) * (height - Math.tan(radian) * width)\n    }\n  }\n  let newCenter = getPointsCenter(newRlb, rrt)\n  // 求新的 rt\n  let newRt = getRotatePointByCenter(newCenter, rrt, angle, false)\n\n  return {\n    size: {\n      left: newRt.left - width,\n      top: newRt.top,\n      height,\n      width,\n    },\n    fixedPoint: rrt,\n  }\n}\nlet resizeAD = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    tempWidth,\n    radian,\n  } = getResizeData(rect)\n  // 求变化的宽度\n  let widthDiff = -Math.cos(radian) * mx - Math.sin(radian) * my\n  let newWidth = Math.max(tempWidth + widthDiff, minLen)\n  widthDiff = newWidth - tempWidth\n\n  // 求新的 rrb 坐标\n  let rlt = tempInfo.rotateLeftTop\n  let rrb = tempInfo.rotateRightBottom\n  let newRlt = {\n    left: rlt.left - Math.cos(radian) * widthDiff,\n    top: rlt.top - Math.sin(radian) * widthDiff,\n  }\n  // 新的中心点\n  let newCenter = getPointsCenter(rrb, newRlt)\n  // 求新的left, top\n  let newLt = getRotatePointByCenter(newCenter, newRlt, angle, false)\n\n  return {\n    size: {\n      left: newLt.left,\n      top: newLt.top,\n      width: newWidth,\n    },\n    fixedPoint: rrb,\n    scaleW: newWidth / tempWidth,\n  }\n}\n// 针对 line 的拖动\nlet resizeADL = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let tempInfo = rect.tempData\n  let height = tempInfo.height\n  let width = tempInfo.width\n  let rbc = tempInfo.rbc\n  let rad = tempInfo.rad\n  let newRad = {\n    left: rad.left + mx,\n    top: rad.top + my,\n  }\n  let newCenter = getPointsCenter(newRad, rbc)\n  let newAngle = parseInt(getAngleByTwoPoints(newRad, newCenter) + 90) % 360\n  let ad = getRotatePointByCenter(newCenter, newRad, newAngle, false)\n  let bc = getRotatePointByCenter(newCenter, rbc, newAngle, false)\n  let newWidth = bc.left - ad.left\n  let a = {\n    left: ad.left,\n    top: ad.top - height / 2,\n  }\n  return {\n    size: {\n      ...a,\n      width: newWidth,\n    },\n    angle: newAngle,\n    fixedPoint: rbc,\n    scaleW: newWidth / width,\n  }\n}\nlet resizeBCL = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let tempInfo = rect.tempData\n  let height = tempInfo.height\n  let width = tempInfo.width\n  let rbc = tempInfo.rbc\n  let rad = tempInfo.rad\n  let newRbc = {\n    left: rbc.left + mx,\n    top: rbc.top + my,\n  }\n  let newCenter = getPointsCenter(rad, newRbc)\n  let newAngle = parseInt(getAngleByTwoPoints(rad, newCenter) + 90) % 360\n  let ad = getRotatePointByCenter(newCenter, rad, newAngle, false)\n  let bc = getRotatePointByCenter(newCenter, newRbc, newAngle, false)\n  let newWidth = bc.left - ad.left\n  let a = {\n    left: ad.left,\n    top: ad.top - height / 2,\n  }\n  return {\n    size: {\n      ...a,\n      width: newWidth,\n    },\n    angle: newAngle,\n    fixedPoint: rad,\n    scaleW: newWidth / width,\n  }\n}\n// line 角度锁定\nlet resizeADRL = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    radian,\n    tempWidth,\n    tempHeight,\n  } = getResizeData(rect)\n  let rbc = tempInfo.rbc\n  let rad = tempInfo.rad\n  let widthDiff = -Math.cos(radian) * mx - Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n  let newRad = getScalePoint(rbc, rad, scale)\n  let newCenter = getPointsCenter(rbc, newRad)\n  let ad = getRotatePointByCenter(newCenter, newRad, angle, false)\n  let a = {\n    left: ad.left,\n    top: ad.top - tempHeight / 2,\n  }\n  return {\n    size: {\n      ...a,\n      width: newWidth,\n    },\n    angle,\n    fixedPoint: rad,\n    scale,\n  }\n}\n// line 角度锁定\nlet resizeBCRL = (\n  rect, \n  mx = 0, \n  my = 0\n) => {\n  let {\n    tempInfo,\n    angle,\n    radian,\n    tempWidth,\n    tempHeight,\n  } = getResizeData(rect)\n  let rbc = tempInfo.rbc\n  let rad = tempInfo.rad\n  let widthDiff = Math.cos(radian) * mx + Math.sin(radian) * my\n  let newWidth = Math.max(widthDiff + tempWidth, minLen)\n  let scale = getWidthScale(newWidth, tempWidth)\n  let newRbc = getScalePoint(rad, rbc, scale)\n  let newCenter = getPointsCenter(rad, newRbc)\n  let ad = getRotatePointByCenter(newCenter, rad, angle, false)\n  let a = {\n    left: ad.left,\n    top: ad.top - tempHeight / 2,\n  }\n  return {\n    size: {\n      ...a,\n      width: newWidth,\n    },\n    angle,\n    fixedPoint: rad,\n    scale,\n  }\n}\nexport {\n  resizeAR,\n  resizeBR,\n  resizeCR,\n  resizeDR,\n  resizeA,\n  resizeAB,\n  resizeB,\n  resizeBC,\n  resizeC,\n  resizeCD,\n  resizeD,\n  resizeAD,\n  resizeADL,\n  resizeBCL,\n  resizeADRL,\n  resizeBCRL,\n  resizeNewWidth,\n  resizeNewHeight,\n}","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {\n  getScalePoint,\n  getPointsCenter,\n  getWH,\n  getRotatePointByCenter,\n  getRadian,\n  getTextSize,\n} from '@/core/base'\nimport {\n  resizeAR,\n  resizeBR,\n  resizeCR,\n  resizeDR,\n  resizeA,\n  resizeAB,\n  resizeB,\n  resizeBC,\n  resizeC,\n  resizeCD,\n  resizeD,\n  resizeAD,\n  resizeADL,\n  resizeBCL,\n  resizeADRL,\n  resizeBCRL,\n  resizeNewWidth,\n  resizeNewHeight,\n} from '@/core/resize'\nexport default {\n  methods: {\n    _resize (\n      mx, \n      my\n    ) {\n      let rect = this.objects[this.currRectId]\n      let dir = this.mouse.resizerDir\n      let isLine = rect.type === 'rect-line'\n      ;[mx, my] = this._checkGuideOnResize(rect, dir, mx, my)\n      if (this._checkIsGroupLike(rect)){\n        this._resizeGroup(rect, dir, mx, my)\n      }\n      else if (isLine){\n        this._resizeLine(rect, dir, mx, my)\n      }\n      else {\n        this._resizeRect(rect, dir, mx, my)\n      }\n    },\n    _resizeText (\n      rect, \n      text\n    ) {\n      let data = rect.data\n      text = text || data.text\n      let font = `${data.fontSize}px ${data.fontFamily}`\n      let size = getTextSize(text, font)\n      let newWidth = size.width\n      this._resizeWidthTo(rect, newWidth)\n      let newHeight = size.height\n      this._resizeHeightTo(rect, newHeight)\n    },\n    _resizeLine (\n      rect, \n      dir, \n      mx, \n      my\n    ) {\n      let resizeF = {\n        ad: resizeADL,\n        bc: resizeBCL,\n      }[dir]\n      if (rect.data.isAngleLock) {\n        resizeF = {\n          ad: resizeADRL,\n          bc: resizeBCRL,\n        }[dir]\n      }\n      let resizeRes = resizeF(rect, mx, my)\n      this._commandRectDataPropUpdate(rect, 'angle', resizeRes.angle)\n      this._updateRectData(rect, resizeRes.size)\n    },\n    // 同时缩放\n    _scaleGroupRectR (\n      rect, \n      fixedPoint, \n      scale\n    ) {\n      let rectData = rect.data\n      let rectInfo = rect.tempData\n      let rlt = rectInfo.rotateLeftTop\n      let rrb = rectInfo.rotateRightBottom\n\n      let newRlt = getScalePoint(fixedPoint, rlt, scale)\n      let newRrb = getScalePoint(fixedPoint, rrb, scale)\n      let newCenter = getPointsCenter(newRlt, newRrb)\n      let lt = getRotatePointByCenter(newCenter, newRlt, rectData.angle, false)\n      let wh = getWH(lt, newCenter)\n      this._updateRectData(rect, {\n        left: lt.left,\n        top: lt.top,\n        width: wh.width,\n        height: wh.height,\n      }, false)\n    },\n    _scaleGroupRectWOrH (\n      group, \n      rect, \n      scale, \n      dir\n    ) {\n      let groupData = group.data\n      let groupTempInfo = group.tempData\n      let groupAngle = groupData.angle\n      let data = rect.data\n      let tempInfo = rect.tempData\n      let angle = data.angle\n      let radian = getRadian(groupAngle)\n      let fixed\n      let type = 'left'\n\n      if (dir === 'bc'){\n        fixed = groupTempInfo.left \n      }\n      else if (dir === 'ad'){\n        fixed = groupTempInfo.left + groupTempInfo.width\n      }\n      else if (dir === 'cd'){\n        fixed = groupTempInfo.top\n        type = 'top'\n      }\n      else {\n        fixed = groupTempInfo.top + groupTempInfo.height\n        type = 'top'\n      }\n\n      let angleDiff = Math.abs(angle - groupAngle)\n      let is180 = angleDiff === 180\n      let is90 = angleDiff === 90\n      let is270 = angleDiff === 270\n\n      let rlt = tempInfo.rotateLeftTop\n      let rrt = tempInfo.rotateRightTop\n      let rrb = tempInfo.rotateRightBottom\n      let rlb = tempInfo.rotateLeftBottom\n\n      // 根据 rect 和 group 的角度差，重新选择左上角和右下角的点\n      if (is90){\n        [rlt, rrb] = [rlb, rrt]\n      }\n      else if (is180){\n        [rlt, rrb] = [rrb, rlt]\n      }\n      else if (is270){\n        [rlt, rrb] = [rrt, rlb]\n      }\n\n      let lt = getRotatePointByCenter(\n        groupTempInfo.center,\n        rlt,\n        groupAngle,\n        false,\n      )\n      let dis = lt[type] - fixed\n      let disDiff = dis * (scale - 1)\n      let newRlt = {\n        left: rlt.left,\n        top: rlt.top,\n      }\n      if (type === 'left'){\n        newRlt.left += Math.cos(radian) * disDiff\n        newRlt.top += Math.sin(radian) * disDiff\n      }\n      else {\n        newRlt.left -= Math.sin(radian) * disDiff\n        newRlt.top += Math.cos(radian) * disDiff\n      }\n      \n      let rb = getRotatePointByCenter(\n        groupTempInfo.center,\n        rrb,\n        groupAngle,\n        false,\n      )\n      // rect cd 距离 group ad 的距离\n      let dis2 = rb[type] - fixed\n      let dis2Diff = dis2 * (scale - 1)\n      let newRrb = {\n        left: rrb.left,\n        top: rrb.top,\n      }\n      if (type === 'left'){\n        newRrb.left += Math.cos(radian) * dis2Diff\n        newRrb.top += Math.sin(radian) * dis2Diff\n      }\n      else {\n        newRrb.left -= Math.sin(radian) * dis2Diff\n        newRrb.top += Math.cos(radian) * dis2Diff\n      }\n\n      let newCenter = getPointsCenter(newRlt, newRrb)\n      let newLt = getRotatePointByCenter(\n        newCenter, \n        newRlt, \n        angle, \n        false\n      )\n      let wh = getWH(newLt, newCenter)\n      let size = {\n        left: newLt.left,\n        top: newLt.top,\n        width: wh.width,\n        height: wh.height,\n      }\n      // 根据角度差进行弥补\n      if (is180){\n        size.left = data.left - size.width\n        size.top = data.top - size.height\n      }\n      else if (is90){\n        size.top = data.top - size.height\n      }\n      else if (is270){\n        size.left = data.left - size.width\n      }\n      this._updateRectData(rect, size, false)\n    },\n    // 同时缩放\n    _scaleGroupR (\n      group, \n      fixedPoint, \n      scale\n    ) {\n      let f = (id) => {\n        let rect = this._getRectById(id)\n        this._scaleGroupRectR(rect, fixedPoint, scale)\n      }\n      this._updateGroupState(group, f)\n    },\n    _resizeGroupWithRes (\n      group, \n      resizeRes, \n      dir\n    ) {\n      let { fixedPoint } = resizeRes\n      let scale = resizeRes.scaleW || resizeRes.scaleH\n      let groupData = group.data\n      let groupAngle = groupData.angle\n      let f = (id) => {\n        let rect = this._getRectById(id)\n        let data = rect.data\n        let angle = data.angle\n\n        // 如果角度差不是 90 的倍数，则同比缩放 rect\n        // 或者是 isSameRatio\n        let isSameRatio = groupData.isSameRatio || data.isSameRatio\n        let is90 = (angle - groupAngle) % 90 !== 0\n        if ( isSameRatio || is90 ){\n          this._scaleGroupRectR(rect, fixedPoint, scale)\n        }\n        else {\n          this._scaleGroupRectWOrH(group, rect, scale, dir)\n        }\n      }\n      this._updateGroupState(group, f)\n      return this._getGroupSize(group)\n    },\n    // a ---- b\n    // d ---- c \n    _resizeGroup (\n      group, \n      dir = 'c', \n      mx = 0, \n      my = 0\n    ) {\n      let resizeF = {\n        a: resizeAR,\n        b: resizeBR,\n        c: resizeCR,\n        d: resizeDR,\n        ab: resizeAB,\n        bc: resizeBC,\n        cd: resizeCD,\n        ad: resizeAD,\n      }[dir]\n      let resizeRes = resizeF(group, mx, my)\n      let groupSize = {}\n      if (['a', 'b', 'c', 'd'].includes(dir)){\n        let {scale, fixedPoint} = resizeRes\n        this._scaleGroupR(group, fixedPoint, scale)\n        groupSize = resizeRes.size\n      }\n      else {\n        groupSize = this._resizeGroupWithRes(group, resizeRes, dir)\n      }\n      this._updateRectData(group, groupSize)\n    },\n    // a ---- b\n    // d ---- c \n    _resizeRect (\n      rect, \n      dir = 'bc', \n      mx, \n      my\n    ) {\n      let resizeF = {\n        a: resizeA,\n        b: resizeB,\n        c: resizeC,\n        d: resizeD,\n        ab: resizeAB,\n        bc: resizeBC,\n        cd: resizeCD,\n        ad: resizeAD,\n      }[dir]\n      let shiftKey = this.mouse.e.shiftKey\n      let isSameRatio = rect.data.isSameRatio\n      if (shiftKey || isSameRatio) {\n        resizeF = {\n          a: resizeAR,\n          b: resizeBR,\n          c: resizeCR,\n          d: resizeDR,\n        }[dir]\n      }\n      let resizeRes = resizeF(rect, mx, my)\n      this._updateRectData(rect, resizeRes.size)\n    },\n    // 不能同时设置 width 和 height，需要分开调用\n    _resizeTo (\n      rect, \n      width = null, \n      height = null\n    ) {\n      let isGroupLike = this._checkIsGroupLike(rect)\n      let resizeRes\n      let dir\n\n      if (width !== null){\n        resizeRes = resizeNewWidth(rect, width)\n        dir = 'bc'\n      }\n      if (height !== null){\n        resizeRes = resizeNewHeight(rect, height)\n        dir = 'cd'\n      }\n      if (isGroupLike){\n        let groupSize = this._resizeGroupWithRes(rect, resizeRes, dir)\n        this._updateRectData(rect, groupSize)\n      }\n      else {\n        this._updateRectData(rect, resizeRes.size)\n      }\n    },\n    _resizeWidthTo (\n      rect, \n      width\n    ) {\n      this._resizeTo(rect, width)\n    },\n    _resizeHeightTo (\n      rect, \n      height,\n    ) {\n      this._resizeTo(rect, null, height)\n    },\n  }\n}","import {\n  getRotatePointByCenter,\n  getAngleByTwoPoints,\n  getEffectiveAngle,\n  getRectInfo,\n  tNumber,\n} from '@/core/base'\n\nexport default {\n  methods: {\n    _rotate (mousePoint) {\n      let rect = this.objects[this.currRectId]\n      let info = getRectInfo(rect.data)\n      let tempInfo = rect.tempData\n      let oldAngle = tempInfo.angle\n      let nowAngle = info.angle\n      let scale = this.scale\n      let newAngle =  parseInt(getAngleByTwoPoints(mousePoint, {\n        left: info.center.left * scale,\n        top: info.center.top * scale\n      }))\n      let angleDiff = newAngle - oldAngle\n      angleDiff = this._checkGuideOnRotate(oldAngle, nowAngle, newAngle, angleDiff)\n\n      if (this._checkIsGroupLike(rect)){\n        this._rotateGroup(rect, angleDiff)\n      }\n      else {\n        this._rotateRect(rect, angleDiff)\n      }\n    },\n    _rotateTo (\n      rect, \n      angle\n    ) {\n      let tempInfo = rect.tempData\n      let angleDiff = angle - tempInfo.angle\n\n      if (this._checkIsGroupLike(rect)){\n        this._rotateGroup(rect, angleDiff)\n      }\n      else {\n        this._rotateRect(rect, angleDiff)\n      }\n    },\n    _rotateRect (\n      rect, \n      angleDiff\n    ) {\n      this._commandRectDataPropUpdate(rect, 'angle', getEffectiveAngle(rect.tempData.angle + angleDiff))\n      // 同步 group\n      if (rect.groupId){\n        let group = this._getRectById(rect.groupId)\n        this._updateGroupSize(group)\n      }\n    },\n    _rotateGroup (\n      group, \n      angleDiff\n    ) {\n      let groupTempInfo = group.tempData\n      let groupCenter = groupTempInfo.center\n      let f = (id) => {\n        let rect = this._getRectById(id)\n        let tempInfo = rect.tempData\n        let center = getRotatePointByCenter(groupCenter, tempInfo.center, angleDiff)\n        let left = center.left - tempInfo.width / 2\n        let top = center.top - tempInfo.height / 2\n\n        this._commandRectDataPropUpdate(rect, 'left', tNumber(left))\n        this._commandRectDataPropUpdate(rect, 'top', tNumber(top))\n        this._commandRectDataPropUpdate(rect, 'angle', getEffectiveAngle(tempInfo.angle + angleDiff))\n      }\n      this._updateGroupState(group, f, true)\n    },\n  }\n}","export default {\n  methods: {\n    _move (\n      rect, \n      mx = 0, \n      my = 0, \n      isCheck = true\n    ) {\n      rect = this._safeObject(rect)\n      if (isCheck){\n        [mx, my] = this._checkGuideOnMove(rect, mx, my)\n      }\n      let isShift = this.mouse.e.shiftKey\n      if (isShift) {\n        if (Math.abs(mx) > Math.abs(my)) {\n          my = 0\n        }\n        else {\n          mx = 0\n        }\n      }\n      if (this._checkIsGroupLike(rect)){\n        this._moveGroup(rect, mx, my)\n      }\n      else {\n        this._moveRect(rect, mx, my)\n      }\n    },\n    _moveTo (\n      rect, \n      left = null, \n      top = null\n    ) {\n      let tempInfo = rect.tempData\n      let mx = 0\n      let my = 0\n      if (left !== null){\n        mx = left - tempInfo.left\n      }\n      if (top !== null){\n        my = top - tempInfo.top\n      }\n      this._move(rect, mx, my, false)\n    },\n    _moveLeftTo (\n      rect, \n      left\n    ) {\n      this._moveTo(rect, left)\n    },\n    _moveTopTo (\n      rect, \n      top\n    ) {\n      this._moveTo(rect, null, top)\n    },\n    _moveRect (\n      rect, \n      mx = 0, \n      my = 0\n    ) {\n      let tempInfo = rect.tempData\n      this._updateRectData(rect, {\n        left: tempInfo.left + mx,\n        top: tempInfo.top + my\n      }, false)\n      if (rect.groupId){\n        let group = this._getRectById(rect.groupId)\n        this._updateGroupSize(group)\n      }\n    },\n    _moveGroup (\n      group, \n      mx = 0, \n      my = 0\n    ) {\n      let f = (id) => {\n        let rect = this._getRectById(id)\n        let tempInfo = rect.tempData\n        this._updateRectData(rect, {\n          left: tempInfo.left + mx,\n          top: tempInfo.top + my,\n        }, false)\n      }\n      this._updateGroupState(group, f)\n    },\n  }\n}","import jsx from 'vue-jsx'\nimport { tNumber } from '@/core/base'\nlet {\n  div, \n  span,\n  input,\n  select,\n  option,\n  label,\n  i,\n} = jsx\nlet SpColor = jsx.bind('sp-color')\nlet _renderSetting = function () {\n  let me = this\n  let jsxProps = {\n    'class_proto-setting': true,\n  }\n  let rect = this._safeObject(\n    this.currRectId || this._getSelectedRects()[0]\n  )\n  let children = []\n\n  if (rect){\n    let rectData = rect.data\n    let isGroupLike = this._checkIsGroupLike(rect)\n    let isTempGroup = this._checkIsTempGroup(rect)\n    let isLine = rect.type === 'rect-line'\n    let isText = rect.type === 'rect-text'\n    let isAutoSize = rectData.isAutoSize\n    let isSameRatio = rectData.isSameRatio\n    let isLock = rectData.isLock\n    let getInputJsxProps = (prop) => {\n      let value = rectData[prop]\n      if (typeof value === 'number'){\n        value = tNumber(value, 0)\n      }\n      let jsxProps = {\n        'class_form-input': true,\n        'class_input-sm': true,\n        domProps_value: value,\n        domProps_type: 'number',\n        props_value: value,\n        domProps_disabled: isLock,\n        props_disabled: isLock,\n        key: prop,\n        'on_blur' () {\n        },\n        'on_focus' () {\n          me._updateRectTempData(rect)\n        },\n        'on_change' (e) {\n          let value = e.target.value\n          me._commandRectDataPropUpdate(rect, prop, value)\n          me._historyPush()\n          if (['borderStyle'].includes(prop)){\n            me._flashHandler()\n          }\n        },\n      }\n      if (['borderColor', 'color', 'backgroundColor'].includes(prop)){\n        jsxProps = {\n          ...jsxProps,\n          'on_change' (value) {\n            let color = value.hex8\n            me._commandRectDataPropUpdate(rect, prop, color)\n            me._historyPush()\n            if (['borderColor'].includes(prop)){\n              me._flashHandler()\n            }\n          }\n        }\n      }\n      return jsxProps\n    }\n    if (isTempGroup){\n      let $align = div({'class_proto-setting-box-item': true},\n        span('对齐'),\n        select({\n          'class_form-select': true,\n          'class_select-sm': true,\n          'domProps_value': '',\n          'on_change' (e) {\n            let align = e.target.value\n            let f = {\n              left: me._actionRectAlignLeft,\n              leftRight: me._actionRectAlignLeftRight,\n              right: me._actionRectAlignRight,\n              top: me._actionRectAlignTop,\n              topBottom: me._actionRectAlignTopBottom,\n              bottom: me._actionRectAlignBottom,\n              equalSpaceX: me._actionRectEqualSpaceX,\n              equalSpaceY: me._actionRectEqualSpaceY,\n            }[align]\n            f()\n            me._historyPush()\n            me.renderHook ++\n          }\n        },\n          option({domProps_value: ''}, '选择对齐方式'),\n          option({domProps_value: 'left'}, '左对齐'),\n          option({domProps_value: 'leftRight'}, '左右居中'),\n          option({domProps_value: 'right'}, '右对齐'),\n          option({domProps_value: 'top'}, '上对齐'),\n          option({domProps_value: 'topBottom'}, '上下居中'),\n          option({domProps_value: 'bottom'}, '下对齐'),\n          option({\n            domProps_disabled: !me._actionCanRectEqualSpace(),\n            domProps_value: 'equalSpaceX',\n          }, '水平等间距'),\n          option({\n            domProps_disabled: !me._actionCanRectEqualSpace(),\n            domProps_value: 'equalSpaceY',\n          }, '垂直等间距'),\n        )\n      )\n      children = [...children, $align]\n    }\n    let $left = div({'class_proto-setting-box-item': true},\n      span('X轴坐标'),\n      input({\n        ...getInputJsxProps('left'),\n        'on_change' (e) {\n          let value = e.target.value\n          let intValue = parseInt(value)\n          me._moveLeftTo(rect, intValue)\n          me._historyPush()\n        },\n      })\n    )\n    children = [...children, $left]\n    let $top = div({'class_proto-setting-box-item': true},\n      span('Y轴坐标'),\n      input({\n        ...getInputJsxProps('top'),\n        'on_change' (e) {\n          let value = e.target.value\n          let intValue = parseInt(value)\n          me._moveTopTo(rect, intValue)\n          me._historyPush()\n        },\n      })\n    )\n    children = [...children, $top]\n    let $width = div({'class_proto-setting-box-item': true},\n      span('宽度'),\n      input({\n        domProps_disabled: isAutoSize,\n        ...getInputJsxProps('width'),\n        'on_change' (e) {\n          let value = e.target.value\n          let intValue = Math.max(10, parseInt(value))\n          me._resizeWidthTo(rect, intValue)\n          me._historyPush()\n        },\n      })\n    )\n    children = [...children, $width]\n    let $height = div({'class_proto-setting-box-item': true},\n      span('高度'),\n      input({\n        domProps_disabled: isAutoSize || isLine || isSameRatio,\n        ...getInputJsxProps('height'),\n        'on_change' (e) {\n          let value = e.target.value\n          let intValue = Math.max(10, parseInt(value))\n          me._resizeHeightTo(rect, intValue)\n          me._historyPush()\n        },\n      })\n    )\n    children = [...children, $height]\n    if (!isTempGroup) {\n      let $angle = div({'class_proto-setting-box-item': true},\n        span('角度'),\n        input({\n          ...getInputJsxProps('angle'),\n          'on_change' (e) {\n            let value = e.target.value\n            let intValue = parseInt(value) % 360\n            if (intValue < 0){\n              intValue += 360\n            }\n            me._rotateTo(rect, intValue)\n          },\n        })\n      )\n      children = [...children, $angle]\n    }\n    if (!isLine){\n      let $isSameRatio = div({'class_proto-setting-box-item': true},\n        span('等比缩放'),\n        label({\n          'class_form-switch': true,\n        },\n          input({\n            ...getInputJsxProps(),\n            key: 'isSameRatio',\n            domProps_type: 'checkbox',\n            domProps_checked: rectData['isSameRatio'],\n            'on_change' () {\n              let value = !rectData['isSameRatio']\n              me._commandRectDataPropUpdate(rect, 'isSameRatio', value)\n              me._historyPush()\n            }\n          }),\n          i({'class_form-icon': true,}),\n        ),\n      )\n      children = [...children, $isSameRatio]\n    }\n\n    if (isLine){\n      let $isAngleLock = div({'class_proto-setting-box-item': true},\n        span('锁定角度'),\n        label({\n          'class_form-switch': true,\n        },\n          input({\n            ...getInputJsxProps(),\n            key: 'isAngleLock',\n            domProps_type: 'checkbox',\n            domProps_checked: rectData['isAngleLock'],\n            'on_change' () {\n              let value = !rectData['isAngleLock']\n              me._commandRectDataPropUpdate(rect, 'isAngleLock', value)\n              me._historyPush()\n            }\n          }),\n          i({'class_form-icon': true,}),\n        ),\n      )\n      children = [...children, $isAngleLock]\n    }\n    if (!isGroupLike){\n      if (!isText){\n        let $borderWidth = div({'class_proto-setting-box-item': true},\n          span('边框宽度'),\n          input({\n            ...getInputJsxProps('borderWidth'),\n            'on_change' (e) {\n              let value = e.target.value\n              let intValue = Math.max(0, parseInt(value))\n              me._commandRectDataPropUpdate(rect, 'borderWidth', intValue)\n              if (isLine){\n                me._commandRectDataPropUpdate(rect, 'height', intValue)\n              }\n            }\n          })\n        )\n        children = [...children, $borderWidth]\n        let $borderStyle = div({'class_proto-setting-box-item': true},\n          span('边框样式'),\n          select({\n            ...getInputJsxProps('borderStyle'),\n            'class_form-select': true,\n            'class_select-sm': true,\n          },\n            option({domProps_value: 'solid'},'solid'),\n            option({domProps_value: 'dashed'},'dashed'),\n            option({domProps_value: 'dotted'},'dotted'),\n          )\n        )\n        children = [...children, $borderStyle]\n        let $borderColor = div({'class_proto-setting-box-item': true},\n          span('边框颜色'),\n          SpColor({\n            ...getInputJsxProps('borderColor'),\n          })\n        )\n        children = [...children, $borderColor]\n      }\n      if (!isLine){\n        let $backgroundColor = div({'class_proto-setting-box-item': true},\n          span('背景颜色'),\n          SpColor({\n            ...getInputJsxProps('backgroundColor'),\n          })\n        )\n        children = [...children, $backgroundColor]\n      }\n      if (!isLine){\n        let $color = div({'class_proto-setting-box-item': true},\n          span('文本颜色'),\n          SpColor({\n            ...getInputJsxProps('color'),\n          })\n        )\n        children = [...children, $color]\n      }\n      if (isText){\n        let $isAutoSize = div({'class_proto-setting-box-item': true},\n          span('自适应尺寸'),\n          label({\n            'class_form-switch': true,\n          },\n            input({\n              ...getInputJsxProps(),\n              key: 'isAutoSize',\n              domProps_checked: rectData['isAutoSize'],\n              domProps_type: 'checkbox',\n              'on_change' () {\n                let value = !rectData['isAutoSize']\n                me._updateRectTempData(rect)\n                me._commandRectDataPropUpdate(rect, 'isAutoSize', value)\n                me._resizeText(rect)\n                me._historyPush()\n              }\n            }),\n            i({'class_form-icon': true,}),\n          )\n        )\n        children = [...children, $isAutoSize]\n      }\n      let $fontSize = div({'class_proto-setting-box-item': true},\n        span('文本大小'),\n        input({\n          ...getInputJsxProps('fontSize'),\n          domProps_min: 12,\n          'on_change' (e) {\n            let value = e.target.value\n            value = parseInt(value)\n            me._commandRectDataPropUpdate(rect, 'fontSize', value)\n            me._commandPropUpdate('setting.value', value)\n            if (rectData.isAutoSize) {\n              me._resizeText(rect)\n            }\n          },\n        })\n      )\n      children = [...children, $fontSize]\n      let $fontAlignX = div({'class_proto-setting-box-item': true},\n        span('文本X轴对齐'),\n        select({\n          ...getInputJsxProps('textAlignX'),\n          'class_form-select': true,\n          'class_select-sm': true,\n        },\n          option({domProps_value: 'flex-start'}, '左对齐'),\n          option({domProps_value: 'center'}, '居中对齐'),\n          option({domProps_value: 'flex-end'}, '右对齐'),\n        )\n      )\n      children = [...children, $fontAlignX]\n      let $fontAlignY = div({'class_proto-setting-box-item': true},\n        span('文本Y轴对齐'),\n        select({\n          ...getInputJsxProps('textAlignY'),\n          'class_form-select': true,\n          'class_select-sm': true,\n        },\n          option({domProps_value: 'flex-start'}, '上对齐'),\n          option({domProps_value: 'center'}, '居中对齐'),\n          option({domProps_value: 'flex-end'}, '下对齐'),\n        )\n      )\n      children = [...children, $fontAlignY]\n    }\n    let $opacity = div({'class_proto-setting-box-item': true},\n      span('不透明度'),\n      input({\n        ...getInputJsxProps('opacity'),\n        domProps_min: 0,\n        domProps_max: 100,\n        'on_change' (e) {\n          let value = e.target.value\n          value = parseInt(value)\n          me._updateCurrRectOpacity(value)\n          me._historyPush()\n        }\n      }),\n      '%'\n    )\n    children = [...children, $opacity]\n  }\n  return div({\n    'class_card': true,\n    ...jsxProps,\n  },\n    div('.card-header',\n      div('.card-title h6', '样式'),\n    ),\n    div('.card-body',\n      ...children,\n    )\n  )\n}\nexport {\n  _renderSetting,\n}","import jsx from 'vue-jsx'\nimport event from '@/core/event'\nlet { div } = jsx\nlet _renderHandler = function () {\n  let rect = this.objects[this.currRectId]\n  if (!rect){\n    return\n  }\n  let rectData = rect.data\n  let isLock = rectData.isLock\n  let isTempGroup = this._checkIsTempGroup(rect)\n  let mouse = this.mouse\n  let mousedown = (e) => {\n    this._updateRectTempData(rect)\n    e.stopPropagation()\n    event.$emit('windowMouseDown', e)\n  }\n  let resizerJsx = {\n    'class_proto-rect-resizer': true,\n  }\n  let b = 5\n  let a = `calc(50% - ${b}px)`\n  // 左上角调整器 a\n  let aResizer = div({\n    ...resizerJsx,\n    style_left: -b + 'px',\n    style_top: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'a'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // ab\n  let abResizer = div({\n    ...resizerJsx,\n    style_left: a,\n    style_top: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'ab'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // 右上角 b\n  let bResizer = div({\n    ...resizerJsx,\n    style_right: -b + 'px',\n    style_top: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'b'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // bc\n  let bcResizer = div({\n    ...resizerJsx,\n    style_right: -b + 'px',\n    style_top: a,\n    on_mousedown (e) {\n      mouse.resizerDir = 'bc'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // 右下角 c\n  let cResizer = div({\n    ...resizerJsx,\n    style_right: -b + 'px',\n    style_bottom: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'c'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // cd\n  let cdResizer = div({\n    ...resizerJsx,\n    style_left: a,\n    style_bottom: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'cd'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // 左下角 d\n  let dResizer = div({\n    ...resizerJsx,\n    style_left: -b + 'px',\n    style_bottom: -b + 'px',\n    on_mousedown (e) {\n      mouse.resizerDir = 'd'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  // ad\n  let adResizer = div({\n    ...resizerJsx,\n    style_left: -b + 'px',\n    style_bottom: a,\n    on_mousedown (e) {\n      mouse.resizerDir = 'ad'\n      mouse.eventType = 'resize'\n      mousedown(e)\n    },\n  })\n  let resizer = []\n  let isLine = rect.type === 'rect-line'\n  let isSameRatio = rect.data.isSameRatio\n  if (isLine){\n    resizer = [adResizer, bcResizer]\n  }\n  else {\n    resizer = [aResizer, bResizer, cResizer, dResizer]\n    if (!isSameRatio){\n      resizer = [...resizer, abResizer, bcResizer, cdResizer, adResizer]\n    }\n  }\n  // 旋转器\n  let rotater = div({\n    'class_proto-rect-rotater': true,\n    style_left: a,\n    style_top: '-15px',\n    on_mousedown (e) {\n      mouse.eventType = 'rotate'\n      mousedown(e)\n    },\n  })\n  // 拖动器\n  let jsxProps = {\n    ...this._getRectBaseJsxProps(rect, this.scale),\n    'class_proto-rect-handler': true,\n    'class_proto-rect-handler-lock': isLock,\n  }\n  if (!this.handler.show){\n    jsxProps = {\n      ...jsxProps,\n      'style_display': 'none',\n    }\n  }\n  let children = []\n  if (!isTempGroup) {\n    children = [rotater]\n  }\n  if (!rect.data.isAutoSize){\n    children = [...children, ...resizer]\n  }\n  return div(jsxProps, ...children)\n}\nexport {\n  _renderHandler,\n}","import jsx from 'vue-jsx'\nlet {div} = jsx\nlet _renderGuideShow = function () {\n  let scale = this.scale\n  return [\n    ...Array.from(this.guide.show.top).map(top => {\n      return div({\n        'class_proto-guide': true,\n        'class_proto-guide-top': true,\n        style_top: top * scale + 'px',\n      })\n    }),\n    ...Array.from(this.guide.show.left).map(left => {\n      return div({\n        'class_proto-guide': true,\n        'class_proto-guide-left': true,\n        style_left: left * scale + 'px',\n      })\n    }),\n  ]\n}\nexport {\n  _renderGuideShow,\n}","import jsx from 'vue-jsx'\nlet {\n  div, \n  span,\n  button,\n  select,\n  option,\n} = jsx\nlet buttonJsxProps = {\n  'class_btn': true,\n  'class_btn-sm': true,\n  // 'class_btn-primary': true,\n}\nlet vIcon = jsx.bind('v-icon')\nlet _renderToolsButton = function (type, iconType) {\n  let me = this\n  let {checkF, doF, text} = this._actionGet(type)\n  let jsxProps = {\n    ...buttonJsxProps,\n    domProps_disabled: !checkF.call(this),\n    on_click () {\n      doF.call(me)\n    }\n  }\n  let children = [span(text)]\n  if (iconType) {\n    children = [\n      vIcon({props_name: iconType}),\n      ...children,\n    ]\n  }\n  return button(jsxProps, ...children)\n}\nlet _renderTools = function () {\n  let me = this\n  return div('.proto-tools',\n    div('.btn-group',\n      _renderToolsButton.call(this, 'sys-撤销', 'undo-alt'),\n      _renderToolsButton.call(this, 'sys-重做', 'redo-alt'),\n    ),\n    div('.btn-group',\n      _renderToolsButton.call(this, 'rect-组合', 'object-group'),\n      _renderToolsButton.call(this, 'rect-打散', 'object-ungroup'),\n    ),\n    div('.btn-group',\n      _renderToolsButton.call(this, 'rect-复制', 'copy'),\n      _renderToolsButton.call(this, 'rect-粘贴', 'paste'),\n      _renderToolsButton.call(this, 'rect-删除', 'trash-alt'),\n      _renderToolsButton.call(this, 'rect-剪切', 'cut'),\n    ),\n    div('.btn-group', \n      _renderToolsButton.call(this, 'rect-上移', 'layer-group'),\n      _renderToolsButton.call(this, 'rect-下移', 'layer-group'),\n      _renderToolsButton.call(this, 'rect-置顶', 'layer-group'),\n      _renderToolsButton.call(this, 'rect-置底', 'layer-group'),\n    ),\n    div ('.btn-group',\n      _renderToolsButton.call(this, 'rect-锁定', 'lock'),\n      _renderToolsButton.call(this, 'rect-解锁', 'unlock'),\n    ),\n    div('.btn-group',\n      select({\n        'class_form-select': true,\n        'class_select-sm': true,\n        domProps_value: this.scale,\n        'on_change' (e) {\n          me.scale = e.target.value\n          me._renderRule()\n        }\n      },\n        ...[0.5, 0.8, 1, 1.25, 2].map(o => {\n          return option({\n            domProps_value:  o,\n          }, o + 'x')\n        })\n      ),\n    ),\n  )    \n}\nexport {\n  _renderTools,\n}","export default {\n  blue: '#5755d9',\n  red: '#e85600',\n  gray: '#bcc3ce',\n  white: '#ffffff',\n  black: '#000000',\n}","import color from './color'\nlet base = {\n  name: '对象',\n  top: 0,\n  left: 0,\n  width: 200,\n  height: 100,\n  angle: 0,\n  zIndex: 0,\n  text: '&nbsp;',\n  color: color.black,\n  fontSize: 12,\n  fontFamily: 'SourceHanSansSC',\n  backgroundColor: color.white,\n  borderRadius: 0,\n  borderWidth: 1,\n  borderStyle: 'solid',\n  borderColor: color.black,\n  opacity: 100,\n  textAlignX: 'center',\n  textAlignY: 'center',\n  // 是否编辑\n  isEdit: false,\n  // 是否 name 编辑\n  isNameEdit: false,\n  // 是否打开，group 专用\n  isOpen: false,\n  // 是否等比缩放\n  isSameRatio: false,\n  // 是否锁定\n  isLock: false,\n}\n\n// 默认矩形\nlet rect = {\n  ...base,\n  name: '矩形',\n}\nlet circle = {\n  ...base,\n  name: '圆形',\n  borderRadius: '100%',\n  width: 100,\n}\nlet group = {\n  ...base,\n  name: '群组'\n}\nlet tempGroup = {\n  ...base,\n  name: '临时群组',\n}\nlet text = {\n  ...base,\n  name: '文本',\n  border: null,\n  text: '双击编辑文本',\n  width: 72,\n  height: 17,\n  isAutoSize: true,\n  borderWidth: 0,\n}\nlet line = {\n  ...base,\n  name: '线条',\n  backgroundColor: color.gray,\n  borderWidth: 1,\n  height: 1,\n  isAngleLock: false,\n}\nexport {\n  rect,\n  circle,\n  text,\n  group,\n  tempGroup,\n  line,\n}","import * as rectConfig from '@/core/rect-config'\nimport jsx from 'vue-jsx'\nimport event from '@/core/event'\nlet {\n  span,\n  div\n} = jsx\nlet _renderRectNav = function () {\n  let me = this\n  let retTags = ['rect', 'circle', 'text', 'line'].map(type => {\n    return span({\n      'class_label': true,\n      on_mousedown (e) {\n        e.stopPropagation()\n        me.mouse.eventType = 'create'\n        me.mouse.createType = type\n        event.$emit('windowMouseDown', e)\n      },\n    }, rectConfig[type].name)\n  })\n  return div({\n    'class_proto-rect-tags': true,\n    'class_card': true,\n  },\n    div({\n      'class_card-header': true\n    }, \n      div({\n        'class_card-title': true,\n        'class_h6': true,\n      }, '组件')\n    ),\n    div({\n      'class_card-body': true,\n    },\n      ...retTags,\n    ),\n  )\n}\nexport {\n  _renderRectNav\n}","import jsx from 'vue-jsx'\nimport {\n  selectText,\n  percentPx,\n  isRightMouse,\n} from \"@/core/base\"\nimport event from '@/core/event'\nlet { div, span } = jsx\nlet _renderRect = function (rect) {\n  let me = this\n  let rectData = rect.data\n  let isCurrRect = rect.id === this.currRectId\n  let isHoverRect = rect.id === this.hoverRectId\n  isHoverRect = isHoverRect || (rect.id in this.selectedRects)\n  let isLock = rectData.isLock && !rectData.isOpen\n  let rectType = rect.type\n  let mouse = this.mouse\n  let mousedown = (e) => {\n    this._focusRect(rect, e)\n    e.stopPropagation()\n  }\n  // 容器\n  let jsxProps = {\n    ...this._getRectBaseJsxProps(rect),\n    'class_proto-rect': true,\n    'class_proto-rect-hover': isHoverRect && !isCurrRect,\n    'class_proto-rect-focus': isCurrRect,\n    'class_proto-rect-lock': isLock,\n    [`class_proto-${rectType}`]: true,\n    'attrs_id': rect.id,\n    'attrs_index': rect.index,\n    on_mousedown (e) {\n      if (me._checkIsTempGroup(rect)){\n        return\n      }\n      mouse.eventType = 'move'\n      if (rect.data.isEdit) {\n        mouse.eventType = ''\n      }\n      mousedown(e)\n      // 右键判断\n      if (isRightMouse(e)){\n        me._showContextmenu(e, 'rect')\n      }\n      else {\n        event.$emit('windowMouseDown', e)\n      }\n    },\n    on_mousemove () {\n      me._hoverRect(rect)\n    },\n    on_mouseout () {\n      me._hoverOffRect()\n    },\n  }\n  let children = []\n  if (!this._checkIsGroupLike(rect)){\n    jsxProps['on_dblclick'] = (e) => {\n      me._focusRect(rect, e)\n      mouse.ing = false\n    }\n    children = [this._renderRectInner(rect)]\n  }\n  if (isHoverRect && isLock){\n    children = [\n      ...children,\n      jsx.create('v-icon', {\n        'class_proto-rect-lock-icon': true,\n        props_name: 'lock',\n      })\n    ]\n  }\n  return div(jsxProps,  ...children)\n}\n// 普通矩形\nlet _renderRectInner = function (rect) {\n  let me = this\n  let isEdit = rect.data.isEdit\n  let data = rect.data\n  let isLine = rect.type === 'rect-line'\n  let jsxProps = {\n    'class_proto-rect-inner': true,\n  }\n  let children = []\n  if (isLine) {\n    jsxProps = {\n      ...jsxProps,\n      'style_border-top-width': data.borderWidth + 'px',\n      'style_border-top-style': data.borderStyle,\n      'style_border-top-color': data.borderColor,\n    }\n  }\n  else {\n    jsxProps = {\n      ...jsxProps,\n      'style_border-width': data.borderWidth + 'px',\n      'style_border-style': data.borderStyle,\n      'style_border-color': data.borderColor,\n      'style_background-color': data.backgroundColor,\n      'style_border-radius': percentPx(data.borderRadius),\n      'style_align-items': data.textAlignY,\n      'style_justify-content': data.textAlignX,\n      'style_overflow': 'hidden',\n    }\n    let textJsxProps = {\n      'class_proto-rect-inner-text': true,\n      'attrs_contenteditable': false,\n      'style_color': data.color,\n      'style_font-size': data.fontSize + 'px',\n      'style_font-family': data.fontFamily,\n    }\n    if (isEdit) {\n      textJsxProps = {\n        ...textJsxProps,\n        style_cursor: 'text',\n        ref: 'defaultText',\n        attrs_contenteditable: true,\n        style_transform: `rotate(-${data.angle}deg)`,\n        on_blur () {\n          me._hotkeyOn()\n          me._commandRectDataPropUpdate(rect, 'isEdit', false)\n          me._historyPush()\n        },\n        on_focus () {\n          me._hotkeyOff()\n          me.$refs.defaultText.innerHTML = data.text\n          selectText(me.$refs.defaultText)\n          me._updateRectTempData(rect)\n        },\n        on_input (e) {\n          let text = e.target.innerHTML\n          if (data.isAutoSize){\n            me._resizeText(rect, text)\n          }\n          me._commandRectDataPropUpdate(rect, 'text', text)\n          \n        }\n      }\n      setTimeout(() => {\n        if (this.$refs.defaultText){\n          this.$refs.defaultText.focus()\n        }\n      })\n    }\n    else {\n      textJsxProps = {\n        ...textJsxProps,\n        'domProps_innerHTML': data.text,\n      }\n    }\n    children = [span(textJsxProps)]\n  }\n  \n  return div(jsxProps, ...children)\n}\nlet _renderRects = function () {\n  if (!this.currPage) {\n    return null\n  }\n  let rects = []\n  this._getRectsByPageDeep().forEach(rect => {\n    if (!this._checkIsRectLike(rect)){\n      return\n    }\n    rects.push(\n      this._renderRect(rect)\n    )\n  })\n  return div({\n    'class_proto-canvas': true,\n  },\n    div({\n      'class_proto-zoom': true,\n      'style_transform': `scale(${this.scale})`,\n    },\n      ...rects,\n    )\n  )\n}\nexport {\n  _renderRects,\n  _renderRect,\n  _renderRectInner,\n}","import color from '@/core/color'\nimport vars from '@/core/design-vars'\nlet configContext = (context) => {\n  context.strokeStyle = color.gray\n  context.font = '20px SourceHanSansSC'\n}\nlet n = 10000\nlet n2 = vars.c * 2\nlet getMiddleData = function () {\n  let $middle = this.$refs.middle\n  let style = window.getComputedStyle($middle)\n  return {\n    dom: $middle,\n    scrollTop: $middle.scrollTop,\n    scrollLeft: $middle.scrollLeft,\n    width: parseInt(style.width),\n    height: parseInt(style.height),\n  }\n}\nlet _renderTopRule = function () {\n  let rule = this.topRule\n  let middleData = getMiddleData.call(this)\n  if (!rule) {\n    this.topRule = rule = document.createElement('canvas')\n    rule.className = 'proto-rule'\n    rule.style.top = vars.a + 'px'\n    rule.style.left = vars.b + vars.c + 'px'\n    middleData.dom.appendChild(rule)\n  }\n  rule.width = middleData.width * 2\n  rule.height = n2\n  rule.style.width = middleData.width + 'px'\n  rule.style.height = n2 / 2 + 'px'\n  let scale = this.scale\n  let context = rule.getContext('2d')\n  context.clearRect(0, 0, n, n2)\n  configContext(context)\n  context.beginPath()\n  let scrollLeft = middleData.scrollLeft\n  for (let i = 0; i < n; i += 10){\n    let isText = i % 100 === 0\n    let left = (i - scrollLeft) * 2\n    let text = i / scale\n    let start = (isText ? 0 : 10) * 2\n    context.moveTo(left, start)\n    context.lineTo(left, n2)\n    if (isText){\n      context.fillText(text, left + 2, 8 * 2)\n    }\n  }\n  context.moveTo(0, n2)\n  context.lineTo(rule.width, n2)\n  context.stroke()\n}\nlet _renderLeftRule = function () {\n  let middleData = getMiddleData.call(this)\n  let rule = this.leftRule\n  if (!rule) {\n    this.leftRule = rule = document.createElement('canvas')\n    rule.className = 'proto-rule'\n    rule.style.top = vars.a + vars.c + 'px'\n    rule.style.left = vars.b + 'px'\n    this.$refs.middle.appendChild(rule)\n  }\n  rule.width = n2\n  rule.height = middleData.height * 2\n  rule.style.width = n2 / 2 + 'px'\n  let scale = this.scale  \n  rule.style.height = middleData.height + 'px'\n  let context = rule.getContext('2d')\n  context.clearRect(0, 0, n2, n)\n  configContext(context)\n  context.beginPath()\n  let scrollTop = middleData.scrollTop\n  for (let i = 0; i < n; i += 10){\n    let isText = i % 100 === 0\n    let top = (i - scrollTop) * 2\n    let text = ((i / scale) + ' ').slice(0, 4)\n    let start = (isText ? 0 : 10) * 2\n    context.moveTo(start, top)\n    context.lineTo(n2, top)\n    if (isText){\n      context.save()\n      context.textAlign = \"center\"\n      context.textBaseline = \"middle\"\n      context.translate(10, top - 18)\n      context.rotate((-90 * Math.PI) / 180)\n      context.fillText(text, 6, 0);\n      context.restore()\n    }\n  }\n  context.moveTo(n2, 0)\n  context.lineTo(n2, rule.height)\n  context.stroke()\n  context.stroke()\n}\nlet _renderRule = function () {\n  _renderTopRule.call(this)\n  _renderLeftRule.call(this)\n}\nexport {\n  _renderRule,\n}\n","import jsx from 'vue-jsx'\nimport event from '@/core/event'\nimport {\n  isRightMouse,\n} from '@/core/base'\nlet { div, input } = jsx\nlet _renderRectListItem = function (rect) {\n  let me = this\n  let isHover = (rect.id === this.hoverRectId) || \n    (rect.id === this.currRectId) ||\n    (rect.id in this.selectedRects)\n  let paddingLeft = 16\n  let isNameEdit = rect.data.isNameEdit\n  let jsxProps = {\n    'class_proto-tree-item': true,\n  }\n  let innerJsxProps = {\n    'class_proto-tree-item-inner': true,\n    'class_proto-tree-item-hover': isHover,\n  }\n  if (rect.groupId){\n    innerJsxProps = {\n      ...innerJsxProps,\n      'style_padding-left': paddingLeft + 'px',\n    }\n  }\n  let children = []\n  if (isNameEdit){\n    children = [\n      input('.form-input input-sm', {\n        domProps_value: rect.name,\n        ref: 'rectItemInput',\n        key: 'rectItemInput',\n        on_focus () {\n          me.$refs.rectItemInput.select()\n        },\n        on_blur () {\n          me._commandRectDataPropUpdate(rect, 'isNameEdit', false)\n          me._historyPush()\n        },\n        on_change () {\n          me.$refs.rectItemInput.blur()\n        },\n        on_input (e) {\n          let value = e.target.value\n          me._commandRectPropUpdate(rect, 'name', value)\n        },\n        on_mousedown (e) {\n          e.stopPropagation()\n        }\n      })\n    ]\n    setTimeout (() => {\n      if (me.$refs.rectItemInput){\n        me.$refs.rectItemInput.focus()\n      }\n    })\n  }\n  else {\n    jsxProps = {\n      ...jsxProps,\n      'attrs_index': rect.index,\n      'on_mouseover' () {\n        me._updateHoverRect(rect)\n      },\n      'on_mouseout' () {\n        me._updateHoverRect()\n      },\n      'on_mousedown' (e) {\n        let group = me._getGroupByRect(rect)\n        if (group){\n          me._commandRectDataPropUpdate(group, 'isOpen', true)\n        }\n        me._focusRect(rect, {shiftKey: false})\n        e.stopPropagation()\n        event.$emit('windowMouseDown', e)\n        // 右键判断\n        if (isRightMouse(e)){\n          me._showContextmenu(e, 'rect-item')\n        }\n      },\n    }\n    children = [\n      div(innerJsxProps, rect.name)\n    ]\n  }\n\n  return div(jsxProps, ...children)\n}\nlet _renderRectList = function () {\n  if (!this.currPage) {\n    return null\n  }\n  let vdoms = []\n  let temp = []\n  this._getRectsByPageDeep().reverse().forEach(rect => {\n    if (this._checkIsTempGroup(rect)){\n      return\n    }\n    let vdom = _renderRectListItem.call(this, rect)\n    if (rect.groupId === ''){\n      vdoms = [...vdoms, vdom, ...temp]\n      temp = []\n    }\n    else {\n      temp.push(vdom)\n    }\n  })\n  vdoms = [...vdoms, ...temp]\n  return div({\n    'class_proto-rect-list': true,\n    'class_proto-tree': true,\n    'class_card': true\n  },\n    div({\n      'class_card-header': true\n    },\n      div({\n        'class_card-title': true,\n        'class_h6': true,\n      }, '元素')\n    ),\n    div({\n      'class_card-body': true,\n    },\n      ...vdoms,\n    )\n  )\n}\nexport {\n  _renderRectList,\n}","import jsx from 'vue-jsx'\nimport {\n  isRightMouse,\n} from '@/core/base'\nimport event from '@/core/event'\nlet { div, input, span } = jsx\nlet vIcon = jsx.bind('v-icon')\nlet _renderPageListItem = function (\n  page, \n  z\n) {\n  let me = this\n  let pageData = page.data\n  let currPage = this.currPage\n  let currPageIsParent = this._linkedListCheckIsParent(currPage, page)\n  let isHover = currPage === page\n  let paddingLeft = 16\n  let paddingLeftAll = paddingLeft * z\n  let isNameEdit = pageData.isNameEdit\n  let isDrag = this.mouse.ing && \n    (this.mouse.eventType === 'movePage') && \n    !isHover && \n    !currPageIsParent\n  let jsxProps = {\n    'class_proto-tree-item': true,\n    'class_proto-tree-item-drag': isDrag,\n  }\n  let innerJsxProps = {\n    'class_proto-tree-item-inner': true,\n    'class_proto-tree-item-hover': isHover,\n    'style_padding-left': paddingLeftAll + 'px',\n  }\n  let children = []\n  if (isNameEdit){\n    children = [\n      div(innerJsxProps,\n        input('.form-input input-sm', {\n          domProps_value: page.name,\n          ref: 'pageInput',\n          key: 'pageInput',\n          on_focus () {\n            me.$refs.pageInput.select()\n          },\n          on_blur () {\n            me._commandObjectDataPropUpdate(page, 'isNameEdit', false)\n            me._historyPush()\n          },\n          on_change () {\n            me.$refs.pageInput.blur()\n          },\n          on_input (e) {\n            let value = e.target.value\n            me._commandObjectPropUpdate(page, 'name', value)\n          },\n          on_mousedown (e) {\n            e.stopPropagation()\n          }\n        })\n      ),\n    ]\n    setTimeout (() => {\n      if (me.$refs.pageInput){\n        me.$refs.pageInput.focus()\n      }\n    })\n  }\n  else {\n    jsxProps = {\n      ...jsxProps,\n      'on_mousedown' (e) {\n        e.stopPropagation()\n        me._updateCurrPage(page)\n        if (isRightMouse(e)) {\n          me._showContextmenu(e, 'page')\n        }\n        else {\n          me.mouse.ing = true\n          me.mouse.eventType = 'movePage'\n          event.$emit('windowMouseDown', e)\n        }\n      },\n    }\n    innerJsxProps = {\n      ...innerJsxProps,\n      'class_proto-tree-item-emit-hover': !this.mouse.ing,\n    }\n    if (isDrag) {\n      let f = () => {\n        me._linkedListRemove(me.objects[currPage.parentId], currPage, 'pages')\n      }\n      let jsxProps = {\n        'style_left': paddingLeftAll + 'px',\n        'style_width': `calc(100% - ${paddingLeftAll}px)`,\n      }\n      children = [\n        div('.proto-tree-item-drag-handler proto-tree-item-drag-handler-bottom', {\n          ...jsxProps,\n          'on_mouseup' () {\n            f()\n            me._commandObjectPropUpdate(currPage, 'parentId', page.parentId)\n            me._linkedListInsertAfter(me.objects[page.parentId], page, currPage, 'pages')\n          }\n        }),\n      ]\n      if (!page.prevId){\n        children = [\n          ...children,\n          div('.proto-tree-item-drag-handler proto-tree-item-drag-handler-top', {\n            ...jsxProps,\n            'on_mouseup' () {\n              f()\n              me._commandObjectPropUpdate(currPage, 'parentId', page.parentId)\n              me._linkedListInsertBefore(me.objects[page.parentId],page, currPage, 'pages')\n            }\n          }),\n        ]\n      }\n      innerJsxProps = {\n        ...innerJsxProps,\n        'on_mouseup' () {\n          f()\n          me._commandObjectPropUpdate(currPage, 'parentId', page.parentId)\n          me._linkedListAppend(page, currPage, 'pages')\n          me._commandObjectDataPropUpdate(page, 'isExpand', true)\n        }\n      }\n    }\n    children = [\n      ...children,\n      div(innerJsxProps, \n        page.pages.headId ? vIcon({\n          props_name: pageData.isExpand ? 'caret-down' : 'caret-up',\n          on_mousedown () {\n            // e.stopPropagation()\n            me._commandObjectDataPropUpdate(page, 'isExpand', !pageData.isExpand)\n            me._historyPush()\n          }\n        }) : null,\n        // vIcon('.fa-file', {props_name: 'file'}),\n        span(page.name),\n      )\n    ]\n  }\n  return div(jsxProps, ...children)\n}\nlet _renderPageList = function () {\n  if (!this.currPage) {\n    return null\n  }\n  let me = this\n  let children = []\n  let isDrag = this.mouse.ing && \n    (this.mouse.eventType === 'movePage')\n  let timer\n  this._linkedListWalk(this.objects[this.currProjectId], 'pages', (page, z) => {\n    children.push(_renderPageListItem.call(this, page, z))\n  })\n  if (isDrag) { \n    children = [\n      ...children,\n      div('.proto-tree-scroll-handler proto-tree-scroll-handler-top', {\n        on_mouseover () {\n          timer = setInterval(() => {\n            me.$refs.pageList.scrollTop --\n          })\n        },\n        on_mouseout () {\n          clearInterval(timer)\n        },\n      }),\n      div('.proto-tree-scroll-handler proto-tree-scroll-handler-bottom', {\n        on_mouseover () {\n          timer = setInterval(() => {\n            me.$refs.pageList.scrollTop ++\n          })\n        },\n        on_mouseout () {\n          clearInterval(timer)\n        },\n      }),\n    ]\n  }\n  return div('.proto-page-list proto-tree card',\n    div('.card-header',\n      div('.card-title h6', '页面')\n    ),\n    div('.card-body proto-tree-body', {\n      ref: 'pageList'\n    },\n      ...children,\n    )\n  )\n}\nexport {\n  _renderPageList,\n}","import jsx from 'vue-jsx'\nlet { div } = jsx\nlet _renderCircle = function () {\n  let {left, top, width, height} = this._getCircleSize()\n  return div('.proto-circle', {\n    style_left: left + 'px',\n    style_top: top + 'px',\n    style_width: width + 'px',\n    style_height: height + 'px',\n  })\n}\nexport {\n  _renderCircle,\n}","import jsx from 'vue-jsx'\nimport {\n  _renderSetting\n} from './render/setting'\nimport {\n  _renderHandler\n} from './render/handler'\nimport {\n  _renderGuideShow\n} from './render/guide-show'\nimport {\n  _renderTools\n} from './render/tools'\nimport {\n  _renderRectNav\n} from './render/rect-nav'\nimport {\n  _renderRects,\n  _renderRect,\n  _renderRectInner,\n} from './render/rect'\nimport {\n  _renderRule,\n} from './render/rule'\nimport {\n  _renderRectList,\n} from './render/rect-list'\nimport {\n  _renderPageList,\n} from './render/page-list'\nimport {\n  _renderCircle\n} from './render/circle'\nimport vars from '@/core/design-vars'\nimport { isRightMouse } from '@/core/base'\nimport event from '@/core/event'\nlet { div } = jsx\nexport default {\n  data () {\n    return {\n      topRule: null,\n      leftRule: null,\n    }\n  },\n  methods: {\n    _renderSetting,\n    _renderHandler,\n    _renderGuideShow,\n    _renderTools,\n    _renderRects,\n    _renderRect,\n    _renderRectInner,\n    _renderRectNav,\n    _renderRule,\n    _renderRectList,\n    _renderPageList,\n    _renderCircle,\n    _renderLoading () {\n      return div('loading')\n    },\n    _renderMain (h) {\n      jsx.h = h\n      let me = this\n      let isCircle = this.mouse.ing && (this.mouse.eventType === 'circle')\n      return div({\n        class_proto: true,\n      },\n        div({\n          'class_proto-top': true,\n          'style_height': vars.a + 'px',\n          on_mousedown (e) {\n            e.stopPropagation()\n          }\n        },\n          this._renderTools()\n        ),\n        div({\n          'class_proto-left': true,\n          'style_top': vars.a + 'px',\n          'style_width': vars.b + 'px',\n          'style_height': `calc(100% - ${vars.a}px)`,\n        },\n          div('.proto-height-half', this._renderPageList()),\n          div('.proto-height-half', this._renderRectNav()),\n        ),\n        div({\n          'class_proto-middle': true,\n          'style_top': vars.a + vars.c + 'px',\n          'style_left': vars.b + vars.c + 'px',\n          'style_right': vars.d + 'px',\n          'style_height': `calc(100% - ${vars.a}px - ${vars.c}px)`,\n          ref: 'middle',\n          on_mousedown (e) {\n            e.stopPropagation()\n            me._blurRect()\n            if (isRightMouse(e)) {\n              me._showContextmenu(e, 'canvas')\n            }\n            else {\n              me.mouse.eventType = 'circle'\n              event.$emit('windowMouseDown', e)\n            }\n          }\n        },\n          this._renderRects(),\n          this._renderGuideShow(),\n          this._renderHandler(),\n          isCircle ? this._renderCircle() : null,\n        ),\n        div({\n          'class_proto-right': true,\n          'style_top': vars.a + 'px',\n          'style_width': vars.d + 'px',\n          'style_height': `calc(100% - ${vars.a}px)`,\n        },\n          div('.proto-height-half', this._renderSetting(h)),\n          div('.proto-height-half',this._renderRectList()),\n        ),\n      )\n    },\n  },\n  mounted () {\n    this._renderRule()\n  },\n}","import {\n  getUuid,\n  getGroupSize,\n  getRectInfo,\n  middleLeft,\n  middleTop,\n  tNumber,\n  checkRectOverlap2,\n} from '@/core/base'\nimport * as rectConfig from '@/core/rect-config'\nexport default {\n  data () {\n    return {\n      currProjectId: '',\n      currPageId: '',\n      currRectId: '',\n      hoverRectId: '',\n      tempGroupId: '',\n      selectedRects: {},\n      objects: {},\n      handler: {\n        // 用来闪烁\n        show: true,\n        timer: null,\n      },\n      rectConfig: {\n        ...rectConfig,\n      },\n      clipboard: {\n        count: 0,\n        data: [],\n      },\n      renderHook: 1,\n    }\n  },\n  computed: {\n    scale: {\n      get () {\n        this.renderHook\n        if (!this.currProject) {\n          return 1\n        }\n        return parseFloat(this.currProject.data.scale)\n      },\n      set (value) {\n        this._commandObjectDataPropUpdate(this.currProject, 'scale', value)\n      }\n    },\n    currProject: {\n      get () {\n        return this.objects[this.currProjectId]\n      }\n    },\n    currPage: {\n      get () {\n        return this.objects[this.currPageId]\n      }\n    },\n    currRect: {\n      get () {\n        return this.objects[this.currRectId]\n      }\n    },\n  },\n  methods: {\n    _parseLongProp (\n      prop, \n      data = this.$data\n    ) {\n      let me = this\n      let props = prop.split('.')\n      let object = data\n      let lastProp = props.slice(-1)[0]\n      props.slice(0, -1).forEach(p => {\n        object = object[p]\n      })\n      return {\n        get () {\n          return object[lastProp]\n        },\n        set (value) {\n          let isNull = (value === null) || (value === undefined) \n          if (isNull){\n            delete object[lastProp]\n          }\n          else {\n            object[lastProp] = value\n            me.renderHook ++\n          }\n        }\n      }\n    },\n    _safeObject (rect) {\n      if (typeof rect === 'string') {\n        rect = this.objects[rect]\n      }\n      return rect\n    },\n    _createProjectBase () {\n      return {\n        id: getUuid(),\n        name: '项目',\n        type: 'project',\n        count: 1,\n        pages: {\n          headId: '',\n          tailId: '',\n        },\n        data: {\n          scale: 1,\n        },\n        isDelete: false,\n      }\n    },\n    _createProject () {\n      let project = this._createProjectBase()\n      this._commandProjectAdd(project)\n      return project\n    },\n    _createPageBase (parentId) {\n      return {\n        id: getUuid(),\n        name: '页面',\n        type: 'page',\n        count: 1,\n        parentId,\n        projectId: parentId,\n        prevId: '',\n        nextId: '',\n        pages: {\n          headId: '',\n          tailId: '',\n        },\n        // 记录 rects\n        rects: {\n          headId: '',\n          tailId: '',\n        },\n        data: {\n          isNameEdit: false,\n          isExpand: true,\n        },\n        isDelete: false,\n      }\n    },\n    _createPage (parentId = this.currProjectId) {\n      let page = this._createPageBase(parentId)\n      page = {\n        ...page,\n        name: '页面' + this.currProject.count,\n        projectId: this.currProjectId,\n      }\n      this._commandObjectPropUpdate(\n        this.currProject, \n        'count', \n        this.currProject.count + 1\n      )\n      this._commandPageAdd(page)\n      this._linkedListAppend(this.objects[parentId], page, 'pages')\n      return page\n    },\n    _removePage () {\n      let currPage = this.currPage\n      let f = (page) => {\n        this._commandObjectDelete(page.id)\n      }\n      this._linkedListRemove(this.objects[currPage.parentId], currPage, 'pages')\n      this._linkedListWalk(currPage, 'pages', f)\n      f(currPage)\n      \n      let currPageId = this.objects[this.currProjectId].pages.headId\n      this._updateCurrPage(this.objects[currPageId])\n    },\n    _createRect (type = 'rect') {\n      let data = this.rectConfig[type]\n      if (!data) {\n        return\n      }\n      type = 'rect-' + type\n      return this._createRectByConfig({type, data})\n    },\n    _createRectByConfig (config) {\n      let data = config.data\n      // 类型是数组，说明要创建一个 group 组件\n      // 并且数组第一个是 group 信息\n      if (Array.isArray(data)){\n        let group = this._createRectBase(data[0].type, data[0].data)\n        let rects = data.slice(1).map(o => this._createRectBase(o.type, o.data))\n        this._bindGroup(group, rects)\n        return group\n      }\n      else {\n        return this._createRectBase(config.type, data)\n      }\n    },\n    _createRectBase (\n      type = 'rect', \n      data\n    ) {\n      data = {...data}\n      let index = this.currPage.count\n      this._commandObjectPropUpdate(\n        this.currPage,\n        'count',\n        this.currPage.count + 1\n      ) \n      let rect = {\n        id: getUuid(),\n        parentId: this.currPage.id,\n        pageId: this.currPage.id,\n        groupId: '',\n        tempGroupId: '',\n        data,\n        // 临时数据，用来中间态计算\n        tempData: null,\n        // 类型\n        type,\n        name: data.name + index,\n        prevId: '',\n        nextId: '',\n        tempIndex: index,\n        isDelete: false,\n      }\n      if (this._checkIsGroup(rect)){\n        rect = {\n          ...rect,\n          rects: {\n            headId: '',\n            tailId: '',\n          },\n        }\n      }\n      this._commandRectAdd(rect)\n      if (!this._checkIsTempGroup(rect)){\n        this._linkedListAppend(this.currPage, rect)\n      }\n      return rect\n    },\n    _cloneRectDeep (rect) {\n      rect = this._safeObject(rect)\n      let f = (rect2) => {\n        return {\n          type: rect2.type,\n          data: {...rect2.data},\n        }\n      }\n      if (this._checkIsGroup(rect)){\n        let rects = [f(rect)]\n        this._getRectsByGroup(rect).forEach(rect2 => {\n          rects.push(f(rect2))\n        })\n        return {\n          type: 'rect-group',\n          data: rects,\n        }\n      }\n      else {\n        return f(rect)\n      }\n    },\n    _getObjectsByParentId (\n      groupId, \n      prop = 'groupId'\n    ) {\n      let objects = []\n      for (let key in this.objects){\n        let object = this.objects[key]\n        if (!object.isDelete && (object[prop] === groupId) ){\n          objects.push(object)\n        }\n      }\n      return objects\n    },\n    // 获得当前 page 下的所有 rects\n    _getRectsByPageDeep (pageId = this.currPage.id) {\n      let rects = this._linkedListGetObjects(this.objects[pageId])\n      if (this.tempGroupId){\n        rects.push(this.objects[this.tempGroupId])\n      }\n      return rects\n    },\n    _getRectsByGroup (group) {\n      group = this._safeObject(group)\n      let rects = []\n      if (this._checkIsTempGroup(group)){\n        rects = this._getObjectsByParentId(group.id, 'tempGroupId')\n      }\n      else if (this._checkIsGroup(group)){\n        rects = this._getObjectsByParentId(group.id)\n      }\n      else {\n        rects = [group]\n      }\n      return rects\n    },\n    _getGroupByRect (rect) {\n      rect = this._safeObject(rect)\n      let group = this.objects[rect.groupId]\n      return (group && !group.isDelete) ? group : null\n    },\n    _getTempGroupByRect (rect) {\n      rect = this._safeObject(rect)\n      if (rect.tempGroupId){\n        return this.objects[rect.tempGroupId]\n      }\n      let group = this._getGroupByRect(rect)\n      if (group && group.tempGroupId){\n        return this.objects[group.tempGroupId]\n      }\n      return null\n    },\n    // 绑定父子关系\n    _bindGroup (\n      group, \n      rects\n    ) {\n      group = this._safeObject(group)\n      // 先求出 rects 中索引最大的，把 group 插入到后面\n      let sortRects = new Set()\n      // 记录一下 groups\n      let groups = new Set()\n      rects.forEach(rect => {\n        rect = this._safeObject(rect)\n        if (this._checkIsTempGroup(rect)){\n          return\n        }\n        if (this._checkIsGroup(rect)){\n          sortRects.add(rect)\n          return\n        }\n        if (rect.groupId){\n          let _group = this.objects[rect.groupId]\n          groups.add(_group)\n          sortRects.add(_group)\n          return\n        }\n        sortRects.add(rect)\n      })\n      let topRect = Array.from(sortRects).sort(\n        (a, b) => b.tempIndex - a.tempIndex\n      )[0]\n      let currPage = this.currPage\n      this._linkedListRemove(currPage, group)\n      this._linkedListInsertAfter(currPage, topRect, group)\n\n      // 处理 rects 和 group 的关系\n      rects.sort(\n        (a, b) => a.tempIndex - b.tempIndex\n      ).forEach(rect => {\n        rect = this._safeObject(rect)\n        if (this._checkIsTempGroup(rect)){\n          return\n        }\n        if (this._checkIsGroup(rect)){\n          this._removeRectById(rect.id)\n          return\n        }\n        if (rect.groupId){\n          if (this._getGroupByRect(rect)){\n            this._linkedListRemove(this.objects[rect.groupId], rect)\n          }\n        }\n        else  {\n          this._linkedListRemove(currPage, rect)\n        }\n        this._linkedListAppend(group, rect)\n        this._commandRectPropUpdate(rect, 'tempGroupId', '')\n        this._commandRectPropUpdate(rect, 'groupId', group.id)\n        this._commandRectPropUpdate(rect, 'parentId', group.id)\n      })\n      // 处理一下 groups 的情况\n      Array.from(groups).forEach(group => {\n        if (!(group.id in this.objects) || this.objects[group.id].isDelete){\n          return\n        }\n        let children = this._getRectsByGroup(group)\n        if (children.length <= 1){\n          this._unbindGroup(group)\n        }\n        else {\n          this._commandRectDataPropUpdate(group, 'isOpen', false)\n          this._updateGroupSize(group)\n        }\n      })\n      this._updateGroupSize(group)\n    },\n    _unbindGroup (group) {\n      group = this._safeObject(group)\n      this._getRectsByGroup(group).forEach(rect => {\n        this._commandRectPropUpdate(rect, 'groupId', '')\n        this._commandRectPropUpdate(rect, 'parentId', this.currPageId)\n        this._linkedListRemove(group, rect)\n        this._linkedListInsertBefore(this.currPage, group, rect)\n      })\n      this._removeRectById(group.id)\n    },\n    _bindTempGroup (rects) {\n      if (!this.tempGroupId){\n        this._commandPropUpdate('tempGroupId', this._createRect('tempGroup').id)\n      }\n      let group = this.objects[this.tempGroupId]\n      rects.forEach(rect => {\n        rect = this._safeObject(rect)\n        this._commandRectPropUpdate(rect, 'tempGroupId', group.id)\n      })\n      this._updateRectTempData(group)\n      this._updateGroupSize(group)\n      return group\n    },\n    _unbindTempGroup () {\n      if (!this.tempGroupId){\n        return\n      }\n      this._getRectsByGroup(this.tempGroupId).forEach(rect => {\n        this._commandRectPropUpdate(rect, 'tempGroupId', '')\n        let group = this._getGroupByRect(rect)\n        if (group) {\n          this._commandRectDataPropUpdate(group, 'isOpen', false)\n        }\n      })\n      this._commandRectDelete(this.tempGroupId)\n      this._commandPropUpdate('tempGroupId', '')\n    },\n    _unbindTempGroupSome (rects) {\n      if (!this.tempGroupId){\n        return\n      }\n      rects.forEach(rect => {\n        this._commandRectPropUpdate(rect, 'tempGroupId', '')\n      })\n      let children = this._getRectsByGroup(this.currRectId)\n      if (children.length <= 1) {\n        this._unbindTempGroup()\n      }\n      // 否则重置 group  size\n      else {\n        this._updateGroupSize(this.currRectId)\n      }\n    },\n    // 通过 id 从 rects 中找到 object\n    _getRectById (id) {\n      return this.objects[id]\n    },\n    _getTempGroup () {\n      return this.objects[this.tempGroupId]\n    },\n    _removeRectById (id) {\n      let rect = this.objects[id]\n      let group = this._getGroupByRect(id)\n      if (!this._checkIsTempGroup(rect)){\n        if (rect.groupId){\n          if (group){\n            this._linkedListRemove(group, this.objects[id])\n          }\n        }\n        else {\n          this._linkedListRemove(this.currPage, this.objects[id])\n        }\n      }\n      this._commandRectDelete(id)\n      if (group){\n        let children = this._getRectsByGroup(group)\n        if (children.length === 1){\n          this._unbindGroup(group)\n        }\n        else {\n          this._updateGroupSize(group)\n        }\n      }\n    },\n    // 更新 group size\n    _updateGroupSize (group) {\n      group = this._safeObject(group)\n      var size = this._getGroupSize(group)\n      this._updateRectData(group, size, false)\n      return size\n    },\n    _getGroupSize (group) {\n      group = this._safeObject(group)\n      let rects = this._getRectsByGroup(group)\n      return getGroupSize(rects, group.data.angle)\n    },\n    _checkIsPage (object) {\n      return object.type === 'page'\n    },\n    _checkIsRectLike (rect) {\n      return rect.type.indexOf('rect-') === 0\n    },\n    _checkIsGroupLike (rect) {\n      return rect.type === 'rect-group' || rect.type === 'rect-tempGroup'\n    },\n    _checkIsTempGroup (rect) {\n      return rect.type === 'rect-tempGroup'\n    },\n    _checkIsGroup (rect) {\n      return rect.type === 'rect-group'\n    },\n    _updateAllRectsTempData () {\n      this._getRectsByPageDeep().forEach(rect => {\n        rect.tempData = getRectInfo(rect.data)\n      })\n    },\n    _updateRectTempData (rect) {\n      rect = this._safeObject(rect)\n      this._getRectsByRectDeep(rect).forEach(rect2 => {\n        rect2.tempData = getRectInfo(rect2.data)\n      })\n    },\n    _getRectsByRectDeep (rect) {\n      if (!this._checkIsGroupLike(rect)){\n        return [rect]\n      }\n      if (this._checkIsGroup(rect)){\n        return [rect, ...this._getRectsByGroup(rect)]\n      }\n      if (this._checkIsTempGroup(rect)){\n        let rects = [rect]\n        this._getRectsByGroup(rect).forEach(rect2 => {\n          rects = [...rects, rect2]\n          if (this._checkIsGroup(rect2)){\n            rects = [...rects,...this._getRectsByGroup(rect2)]\n          }\n        })\n        return rects\n      }\n    },\n    _updateRectData (\n      rect, \n      data, \n      isSyncParent = true\n    ) {\n      // 如果是 line，那么更新 height 时候同步更新 borderWidth\n      // 并且最小值为 1\n      let isLine = rect.type === 'rect-line'\n      if (isLine && ('height' in data)){\n        let height = Math.max(data.height, 1)\n        data['borderWidth'] = data['height'] = height\n      }\n      for (let k in data){\n        let v = data[k]\n        if (typeof v === 'number'){\n          v = tNumber(v)\n        }\n        this._commandRectDataPropUpdate(rect, k, v)\n      }\n\n      if (isSyncParent){\n        let group = this._getGroupByRect(rect)\n        if (group){\n          this._updateGroupSize(group)\n        }\n        let tempGroup = this._getTempGroupByRect(rect)\n        if (tempGroup){\n          this._updateGroupSize(tempGroup)\n        }\n      }\n    },\n    _updateGroupState (\n      group, \n      f, \n      isRotate = false\n    ) {\n      let groupIds = []\n      this._getRectsByRectDeep(group).forEach(rect => {\n        let id = rect.id\n        if (this._checkIsGroup(rect)){\n          groupIds.push(id)\n        }\n        else {\n          // 如果有 group，也加入\n          if (rect.groupId){\n            groupIds.push(rect.groupId)\n          }\n          f(id)\n        }\n      })\n      groupIds.forEach(groupId => {\n        // 如果是旋转，那么还是要执行以下\n        if (isRotate) {\n          f(groupId)\n        }\n        // 不是旋转就得同步\n        else {\n          this._updateGroupSize(this._getRectById(groupId))\n        }\n      })\n    },\n    _addSelectedRect (rect) {\n      if (this._checkIsTempGroup(rect)) {\n        return\n      }\n      let prop = 'selectedRects.' + rect.id\n      this._commandPropUpdate(prop, 1)\n    },\n    _removeSelectedRect (rect) {\n      let prop = 'selectedRects.' + rect.id\n      this._commandPropUpdate(prop, null)\n      this._unbindTempGroupSome([rect])\n    },\n    _clearSelectedRects () {\n      this._commandPropUpdate('selectedRects', {})\n      this._unbindTempGroup()\n    },\n    _updateCurrRectBySelected () {\n      let unLockRects = this._getUnLockRectsBySelected()\n      let count = unLockRects.length\n      if (count <= 1) {\n        this._unbindTempGroup()\n        this._updateCurrRect(this.objects[unLockRects[0]])\n      }\n      else {\n        let tempGroup = this._bindTempGroup(unLockRects)\n        this._updateCurrRect(tempGroup)\n      }\n      this._updateAllRectsTempData()\n      this._updateGuide()\n      this.mouse.e = {}\n    },\n    _getLockRectsBySelected () {\n      return Object.keys(this.selectedRects).filter(rectId => {\n        let rect = this.objects[rectId]\n        return rect && \n          !rect.data.isDelete && \n          this.objects[rectId].data.isLock\n      })\n    },\n    _getUnLockRectsBySelected () {\n      return Object.keys(this.selectedRects).filter(rectId => {\n        let rect = this.objects[rectId]\n        return rect && \n          !rect.data.isDelete && \n          !this.objects[rectId].data.isLock\n      })\n    },\n    _getSelectedRects () {\n      return Object.keys(this.selectedRects)\n    },\n    _focusRect (\n      rect, \n      e = {shiftKey: true}, \n      isRest = true\n    ) {\n      rect = this._safeObject(rect)\n      let isDblclick = e.type === 'dblclick'\n      let isShiftkey = e.shiftKey\n      let group = this._getGroupByRect(rect)\n      let tempGroup = this._getTempGroupByRect(rect)\n      let currRect = this.objects[this.currRectId]\n      let mouse = this.mouse\n      mouse.e = e\n      // 此方法处理 dblclick，shift，group，tempGroup 交杂的情况\n      let f = () => {\n        if ((rect === currRect) && !isShiftkey){\n          if (isDblclick){\n            this._commandRectDataPropUpdate(rect, 'isEdit', true)\n          }\n          return\n        }\n        if (isShiftkey && isDblclick){\n          return\n        }\n        if (isDblclick){\n          this._blurRect()\n          let isGroupOpen = group.data.isOpen\n          if (group && !isGroupOpen){\n            this._commandRectDataPropUpdate(group, 'isOpen', true)\n          }\n          if (!group || (group && isGroupOpen)){\n            this._commandRectDataPropUpdate(rect, 'isEdit', true)\n          }\n          this._addSelectedRect(rect)\n          return\n        }\n        if (!isShiftkey){\n          if (!group && !tempGroup){\n            this._blurRect()\n            this._addSelectedRect(rect)\n            if (this._checkIsGroup(rect)){\n              this._commandRectDataPropUpdate(rect, 'isOpen', false)\n            }\n            return\n          }\n          if (tempGroup){\n            this._addSelectedRect(tempGroup)\n            return\n          }\n          if (group){\n            let groupIsOpen = group.data.isOpen\n            this._blurRect()\n            if (!groupIsOpen){\n              this._addSelectedRect(group)\n            }\n            else {\n              this._addSelectedRect(rect)\n              this._commandRectDataPropUpdate(group, 'isOpen', true)\n            }\n          }\n          return\n        }\n        if (isShiftkey){\n          if (this._checkIsGroup(rect) && rect.data.isOpen){\n            return\n          }\n          if (group && !group.data.isOpen){\n            rect = group\n          }\n          if (rect.id in this.selectedRects){\n            this._removeSelectedRect(rect)\n          }\n          else  {\n            this._addSelectedRect(rect)\n          }\n        }\n      }\n      f()\n      if (isRest) {\n        this._updateCurrRectBySelected()\n      }\n    },\n    _blurRect (closeGroup = true) {\n      this._commandPropUpdate('selectedRects', {})\n      this._hoverOffRect()\n      let rect = this.objects[this.currRectId]\n      if (!rect) {\n        return\n      }\n      this._commandPropUpdate('currRectId', '')\n      if (this._checkIsTempGroup(rect)){\n        this._unbindTempGroup(rect)\n      }\n      else {\n        this._commandRectDataPropUpdate(rect, 'isEdit', false)\n      }\n      if (closeGroup){\n        // 如果 rect 父亲，则关闭父亲\n        let group = this._getGroupByRect(rect)\n        if (group){\n          this._commandRectDataPropUpdate(group, 'isOpen', false)\n        }\n      }\n    },\n    _hoverRect (rect) {\n      rect = this._safeObject(rect)\n      if (this.mouse.ing){\n        return\n      }\n      let target = rect\n      let group = this._getGroupByRect(rect)\n      if (group && !group.data.isOpen){\n        target = group\n      }\n      if (this._checkIsGroup(rect) && rect.data.isOpen){\n        target = null\n      }\n      this._commandPropUpdate('hoverRectId', target ? target.id : '')\n    },\n    _hoverOffRect () {\n      this._commandPropUpdate('hoverRectId', '')\n    },\n    _getMousePoint (e) {\n      let $middle = document.querySelector('.proto-middle')\n      return {\n        left: e.clientX + $middle.scrollLeft - middleLeft,\n        top: e.clientY + $middle.scrollTop - middleTop,\n      }\n    },\n    _getRectBaseJsxProps (\n      rect, \n      scale = 1\n    ) {\n      rect = this._safeObject(rect)\n      let data = rect.data\n      let opacity = data.opacity / 100\n      if (rect.groupId) {\n        let parentOpacity = this.objects[rect.groupId].data.opacity / 100\n        opacity *= parentOpacity\n      }\n      opacity = tNumber(opacity, 2)\n      return {\n        style_left: tNumber(data.left * scale, 0) + 'px',\n        style_top: tNumber(data.top * scale, 0) + 'px',\n        style_width: tNumber(data.width * scale, 0) + 'px',\n        style_height: tNumber(data.height * scale, 0) + 'px',\n        'style_z-index': data.zIndex,\n        style_transform: `rotate(${data.angle}deg)`,\n        style_opacity: opacity,\n      }\n    },\n    _updateCurrPage (page) {\n      page = this._safeObject(page)\n      this._commandPropUpdate('currPageId', page.id)\n      this._commandObjectPropUpdate(this.currProject, 'currPageId', page.id)\n      this._updateCurrRect()\n    },\n    _updateCurrRect (rect) {\n      rect = this._safeObject(rect)\n      this._commandPropUpdate('currRectId', rect ? rect.id : '')\n      if (rect && rect.groupId) {\n        this._commandRectDataPropUpdate(rect.groupId, 'isOpen', true)\n      }\n    },\n    _updateHoverRect (rect) {\n      rect = this._safeObject(rect)\n      this._commandPropUpdate('hoverRectId', rect ? rect.id : '')\n    },\n    _flashHandler () {\n      this._commandPropUpdate('handler.show', false)\n      clearTimeout(this.handler.timer)\n      this.handler.timer = setTimeout(() => {\n        this._commandPropUpdate('handler.show', true)\n      }, 1000)\n    },\n    _getCircleSize () {\n      let mouse = this.mouse\n      let left = Math.min(mouse.startLeft, mouse.currLeft) \n      let top = Math.min(mouse.startTop, mouse.currTop) \n      let width = Math.abs(mouse.currLeft - mouse.startLeft)\n      let height = Math.abs(mouse.currTop - mouse.startTop)\n      return {\n        left,\n        top, \n        width,\n        height,\n        right: left + width,\n        bottom: top + height,\n        angle: 0,\n      }\n    },\n    _walkCurrPageRects (\n      f, \n      isDeep = false\n    ) {\n      this._linkedListWalk(this.currPage, 'rects', f, isDeep)\n    },\n    _focusRectWhenCircle () {\n      if (!this.currPage) {\n        return\n      }\n      let circle = this._getCircleSize()\n      circle = getRectInfo({\n        ...circle,\n        angle: 0,\n      })\n      this._walkCurrPageRects((rect => {\n        if (checkRectOverlap2(getRectInfo(rect.data, this.scale), circle)) {\n          this._focusRect(rect, {shiftKey: true}, false)\n        }\n      }))\n      this._updateCurrRectBySelected()\n    },\n    _showContextmenu (\n      e, \n      type\n    ) {\n      let height = 0\n      let actionTypes = []\n      let actions = []\n      if (type === 'rect-item') {\n        height = 310\n        actionTypes = [\n          'rect-重命名',\n          'rect-剪切',\n          'rect-复制',\n          'rect-删除',\n          null,\n          'rect-锁定',\n          'rect-解锁',\n          // 'rect-隐藏',\n          null,\n          'rect-置顶',\n          'rect-置底',\n        ]\n      }\n      else if (type === 'rect') {\n        height = 340\n        actionTypes = [\n          'rect-剪切',\n          'rect-复制',\n          'rect-粘贴',\n          'rect-删除',\n          null,\n          'rect-锁定',\n          'rect-解锁',\n          // 'rect-隐藏',\n          null,\n          'rect-组合',\n          'rect-打散',\n          null,\n          'rect-置顶',\n          'rect-置底',\n        ]\n      }\n      else if (type === 'page') {\n        height = 200\n        actionTypes = [\n          'page-重命名',\n          'page-新建子页面',\n          'page-删除',\n        ]\n      }\n      else if (type === 'canvas') {\n        height = 40\n        actionTypes = [\n          'rect-粘贴',\n        ]\n      }\n      actions = actionTypes.map(actionType => {\n        if (!actionType) {\n          return actionType\n        }\n        return {\n          ...this._actionGet(actionType),\n          context: this,\n        }\n      })\n      this.$contextmenu(e, height, actions)\n    },\n    _updateCurrRectOpacity (opacity) {\n      if (this._checkIsTempGroup(this.currRect)) {\n        this._getRectsByGroup(this.currRect).forEach(rect => {\n          this._commandRectDataPropUpdate(rect, 'opacity', opacity)\n        })\n      }\n      this._commandRectDataPropUpdate(this.currRect, 'opacity', opacity)\n    },\n  }\n}","import {\n  getRectInfo,\n  tNumber,\n} from '@/core/base'\nexport default {\n  data () {\n    return {\n      // 辅助线\n      guide: {\n        line: {\n          top: new Set(),\n          left: new Set(),\n        },\n        show: {\n          top: new Set(),\n          left: new Set(),\n        }\n      },\n    }\n  },\n  methods: {\n    // 更新辅助线\n    _updateGuide () {\n      let currRectId = this.currRectId\n      let currRect = this.currRect\n      this._clearGuideLine()\n      this._getRectsByPageDeep().forEach(rect => {\n        let rectId = rect.id\n        let groupId = rect.groupId\n        let tempGroupId = rect.tempGroupId\n        // 排除本身\n        if (rectId === currRectId){\n          return\n        }\n        // 排除的子元素\n        if ( (groupId === currRectId) || (tempGroupId === currRectId)){\n          return\n        }\n        // 排除父元素\n        if (this._checkIsGroup(rect) && this._getRectsByGroup(rect).includes(currRect)){\n          return\n        }\n        // 如果父元素在 tempGroup 也排除\n        if (groupId){\n          if (this._getRectById(groupId).tempGroupId === currRectId){\n            return\n          }\n        }\n        let tempInfo = rect.tempData\n        this.guide.line.left\n          .add(tempInfo.rotateLeftTop.left)\n          .add(tempInfo.rotateRightTop.left)\n          .add(tempInfo.rotateRightBottom.left)\n          .add(tempInfo.rotateLeftBottom.left)\n          .add(tempInfo.center.left)\n        \n        this.guide.line.top\n          .add(tempInfo.rotateLeftTop.top)\n          .add(tempInfo.rotateRightTop.top)\n          .add(tempInfo.rotateRightBottom.top)\n          .add(tempInfo.rotateLeftBottom.top)\n          .add(tempInfo.center.top)\n      })\n    },\n    _checkRectPointGuide (\n      rect, \n      pointInfo, \n      mx, \n      my\n    ) {\n      let min = 5\n      let guideLeft = this.guide.line.left\n      let guideTop = this.guide.line.top\n      let guideShowLeft = this.guide.show.left\n      let guideShowTop = this.guide.show.top\n      let tempInfo = rect.tempData\n      let nowInfo = getRectInfo(rect.data)\n      let nowPoint = nowInfo[pointInfo.name]\n      let oldPoint = tempInfo[pointInfo.name]\n      let isStop = false\n      let newPoint = {\n        left: tNumber(oldPoint.left + mx),\n        top: tNumber(oldPoint.top + my),\n      }\n\n      // 不直接用 has 对比，因为可能有 1px 的精度损失\n      let checkInGuide = (guide, num) => {\n        for (let g of guide) {\n          if (Math.abs(g - num) < 1){\n            return {\n              isIn: true,\n              value: g - num\n            }\n          }\n        }\n        return {\n          isIn: false,\n          value: 0,\n        } \n      }\n      if (pointInfo.left){\n        let isInGuide = checkInGuide(guideLeft, nowPoint.left)\n        if (isInGuide.isIn){\n          if (Math.abs(newPoint.left - nowPoint.left) <= min){\n            mx = nowPoint.left - oldPoint.left + isInGuide.value\n            isStop = true\n          }\n          guideShowLeft.add(nowPoint.left + isInGuide.value)\n        }\n      }\n      if (pointInfo.top){\n        let isInGuide = checkInGuide(guideTop, nowPoint.top)\n        if (isInGuide.isIn){\n          if (Math.abs(newPoint.top - nowPoint.top) <= min){\n            my = nowPoint.top - oldPoint.top + isInGuide.value\n            isStop = true\n          }\n          guideShowTop.add(nowPoint.top + isInGuide.value)\n        }\n      }\n      return [\n        mx,\n        my,\n        isStop,\n      ]\n    },\n    _checkGuideOnMove (\n      rect, \n      mx, \n      my\n    ) {\n      // 检查辅助线\n      this._clearGuideShow()\n      ;['rotateLeftTop', 'rotateRightTop', 'rotateRightBottom', 'rotateLeftBottom', 'center'].forEach(name => {\n        let pointInfo = {\n          name,\n          top: true,\n          left: true,\n        }\n        ;[mx, my] = this._checkRectPointGuide(rect, pointInfo, mx, my)\n      })\n      return [mx, my]\n    },\n    _checkGuideOnResize (\n      rect, \n      dir, \n      mx, \n      my\n    ) {\n      this._clearGuideShow()\n      let angle = rect.data.angle\n      // 只处理角度为 0 \n      if (angle === 0){\n        let pointInfo = {\n          'a': {\n            name: 'rotateLeftTop',\n            left: true,\n            top: true,\n          },\n          'b': {\n            name: 'rotateRightTop',\n            left: true,\n            top: true,\n          },\n          'c': {\n            name: 'rotateRightBottom',\n            left: true,\n            top: true,\n          },\n          'd': {\n            name: 'rotateLeftBottom',\n            left: true,\n            top: true,\n          },\n          'ab': {\n            name: 'rotateLeftTop',\n            left: false,\n            top: true,\n          },\n          'bc': {\n            name: 'rotateRightTop',\n            left: true,\n            top: false, \n          },\n          'cd': {\n            name: 'rotateRightBottom',\n            left: false,\n            top: true,\n          },\n          'ad': {\n            name: 'rotateLeftBottom',\n            left: true,\n            top: false, \n          },\n        }[dir]\n        ;[mx, my] = this._checkRectPointGuide(rect, pointInfo, mx, my)\n      }\n      return [mx, my]\n    },\n    _checkGuideOnRotate (\n      oldAngle, \n      nowAngle, \n      newAngle, \n      angleDiff\n    ) {\n      let min = 5\n      if (nowAngle % 90 === 0){\n        if (Math.abs(newAngle - nowAngle) <= min){\n          angleDiff = nowAngle - oldAngle\n        }\n        // 如果 nowAngle 0，则需要再用 360 计算一下\n        if (nowAngle === 0){\n          if (Math.abs(newAngle - 360) <= min){\n            angleDiff = nowAngle - oldAngle\n          }\n        }\n      }\n      return angleDiff\n    },\n    _clearGuideLine () {\n      this.guide.line.left = new Set()\n      this.guide.line.top = new Set()\n    },\n    _clearGuideShow () {\n      this.guide.show.left = new Set()\n      this.guide.show.top = new Set()\n    },\n  }\n}","export default {\n  data () {\n    let me = this\n    return {\n      actionMap: {\n        'rect-重命名': {\n          checkF: '_actionCanCurrRect',\n          doF: () => {\n            me._commandRectDataPropUpdate(this.currRect, 'isNameEdit', true)\n          }\n        },\n        'rect-全选': {\n          doF: '_actionRectSelectAll',\n          hotkey: 'command + a, ctrl + a',\n        },\n        'rect-剪切': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectCut',\n          hotkey: 'command + x, ctrl + x',\n        },\n        'rect-复制': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectCopy',\n          hotkey: 'command + c, ctrl + c'\n        },\n        'rect-粘贴': {\n          checkF: '_actionCanRectPaste',\n          doF: '_actionRectPaste',\n          hotkey: 'command + v, ctrl + v'\n        },\n        'rect-删除': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectDelete',\n          hotkey: 'backspace'\n        },\n        'rect-锁定': {\n          checkF: '_actionCanRectLock',\n          doF: '_actionRectLock',\n          hotkey: 'command + l, ctrl + l'\n        },\n        'rect-解锁': {\n          checkF: '_actionCanRectUnLock',\n          doF: '_actionRectUnLock',\n          hotkey: 'command + shift + l, ctrl + shift + l'\n        },\n        'rect-组合': {\n          checkF: '_actionCanGroup',\n          doF: '_actionGroup',\n          hotkey: 'command + g, ctrl + g'\n        },\n        'rect-打散': {\n          checkF: '_actionCanUnGroup',\n          doF: '_actionUnGroup',\n          hotkey: 'command + shift + g, ctrl + shift + g'\n        },\n        'rect-上移': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectMoveUp',\n          hotkey: 'command + alt + up, ctrl + alt + up',\n        },\n        'rect-下移': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectMoveDown',\n          hotkey: 'command + alt + down, ctrl + alt + down',\n        },\n        'rect-置顶': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectMoveTop',\n          hotkey: 'command + shift + up, ctrl + shift + up',\n        },\n        'rect-置底': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectMoveBottom',\n          hotkey: 'command + shift + down, ctrl + shfit + down',\n        },\n        'rect-keyupMove': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectKeyupMove',\n          hotkey: 'up',\n        },\n        'rect-keydownMove': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectKeydownMove',\n          hotkey: 'down',\n        },\n        'rect-keyleftMove': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectKeyleftMove',\n          hotkey: 'left',\n        },\n        'rect-keyrightMove': {\n          checkF: '_actionCanCurrRect',\n          doF: '_actionRectKeyrightMove',\n          hotkey: 'right',\n        },\n        // page\n        'page-重命名': {\n          checkF: '',\n          doF: () => {\n            me._commandObjectDataPropUpdate(me.currPage, 'isNameEdit', true) \n          },\n        },\n        'page-新建子页面': {\n          checkF: '',\n          doF: () => {\n            me._actionPageCreate(me.currPage.id)\n          },\n        },\n        'page-删除': {\n          checkF: '_actionCanPageDelete',\n          doF: '_actionPageDelete',\n        },\n        // sys\n        'sys-撤销': {\n          checkF: () => {\n            return !me.mouse.ing && \n              me._historyCanBack()\n          },\n          doF: '_historyBack',\n          hotkey: 'command + z, ctrl + z',\n        },\n        'sys-重做': {\n          checkF: () => {\n            return !me.mouse.ing && \n              me._historyCanGo()\n          },\n          doF: '_historyGo',\n          hotkey: 'command + shift + z, ctrl + shift + z',\n        },\n      }\n    }\n  },\n  methods: {\n    _actionGetInfo () {\n      let rect = this.objects[this.currRectId]\n      let isTempGroup = rect && this._checkIsTempGroup(rect)\n      let isGroup = rect && this._checkIsGroup(rect)\n      return {\n        rect,\n        isTempGroup,\n        isGroup,\n      }\n    },\n    // page\n    _actionPageCreate (parentId = this.currProjectId) {\n      let page = this._createPage(parentId)\n      this._commandObjectDataPropUpdate(page, 'isNameEdit', true)\n      this._updateCurrPage(page)\n      this._historyPush()\n    },\n    _actionCanPageDelete () {\n      let cannot = (this.currPage.parentId === this.currProject.id) &&\n        !this.currProject.pages.tailId\n      return !cannot\n    },\n    _actionPageDelete () {\n      this._removePage()\n      this._historyPush()\n    },\n    // rect\n    _actionRectKeyupMove () {\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, 0, -1, false)\n      this._historyPush()\n    },\n    _actionRectKeydownMove () {\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, 0, 1, false)\n      this._historyPush()\n    },\n    _actionRectKeyleftMove () {\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, -1, 0, false)\n      this._historyPush()\n    },\n    _actionRectKeyrightMove () {\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, 1, 0, false)\n      this._historyPush()\n    },\n    _actionRectSelectAll () {\n      this._blurRect()\n      this._walkCurrPageRects((rect) => {\n        this._focusRect(rect, {shiftKey: true}, false)\n      })\n      this._updateCurrRectBySelected()\n    },\n    _actionCanGroup () {\n      return this._actionGetInfo().isTempGroup\n    },\n    _actionGroup () {\n      let currRect = this.objects[this.currRectId]\n      let newGroup = this._createRect('group')\n      let rects = this._getRectsByRectDeep(currRect)\n      this._bindGroup(newGroup, rects)\n      // 处理 selected\n      rects.forEach(rect => {\n        this._removeSelectedRect(rect)\n      })\n      this._addSelectedRect(newGroup)\n      this._updateCurrRectBySelected()\n      this._historyPush()\n    },\n    _actionCanUnGroup () {\n      return this._actionGetInfo().isGroup\n    },\n    _actionUnGroup () {\n      let currRect = this.objects[this.currRectId]\n      let rects = this._getRectsByRectDeep(currRect)\n      this._unbindGroup(currRect)\n      // 处理 selected\n      rects.forEach(rect => {\n        this._addSelectedRect(rect)\n      })\n      this._removeSelectedRect(currRect)\n      this._updateCurrRectBySelected()\n      this._historyPush()\n    },\n    _actionRectDelete () {\n      let currRect = this.objects[this.currRectId]\n      this._getRectsByRectDeep(currRect).forEach(rect => {\n        this._removeRectById(rect.id)\n      })\n      this._updateCurrRect()\n      this._historyPush()\n    },\n    _actionRectCopy () {\n      this._commandPropUpdate('clipboard.count', 0)\n      this._commandPropUpdate('clipboard.data',\n        this._getUnLockRectsBySelected().map(rect => this._cloneRectDeep(rect))\n      )\n    },\n    _actionRectCut () {\n      this._actionRectCopy()\n      this._actionRectDelete()\n    },\n    _actionCanRectPaste () {\n      return this.clipboard.data.length > 0\n    },\n    _actionRectPaste () {\n      let pasteCount = ++ this.clipboard.count\n      let moveDis = pasteCount * 20\n      this._clearSelectedRects()\n      // todo，粘贴的位置还得考虑\n      this.clipboard.data.map(config => {\n        let rect = this._createRectByConfig(config)\n        this._addSelectedRect(rect)\n        return rect\n      })\n      this._updateCurrRectBySelected()\n      this._updateRectTempData(this.currRectId)\n      this._move(this.currRectId, moveDis, moveDis)\n      this._clearGuideShow()\n      this._historyPush()\n    },\n    _actionCanCurrRect () {\n      return this.currRectId\n    },\n    _actionRectMoveUp () {\n      let rects = []\n      if (this.tempGroupId){\n        rects = this._getRectsByGroup(this.currRectId)\n      }\n      else {\n        rects = [this.objects[this.currRectId]]\n      }\n      rects.forEach(rect => {\n        let parent = this.objects[rect.parentId]\n        this._linkedListMoveUp(parent, rect)\n      })\n      this._historyPush()\n    },\n    _actionRectMoveDown () {\n      let rects = []\n      if (this.tempGroupId){\n        rects = this._getRectsByGroup(this.currRectId)\n      }\n      else {\n        rects = [this.objects[this.currRectId]]\n      }\n      rects.forEach(rect => {\n        let parent = this.objects[rect.parentId]\n        this._linkedListMoveDown(parent, rect)\n      })\n      this._historyPush()\n    },\n    _actionRectMoveTop () {\n      let rects = []\n      if (this.tempGroupId){\n        rects = this._getRectsByGroup(this.currRectId)\n      }\n      else {\n        rects = [this.objects[this.currRectId]]\n      }\n      rects.forEach(rect => {\n        let parent = this.objects[rect.parentId]\n        this._linkedListMoveTop(parent, rect)\n      })\n      this._historyPush()\n    },\n    _actionRectMoveBottom () {\n      let rects = []\n      if (this.tempGroupId){\n        rects = this._getRectsByGroup(this.currRectId)\n      }\n      else {\n        rects = [this.objects[this.currRectId]]\n      }\n      rects.forEach(rect => {\n        let parent = this.objects[rect.parentId]\n        this._linkedListMoveBottom(parent, rect)\n      })\n      this._historyPush()\n    },\n    _actionCanRectLock () {\n      return this._getUnLockRectsBySelected().length\n    },\n    _actionCanRectUnLock () {\n      return this._getLockRectsBySelected().length\n    },\n    _actionRectLock () {\n      for (let rect in this.selectedRects) {\n        rect = this._safeObject(rect)\n        this._commandRectDataPropUpdate(rect, 'isLock', true)\n      }\n      this._updateCurrRectBySelected()\n      this._historyPush()\n    },\n    _actionRectUnLock () { \n      for (let rect in this.selectedRects) {\n        rect = this._safeObject(rect)\n        this._commandRectDataPropUpdate(rect, 'isLock', false)\n      }\n      this._updateCurrRectBySelected()\n      this._historyPush()\n    },\n    _actionCanRectAlign () {\n      return this._actionGetInfo().isTempGroup\n    },\n    // 左对齐\n    _actionRectAlignLeft () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupLeft = this.currRect.tempData.left\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveLeft = tempGroupLeft - rect.tempData.minRotateLeft\n        this._move(rect, moveLeft, 0, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // 左右对齐\n    _actionRectAlignLeftRight () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupCenterLeft = this.currRect.tempData.center.left\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveLeft = tempGroupCenterLeft - rect.tempData.center.left\n        this._move(rect, moveLeft, 0, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // 右对齐\n    _actionRectAlignRight () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupRight = this.currRect.tempData.right\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveLeft = tempGroupRight - rect.tempData.maxRotateLeft\n        this._move(rect, moveLeft, 0, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // 上对齐\n    _actionRectAlignTop () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupTop = this.currRect.tempData.top\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveTop = tempGroupTop - rect.tempData.minRotateTop\n        this._move(rect, 0, moveTop, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // 上下对齐\n    _actionRectAlignTopBottom () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupCenterTop = this.currRect.tempData.center.top\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveTop = tempGroupCenterTop - rect.tempData.center.top\n        this._move(rect, 0, moveTop, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // 下对齐\n    _actionRectAlignBottom () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupBottom = this.currRect.tempData.bottom\n      this._getRectsByGroup(this.currRect).forEach(rect => {\n        let moveTop = tempGroupBottom - rect.tempData.maxRotateTop\n        this._move(rect, 0, moveTop, false)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    // 等间距排序\n    _actionCanRectEqualSpace () {\n      let isTempGroup = this._actionGetInfo().isTempGroup\n      if (!isTempGroup) {\n        return false\n      }\n      let rects = this._getRectsByGroup(this.currRect)\n      return rects.length > 2\n    },\n    _actionRectEqualSpaceX () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupWidth = this.currRect.data.width\n      let rects = this._getRectsByGroup(this.currRect)\n      let rectsWidth = 0\n      rects.forEach(rect => {\n        rectsWidth += (rect.tempData.maxRotateLeft - rect.tempData.minRotateLeft)\n      })\n      // 求出每份留白的长度，等间距也就是每份留白相等\n      let perSpace = (tempGroupWidth - rectsWidth) / (rects.length - 1)\n      let sortRects = rects\n        .sort((a, b) => a.tempData.minRotateLeft - b.tempData.minRotateLeft )\n      // 第一个是不动的\n      sortRects.slice(0).forEach( (rect, i) => {\n        if (i === 0) {\n          return\n        }\n        let moveLeft = sortRects[i - 1].tempData.maxRotateLeft +\n          perSpace - \n          rect.tempData.minRotateLeft\n        this._move(rect, moveLeft, 0, false)\n        this._updateRectTempData(rect)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    _actionRectEqualSpaceY () {\n      this._updateRectTempData(this.currRect)\n      let tempGroupHeight = this.currRect.data.height\n      let rects = this._getRectsByGroup(this.currRect)\n      let rectsHeight = 0\n      rects.forEach(rect => {\n        rectsHeight += (rect.tempData.maxRotateTop - rect.tempData.minRotateTop)\n      })\n      // 求出每份留白的长度，等间距也就是每份留白相等\n      let perSpace = (tempGroupHeight - rectsHeight) / (rects.length - 1)\n      let sortRects = rects\n        .sort((a, b) => a.tempData.minRotateTop - b.tempData.minRotateTop )\n      // 第一个是不动的\n      sortRects.slice(0).forEach( (rect, i) => {\n        if (i === 0) {\n          return\n        }\n        let moveTop = sortRects[i - 1].tempData.maxRotateTop +\n          perSpace - \n          rect.tempData.minRotateTop\n        this._move(rect, 0, moveTop, false)\n        this._updateRectTempData(rect)\n      })\n      this._updateGroupSize(this.currRect)\n    },\n    _actionGet (type) {\n      let action = this.actionMap[type]\n      let checkF = action.checkF || (() => true)\n      if (typeof checkF === 'string') {\n        checkF = this[checkF]\n      }\n      let doF = action.doF || (() => {})\n      if (typeof doF === 'string') {\n        doF = this[doF]\n      }\n      let text = type.split('-')[1] || 'unknow'\n      return {\n        ...action,\n        doF,\n        checkF,\n        text,\n      }\n    },\n    _actionSetHotKey () {\n      for (let type in this.actionMap) {\n        let {checkF, doF, hotkey} = this._actionGet(type)\n        if (hotkey) {\n          hotkey.split(',').forEach(key => {\n            this._hotkey(key, (e) => {\n              if (checkF.call(this)) {\n                e.preventDefault()\n                doF.call(this)\n              }\n            })\n          })\n        }\n      }\n    }\n  },\n  mounted () {\n    this._actionSetHotKey()\n  }\n}","import {\n  middleLeft,\n  middleTop,\n  tNumber,\n} from '@/core/base'\nimport event from '@/core/event'\nexport default {\n  data () {\n    return {\n      mouse: {\n        ing: false,\n        // 是否做出有效动作\n        realIng: false,\n        startLeft: 0,\n        startTop: 0,\n        currLeft: 0,\n        currTop: 0,\n        // eventType 解释\n        // move: 移动 rect\n        // resize: 放大 rect\n        // rotate: 旋转 rect\n        // create: 新建 rect\n        // cirlce: 圈选组件\n        // movePage: 页面列表移动排序\n        eventType: '',\n        resizerDir: '',\n        createType: '',\n        // 鼠标对象\n        e: {},\n      },\n    }\n  },\n  methods: {\n  },\n  created () {\n    let me = this\n    let mouse = this.mouse\n    let mousedown = (e) => {\n      event.$emit('windowMouseDown', e)\n    }\n    let mousemove = (e) => {\n      let currRect = this.objects[this.currRectId]\n      if (!mouse.ing){\n        return\n      }\n      mouse.realIng = true\n      mouse.e = e\n      let scale = this.scale\n      let mousePoint = this._getMousePoint(e)\n      let left = mouse.currLeft = mousePoint.left \n      let top = mouse.currTop = mousePoint.top\n      let eventType = mouse.eventType\n      let mx = (left - mouse.startLeft) / scale\n      let my = (top - mouse.startTop) / scale\n\n      if (eventType === 'resize'){\n        me._resize(mx, my)\n      }\n      else if (eventType === 'rotate'){\n        let mousePoint = {\n          left: mouse.currLeft,\n          top: mouse.currTop,\n        }\n        me._rotate(mousePoint)\n      }\n      else if (eventType === 'move'){\n        me._move(currRect, mx, my)\n      }\n      else if (eventType === 'create'){\n        if ( (e.clientX > middleLeft) && (e.clientY > middleTop) ){\n          let createType = mouse.createType\n          let data = this.rectConfig[createType]\n          let rect = this._createRect(createType)\n          this._updateRectTempData(rect)\n          this._moveTo(rect, \n            tNumber(left - data.width / 2),\n            tNumber(top - data.height / 2)\n          )\n          mouse.eventType = 'move'\n          mouse.startLeft = left\n          mouse.startTop = top\n          me._focusRect(rect, e)\n        }\n      }\n    }\n    let mouseup = () => {\n      if (!mouse.ing){\n        return\n      }\n      // circle 在结束时候判定，提高性能\n      if (mouse.eventType === 'circle'){\n        this._focusRectWhenCircle()\n      }\n      mouse.ing = false\n      mouse.eventType = ''\n      mouse.e = {}\n      this._clearGuideShow()\n      if (mouse.realIng) {\n        this._historyPush()\n      }\n      mouse.realIng = false\n    }\n    this.windowEventAdd('mousedown', mousedown)\n    this.windowEventAdd('mousemove', mousemove)\n    this.windowEventAdd('mouseup', mouseup)\n    // 右键\n    this.windowEventAdd('contextmenu', (e) => {\n      e.preventDefault()\n    })\n    // event\n    event.$on('windowMouseDown', (e) => {\n      let mousePoint = this._getMousePoint(e)\n      mouse.startLeft = mouse.currLeft = mousePoint.left\n      mouse.startTop = mouse.currTop = mousePoint.top\n      if (!this.currRectId && this.mouse.eventType === 'move') {\n        mouse.ing = false\n      }\n      else {\n        mouse.ing = true\n      }\n    })\n  },\n  mounted () {\n    let $middle = this.$refs.middle\n    $middle.addEventListener('scroll', () => {\n      this._renderRule()\n    })\n  }\n}","// 参考\n// https://github.com/jaywcjlove/hotkeys/blob/master/src/var.js\nlet isff = \n  typeof navigator !== 'undefined' ? \n  navigator.userAgent.toLowerCase().indexOf('firefox') > 0 : \n  false\n// Special Keys\nlet keyMap = {\n  backspace: 8,\n  tab: 9,\n  clear: 12,\n  enter: 13,\n  return: 13,\n  esc: 27,\n  escape: 27,\n  space: 32,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  del: 46,\n  delete: 46,\n  ins: 45,\n  insert: 45,\n  home: 36,\n  end: 35,\n  pageup: 33,\n  pagedown: 34,\n  capslock: 20,\n  '⇪': 20,\n  ',': 188,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '-': isff ? 173 : 189,\n  '=': isff ? 61 : 187,\n  ';': isff ? 59 : 186,\n  '\\'': 222,\n  '[': 219,\n  ']': 221,\n  '\\\\': 220,\n}\n// Modifier Keys\nlet modifier = {\n  // shiftKey\n  '⇧': 16,\n  shift: 16,\n  // altKey\n  '⌥': 18,\n  alt: 18,\n  option: 18,\n  // ctrlKey\n  '⌃': 17,\n  ctrl: 17,\n  control: 17,\n  // metaKey\n  '⌘': 91,\n  cmd: 91,\n  command: 91,\n}\nlet code = (x) => {\n  if (typeof x === 'number') {\n    return x\n  }\n  x = x.trim()\n  return keyMap[x.toLowerCase()] ||\n    modifier[x.toLowerCase()] ||\n    x.toUpperCase().charCodeAt(0)\n}\nexport default {\n  data () {\n    return {\n      hotkey: {\n        data: {},\n        disabled: false,\n      }\n    }\n  },\n  methods: {\n    _hotkey (\n      hotkey, \n      keydown = () => {}, \n      keyup = () => {},\n    ) {\n      this.hotkey.data[this._hotkeyCode(hotkey.split('+'))] = {\n        hotkey,\n        keydown,\n        keyup,\n      }\n    },\n    _hotkeyOff () {\n      this.hotkey.disabled = true\n    },\n    _hotkeyOn () {\n      this.hotkey.disabled = false\n    },\n    _hotkeyCode (keys) {\n      return keys.map(key => code(key)).sort().join('+')\n    },\n    _hotkeyEvent (e) {\n      if (e.target.tagName.toLowerCase() === 'input') {\n        return\n      }\n      if (this.hotkey.disabled) {\n        return\n      }\n      let modifierInfo = {\n        ctrl: e.ctrlKey,\n        alt: e.altKey,\n        shift: e.shiftKey,\n        command: e.metaKey,\n      }\n      let modifiers = []\n      for (let mk in modifierInfo) {\n        if (modifierInfo[mk]) {\n          modifiers.push(mk)\n        }\n      }\n      let eventType = e.type\n      let hotkeyCode = this._hotkeyCode([e.keyCode, ...modifiers])\n      if (hotkeyCode in this.hotkey.data) {\n        let hotkeyObject = this.hotkey.data[hotkeyCode]\n        hotkeyObject[eventType](e)\n      }\n    },\n  },\n  mounted () {\n    this.windowEventAdd('keydown', (e) => {\n      this._hotkeyEvent(e)\n    })\n  }\n}","export default {\n  methods: {\n    _onPageShow () {},\n    _onPageHide () {},\n  },\n  watch: {\n    '$route' (from ,to) {\n      if (from.path === to.path) {\n        this._onPageShow()\n      }\n      else {\n        this._onPageHide()\n      }\n    }\n  },\n  mounted () {\n    this._onPageShow()\n  },\n  beforeDestroy () {\n    this._onPageHide()\n  }\n}","<style lang=\"scss\">\n@import './index.scss';\n</style>\n<script>\nimport historyMixin from  './mixin/history'\nimport commandMixin from  './mixin/command'\nimport lindedListMixin from './mixin/linked-list'\nimport windowEventRegMixin from './mixin/window-event-reg'\nimport dbMixin from './mixin/db'\nimport resizeMixin from './mixin/resize'\nimport rotateMixin from './mixin/rotate'\nimport moveMixin from './mixin/move'\nimport renderMixin from './mixin/render'\nimport dataMixin from  './mixin/data'\nimport guideMixin from './mixin/guide'\nimport actionMixin from './mixin/action'\nimport windowEventMixin from './mixin/window-event'\nimport hotkeyMixin from './mixin/hotkey'\nimport pageHookMixin from './mixin/pageHook'\nexport default {\n  name: 'design',\n  mixins: [\n    dbMixin,\n    resizeMixin,\n    rotateMixin,\n    moveMixin,\n    renderMixin,\n    dataMixin,\n    guideMixin,\n    historyMixin,\n    commandMixin,\n    actionMixin,\n    lindedListMixin,\n    windowEventRegMixin,\n    windowEventMixin,\n    hotkeyMixin,\n    pageHookMixin,\n  ],\n  methods: {\n  },\n  render (h) {\n    this.renderHook\n    return this._renderMain(h)\n  }\n}\n</script>","import mod from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.2.1.3@thread-loader/dist/cjs.js!../../../node_modules/.8.1.0@babel-loader/lib/index.js!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Spectre from '@/components/spectre/index'\nimport 'vue-awesome/icons'\nimport Icon from 'vue-awesome/components/Icon'\nimport Design from '@/components/design/index'\nVue.use(Spectre)\nVue.use(VueRouter)\nVue.component('v-icon', Icon)\nVue.config.productionTip = false\nconst routes = [\n  {\n    path: '/', \n    component: Design,\n    name: 'design',\n  },\n]\nconst router = new VueRouter({\n  routes,\n})\nnew Vue({\n  router\n}).$mount('#app')","import mod from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/.0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.15.9.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}